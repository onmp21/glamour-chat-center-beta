var XE=Object.defineProperty;var uv=e=>{throw TypeError(e)};var ej=(e,t,r)=>t in e?XE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Re=(e,t,r)=>ej(e,typeof t!="symbol"?t+"":t,r),sf=(e,t,r)=>t.has(e)||uv("Cannot "+r);var U=(e,t,r)=>(sf(e,t,"read from private field"),r?r.call(e):t.get(e)),Me=(e,t,r)=>t.has(e)?uv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),be=(e,t,r,n)=>(sf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Nt=(e,t,r)=>(sf(e,t,"access private method"),r);var lc=(e,t,r,n)=>({set _(s){be(e,t,s,r)},get _(){return U(e,t,n)}});function tj(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ox(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rj(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Rx={exports:{}},sd={},Ix={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=Symbol.for("react.element"),nj=Symbol.for("react.portal"),sj=Symbol.for("react.fragment"),aj=Symbol.for("react.strict_mode"),oj=Symbol.for("react.profiler"),ij=Symbol.for("react.provider"),lj=Symbol.for("react.context"),cj=Symbol.for("react.forward_ref"),uj=Symbol.for("react.suspense"),dj=Symbol.for("react.memo"),fj=Symbol.for("react.lazy"),dv=Symbol.iterator;function hj(e){return e===null||typeof e!="object"?null:(e=dv&&e[dv]||e["@@iterator"],typeof e=="function"?e:null)}var Lx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$x=Object.assign,Mx={};function hi(e,t,r){this.props=e,this.context=t,this.refs=Mx,this.updater=r||Lx}hi.prototype.isReactComponent={};hi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dx(){}Dx.prototype=hi.prototype;function Km(e,t,r){this.props=e,this.context=t,this.refs=Mx,this.updater=r||Lx}var Ym=Km.prototype=new Dx;Ym.constructor=Km;$x(Ym,hi.prototype);Ym.isPureReactComponent=!0;var fv=Array.isArray,Fx=Object.prototype.hasOwnProperty,Qm={current:null},Ux={key:!0,ref:!0,__self:!0,__source:!0};function zx(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Fx.call(t,n)&&!Ux.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:zl,type:e,key:a,ref:o,props:s,_owner:Qm.current}}function mj(e,t){return{$$typeof:zl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jm(e){return typeof e=="object"&&e!==null&&e.$$typeof===zl}function pj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var hv=/\/+/g;function af(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pj(""+e.key):t.toString(36)}function zc(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zl:case nj:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+af(o,0):n,fv(s)?(r="",e!=null&&(r=e.replace(hv,"$&/")+"/"),zc(s,t,r,"",function(u){return u})):s!=null&&(Jm(s)&&(s=mj(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hv,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",fv(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+af(a,l);o+=zc(a,t,r,c,s)}else if(c=hj(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+af(a,l++),o+=zc(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function cc(e,t,r){if(e==null)return e;var n=[],s=0;return zc(e,n,"","",function(a){return t.call(r,a,s++)}),n}function gj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zt={current:null},Vc={transition:null},vj={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:Vc,ReactCurrentOwner:Qm};function Vx(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:cc,forEach:function(e,t,r){cc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cc(e,function(){t++}),t},toArray:function(e){return cc(e,function(t){return t})||[]},only:function(e){if(!Jm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=hi;je.Fragment=sj;je.Profiler=oj;je.PureComponent=Km;je.StrictMode=aj;je.Suspense=uj;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vj;je.act=Vx;je.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$x({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Qm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Fx.call(t,c)&&!Ux.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:zl,type:e.type,key:s,ref:a,props:n,_owner:o}};je.createContext=function(e){return e={$$typeof:lj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ij,_context:e},e.Consumer=e};je.createElement=zx;je.createFactory=function(e){var t=zx.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:cj,render:e}};je.isValidElement=Jm;je.lazy=function(e){return{$$typeof:fj,_payload:{_status:-1,_result:e},_init:gj}};je.memo=function(e,t){return{$$typeof:dj,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=Vc.transition;Vc.transition={};try{e()}finally{Vc.transition=t}};je.unstable_act=Vx;je.useCallback=function(e,t){return zt.current.useCallback(e,t)};je.useContext=function(e){return zt.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return zt.current.useDeferredValue(e)};je.useEffect=function(e,t){return zt.current.useEffect(e,t)};je.useId=function(){return zt.current.useId()};je.useImperativeHandle=function(e,t,r){return zt.current.useImperativeHandle(e,t,r)};je.useInsertionEffect=function(e,t){return zt.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return zt.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return zt.current.useMemo(e,t)};je.useReducer=function(e,t,r){return zt.current.useReducer(e,t,r)};je.useRef=function(e){return zt.current.useRef(e)};je.useState=function(e){return zt.current.useState(e)};je.useSyncExternalStore=function(e,t,r){return zt.current.useSyncExternalStore(e,t,r)};je.useTransition=function(){return zt.current.useTransition()};je.version="18.3.1";Ix.exports=je;var p=Ix.exports;const B=Ox(p),Zm=tj({__proto__:null,default:B},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yj=p,xj=Symbol.for("react.element"),wj=Symbol.for("react.fragment"),bj=Object.prototype.hasOwnProperty,_j=yj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sj={key:!0,ref:!0,__self:!0,__source:!0};function Bx(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)bj.call(t,n)&&!Sj.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:xj,type:e,key:a,ref:o,props:s,_owner:_j.current}}sd.Fragment=wj;sd.jsx=Bx;sd.jsxs=Bx;Rx.exports=sd;var i=Rx.exports,fh={},Wx={exports:{}},dr={},Hx={exports:{}},Gx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,$){var W=N.length;N.push($);e:for(;0<W;){var oe=W-1>>>1,ie=N[oe];if(0<s(ie,$))N[oe]=$,N[W]=ie,W=oe;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var $=N[0],W=N.pop();if(W!==$){N[0]=W;e:for(var oe=0,ie=N.length,M=ie>>>1;oe<M;){var z=2*(oe+1)-1,te=N[z],ge=z+1,Q=N[ge];if(0>s(te,W))ge<ie&&0>s(Q,te)?(N[oe]=Q,N[ge]=W,oe=ge):(N[oe]=te,N[z]=W,oe=z);else if(ge<ie&&0>s(Q,W))N[oe]=Q,N[ge]=W,oe=ge;else break e}}return $}function s(N,$){var W=N.sortIndex-$.sortIndex;return W!==0?W:N.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,w=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=N)n(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(u)}}function S(N){if(v=!1,b(N),!w)if(r(c)!==null)w=!0,G(C);else{var $=r(u);$!==null&&T(S,$.startTime-N)}}function C(N,$){w=!1,v&&(v=!1,x(E),E=-1),m=!0;var W=h;try{for(b($),f=r(c);f!==null&&(!(f.expirationTime>$)||N&&!P());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var ie=oe(f.expirationTime<=$);$=e.unstable_now(),typeof ie=="function"?f.callback=ie:f===r(c)&&n(c),b($)}else n(c);f=r(c)}if(f!==null)var M=!0;else{var z=r(u);z!==null&&T(S,z.startTime-$),M=!1}return M}finally{f=null,h=W,m=!1}}var j=!1,A=null,E=-1,O=5,I=-1;function P(){return!(e.unstable_now()-I<O)}function R(){if(A!==null){var N=e.unstable_now();I=N;var $=!0;try{$=A(!0,N)}finally{$?V():(j=!1,A=null)}}else j=!1}var V;if(typeof g=="function")V=function(){g(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,J=D.port2;D.port1.onmessage=R,V=function(){J.postMessage(null)}}else V=function(){y(R,0)};function G(N){A=N,j||(j=!0,V())}function T(N,$){E=y(function(){N(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,G(C))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var W=h;h=$;try{return N()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,$){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var W=h;h=N;try{return $()}finally{h=W}},e.unstable_scheduleCallback=function(N,$,W){var oe=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?oe+W:oe):W=oe,N){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,N={id:d++,callback:$,priorityLevel:N,startTime:W,expirationTime:ie,sortIndex:-1},W>oe?(N.sortIndex=W,t(u,N),r(c)===null&&N===r(u)&&(v?(x(E),E=-1):v=!0,T(S,W-oe))):(N.sortIndex=ie,t(c,N),w||m||(w=!0,G(C))),N},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(N){var $=h;return function(){var W=h;h=$;try{return N.apply(this,arguments)}finally{h=W}}}})(Gx);Hx.exports=Gx;var Cj=Hx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nj=p,lr=Cj;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qx=new Set,ul={};function Ba(e,t){qo(e,t),qo(e+"Capture",t)}function qo(e,t){for(ul[e]=t,e=0;e<t.length;e++)qx.add(t[e])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hh=Object.prototype.hasOwnProperty,Ej=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mv={},pv={};function jj(e){return hh.call(pv,e)?!0:hh.call(mv,e)?!1:Ej.test(e)?pv[e]=!0:(mv[e]=!0,!1)}function kj(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Aj(e,t,r,n){if(t===null||typeof t>"u"||kj(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vt(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ct[e]=new Vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ct[t]=new Vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ct[e]=new Vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ct[e]=new Vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ct[e]=new Vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ct[e]=new Vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ct[e]=new Vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ct[e]=new Vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ct[e]=new Vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xm=/[\-:]([a-z])/g;function ep(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xm,ep);Ct[t]=new Vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xm,ep);Ct[t]=new Vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xm,ep);Ct[t]=new Vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ct[e]=new Vt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ct[e]=new Vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function tp(e,t,r,n){var s=Ct.hasOwnProperty(t)?Ct[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Aj(t,r,s,n)&&(r=null),n||s===null?jj(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var es=Nj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uc=Symbol.for("react.element"),mo=Symbol.for("react.portal"),po=Symbol.for("react.fragment"),rp=Symbol.for("react.strict_mode"),mh=Symbol.for("react.profiler"),Kx=Symbol.for("react.provider"),Yx=Symbol.for("react.context"),np=Symbol.for("react.forward_ref"),ph=Symbol.for("react.suspense"),gh=Symbol.for("react.suspense_list"),sp=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),Qx=Symbol.for("react.offscreen"),gv=Symbol.iterator;function Ei(e){return e===null||typeof e!="object"?null:(e=gv&&e[gv]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,of;function Vi(e){if(of===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);of=t&&t[1]||""}return`
`+of+e}var lf=!1;function cf(e,t){if(!e||lf)return"";lf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{lf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vi(e):""}function Tj(e){switch(e.tag){case 5:return Vi(e.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 2:case 15:return e=cf(e.type,!1),e;case 11:return e=cf(e.type.render,!1),e;case 1:return e=cf(e.type,!0),e;default:return""}}function vh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case po:return"Fragment";case mo:return"Portal";case mh:return"Profiler";case rp:return"StrictMode";case ph:return"Suspense";case gh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yx:return(e.displayName||"Context")+".Consumer";case Kx:return(e._context.displayName||"Context")+".Provider";case np:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sp:return t=e.displayName||null,t!==null?t:vh(e.type)||"Memo";case ps:t=e._payload,e=e._init;try{return vh(e(t))}catch{}}return null}function Pj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vh(t);case 8:return t===rp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Oj(e){var t=Jx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dc(e){e._valueTracker||(e._valueTracker=Oj(e))}function Zx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Jx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function lu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yh(e,t){var r=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function vv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xx(e,t){t=t.checked,t!=null&&tp(e,"checked",t,!1)}function xh(e,t){Xx(e,t);var r=Bs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wh(e,t.type,r):t.hasOwnProperty("defaultValue")&&wh(e,t.type,Bs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function wh(e,t,r){(t!=="number"||lu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Bi=Array.isArray;function jo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bs(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(H(92));if(Bi(r)){if(1<r.length)throw Error(H(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bs(r)}}function ew(e,t){var r=Bs(t.value),n=Bs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function wv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _h(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fc,rw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fc=fc||document.createElement("div"),fc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rj=["Webkit","ms","Moz","O"];Object.keys(Yi).forEach(function(e){Rj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yi[t]=Yi[e]})});function nw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Yi.hasOwnProperty(e)&&Yi[e]?(""+t).trim():t+"px"}function sw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=nw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Ij=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sh(e,t){if(t){if(Ij[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Ch(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=null;function ap(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Eh=null,ko=null,Ao=null;function bv(e){if(e=Wl(e)){if(typeof Eh!="function")throw Error(H(280));var t=e.stateNode;t&&(t=cd(t),Eh(e.stateNode,e.type,t))}}function aw(e){ko?Ao?Ao.push(e):Ao=[e]:ko=e}function ow(){if(ko){var e=ko,t=Ao;if(Ao=ko=null,bv(e),t)for(e=0;e<t.length;e++)bv(t[e])}}function iw(e,t){return e(t)}function lw(){}var uf=!1;function cw(e,t,r){if(uf)return e(t,r);uf=!0;try{return iw(e,t,r)}finally{uf=!1,(ko!==null||Ao!==null)&&(lw(),ow())}}function fl(e,t){var r=e.stateNode;if(r===null)return null;var n=cd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(H(231,t,typeof r));return r}var jh=!1;if(Wn)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){jh=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{jh=!1}function Lj(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Qi=!1,cu=null,uu=!1,kh=null,$j={onError:function(e){Qi=!0,cu=e}};function Mj(e,t,r,n,s,a,o,l,c){Qi=!1,cu=null,Lj.apply($j,arguments)}function Dj(e,t,r,n,s,a,o,l,c){if(Mj.apply(this,arguments),Qi){if(Qi){var u=cu;Qi=!1,cu=null}else throw Error(H(198));uu||(uu=!0,kh=u)}}function Wa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function uw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _v(e){if(Wa(e)!==e)throw Error(H(188))}function Fj(e){var t=e.alternate;if(!t){if(t=Wa(e),t===null)throw Error(H(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return _v(s),e;if(a===n)return _v(s),t;a=a.sibling}throw Error(H(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?e:t}function dw(e){return e=Fj(e),e!==null?fw(e):null}function fw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fw(e);if(t!==null)return t;e=e.sibling}return null}var hw=lr.unstable_scheduleCallback,Sv=lr.unstable_cancelCallback,Uj=lr.unstable_shouldYield,zj=lr.unstable_requestPaint,it=lr.unstable_now,Vj=lr.unstable_getCurrentPriorityLevel,op=lr.unstable_ImmediatePriority,mw=lr.unstable_UserBlockingPriority,du=lr.unstable_NormalPriority,Bj=lr.unstable_LowPriority,pw=lr.unstable_IdlePriority,ad=null,mn=null;function Wj(e){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(ad,e,void 0,(e.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:qj,Hj=Math.log,Gj=Math.LN2;function qj(e){return e>>>=0,e===0?32:31-(Hj(e)/Gj|0)|0}var hc=64,mc=4194304;function Wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Wi(l):(a&=o,a!==0&&(n=Wi(a)))}else o=r&~s,o!==0?n=Wi(o):a!==0&&(n=Wi(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Br(t),s=1<<r,n|=e[r],t&=~s;return n}function Kj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yj(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Br(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Kj(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Ah(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gw(){var e=hc;return hc<<=1,!(hc&4194240)&&(hc=64),e}function df(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Br(t),e[t]=r}function Qj(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Br(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function ip(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Br(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ze=0;function vw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yw,lp,xw,ww,bw,Th=!1,pc=[],Os=null,Rs=null,Is=null,hl=new Map,ml=new Map,xs=[],Jj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cv(e,t){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":hl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(t.pointerId)}}function ki(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Wl(t),t!==null&&lp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Zj(e,t,r,n,s){switch(t){case"focusin":return Os=ki(Os,e,t,r,n,s),!0;case"dragenter":return Rs=ki(Rs,e,t,r,n,s),!0;case"mouseover":return Is=ki(Is,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return hl.set(a,ki(hl.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,ml.set(a,ki(ml.get(a)||null,e,t,r,n,s)),!0}return!1}function _w(e){var t=ga(e.target);if(t!==null){var r=Wa(t);if(r!==null){if(t=r.tag,t===13){if(t=uw(r),t!==null){e.blockedOn=t,bw(e.priority,function(){xw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ph(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Nh=n,r.target.dispatchEvent(n),Nh=null}else return t=Wl(r),t!==null&&lp(t),e.blockedOn=r,!1;t.shift()}return!0}function Nv(e,t,r){Bc(e)&&r.delete(t)}function Xj(){Th=!1,Os!==null&&Bc(Os)&&(Os=null),Rs!==null&&Bc(Rs)&&(Rs=null),Is!==null&&Bc(Is)&&(Is=null),hl.forEach(Nv),ml.forEach(Nv)}function Ai(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,Xj)))}function pl(e){function t(s){return Ai(s,e)}if(0<pc.length){Ai(pc[0],e);for(var r=1;r<pc.length;r++){var n=pc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Os!==null&&Ai(Os,e),Rs!==null&&Ai(Rs,e),Is!==null&&Ai(Is,e),hl.forEach(t),ml.forEach(t),r=0;r<xs.length;r++)n=xs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<xs.length&&(r=xs[0],r.blockedOn===null);)_w(r),r.blockedOn===null&&xs.shift()}var To=es.ReactCurrentBatchConfig,hu=!0;function e2(e,t,r,n){var s=ze,a=To.transition;To.transition=null;try{ze=1,cp(e,t,r,n)}finally{ze=s,To.transition=a}}function t2(e,t,r,n){var s=ze,a=To.transition;To.transition=null;try{ze=4,cp(e,t,r,n)}finally{ze=s,To.transition=a}}function cp(e,t,r,n){if(hu){var s=Ph(e,t,r,n);if(s===null)bf(e,t,n,mu,r),Cv(e,n);else if(Zj(s,e,t,r,n))n.stopPropagation();else if(Cv(e,n),t&4&&-1<Jj.indexOf(e)){for(;s!==null;){var a=Wl(s);if(a!==null&&yw(a),a=Ph(e,t,r,n),a===null&&bf(e,t,n,mu,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else bf(e,t,n,null,r)}}var mu=null;function Ph(e,t,r,n){if(mu=null,e=ap(n),e=ga(e),e!==null)if(t=Wa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=uw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mu=e,null}function Sw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vj()){case op:return 1;case mw:return 4;case du:case Bj:return 16;case pw:return 536870912;default:return 16}default:return 16}}var As=null,up=null,Wc=null;function Cw(){if(Wc)return Wc;var e,t=up,r=t.length,n,s="value"in As?As.value:As.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Wc=s.slice(e,1<n?1-n:void 0)}function Hc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gc(){return!0}function Ev(){return!1}function fr(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?gc:Ev,this.isPropagationStopped=Ev,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gc)},persist:function(){},isPersistent:gc}),t}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dp=fr(mi),Bl=rt({},mi,{view:0,detail:0}),r2=fr(Bl),ff,hf,Ti,od=rt({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(ff=e.screenX-Ti.screenX,hf=e.screenY-Ti.screenY):hf=ff=0,Ti=e),ff)},movementY:function(e){return"movementY"in e?e.movementY:hf}}),jv=fr(od),n2=rt({},od,{dataTransfer:0}),s2=fr(n2),a2=rt({},Bl,{relatedTarget:0}),mf=fr(a2),o2=rt({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),i2=fr(o2),l2=rt({},mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),c2=fr(l2),u2=rt({},mi,{data:0}),kv=fr(u2),d2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=h2[e])?!!t[e]:!1}function fp(){return m2}var p2=rt({},Bl,{key:function(e){if(e.key){var t=d2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?f2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fp,charCode:function(e){return e.type==="keypress"?Hc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),g2=fr(p2),v2=rt({},od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Av=fr(v2),y2=rt({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fp}),x2=fr(y2),w2=rt({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b2=fr(w2),_2=rt({},od,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S2=fr(_2),C2=[9,13,27,32],hp=Wn&&"CompositionEvent"in window,Ji=null;Wn&&"documentMode"in document&&(Ji=document.documentMode);var N2=Wn&&"TextEvent"in window&&!Ji,Nw=Wn&&(!hp||Ji&&8<Ji&&11>=Ji),Tv=" ",Pv=!1;function Ew(e,t){switch(e){case"keyup":return C2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var go=!1;function E2(e,t){switch(e){case"compositionend":return jw(t);case"keypress":return t.which!==32?null:(Pv=!0,Tv);case"textInput":return e=t.data,e===Tv&&Pv?null:e;default:return null}}function j2(e,t){if(go)return e==="compositionend"||!hp&&Ew(e,t)?(e=Cw(),Wc=up=As=null,go=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nw&&t.locale!=="ko"?null:t.data;default:return null}}var k2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ov(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!k2[e.type]:t==="textarea"}function kw(e,t,r,n){aw(n),t=pu(t,"onChange"),0<t.length&&(r=new dp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zi=null,gl=null;function A2(e){Fw(e,0)}function id(e){var t=xo(e);if(Zx(t))return e}function T2(e,t){if(e==="change")return t}var Aw=!1;if(Wn){var pf;if(Wn){var gf="oninput"in document;if(!gf){var Rv=document.createElement("div");Rv.setAttribute("oninput","return;"),gf=typeof Rv.oninput=="function"}pf=gf}else pf=!1;Aw=pf&&(!document.documentMode||9<document.documentMode)}function Iv(){Zi&&(Zi.detachEvent("onpropertychange",Tw),gl=Zi=null)}function Tw(e){if(e.propertyName==="value"&&id(gl)){var t=[];kw(t,gl,e,ap(e)),cw(A2,t)}}function P2(e,t,r){e==="focusin"?(Iv(),Zi=t,gl=r,Zi.attachEvent("onpropertychange",Tw)):e==="focusout"&&Iv()}function O2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return id(gl)}function R2(e,t){if(e==="click")return id(t)}function I2(e,t){if(e==="input"||e==="change")return id(t)}function L2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hr=typeof Object.is=="function"?Object.is:L2;function vl(e,t){if(Hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!hh.call(t,s)||!Hr(e[s],t[s]))return!1}return!0}function Lv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $v(e,t){var r=Lv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lv(r)}}function Pw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ow(){for(var e=window,t=lu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=lu(e.document)}return t}function mp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $2(e){var t=Ow(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Pw(r.ownerDocument.documentElement,r)){if(n!==null&&mp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=$v(r,a);var o=$v(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var M2=Wn&&"documentMode"in document&&11>=document.documentMode,vo=null,Oh=null,Xi=null,Rh=!1;function Mv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rh||vo==null||vo!==lu(n)||(n=vo,"selectionStart"in n&&mp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xi&&vl(Xi,n)||(Xi=n,n=pu(Oh,"onSelect"),0<n.length&&(t=new dp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vo)))}function vc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var yo={animationend:vc("Animation","AnimationEnd"),animationiteration:vc("Animation","AnimationIteration"),animationstart:vc("Animation","AnimationStart"),transitionend:vc("Transition","TransitionEnd")},vf={},Rw={};Wn&&(Rw=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function ld(e){if(vf[e])return vf[e];if(!yo[e])return e;var t=yo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Rw)return vf[e]=t[r];return e}var Iw=ld("animationend"),Lw=ld("animationiteration"),$w=ld("animationstart"),Mw=ld("transitionend"),Dw=new Map,Dv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(e,t){Dw.set(e,t),Ba(t,[e])}for(var yf=0;yf<Dv.length;yf++){var xf=Dv[yf],D2=xf.toLowerCase(),F2=xf[0].toUpperCase()+xf.slice(1);Zs(D2,"on"+F2)}Zs(Iw,"onAnimationEnd");Zs(Lw,"onAnimationIteration");Zs($w,"onAnimationStart");Zs("dblclick","onDoubleClick");Zs("focusin","onFocus");Zs("focusout","onBlur");Zs(Mw,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hi));function Fv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Dj(n,t,void 0,e),e.currentTarget=null}function Fw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Fv(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Fv(s,l,u),a=c}}}if(uu)throw e=kh,uu=!1,kh=null,e}function Qe(e,t){var r=t[Dh];r===void 0&&(r=t[Dh]=new Set);var n=e+"__bubble";r.has(n)||(Uw(t,e,2,!1),r.add(n))}function wf(e,t,r){var n=0;t&&(n|=4),Uw(r,e,n,t)}var yc="_reactListening"+Math.random().toString(36).slice(2);function yl(e){if(!e[yc]){e[yc]=!0,qx.forEach(function(r){r!=="selectionchange"&&(U2.has(r)||wf(r,!1,e),wf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yc]||(t[yc]=!0,wf("selectionchange",!1,t))}}function Uw(e,t,r,n){switch(Sw(t)){case 1:var s=e2;break;case 4:s=t2;break;default:s=cp}r=s.bind(null,t,r,e),s=void 0,!jh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function bf(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ga(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}cw(function(){var u=a,d=ap(r),f=[];e:{var h=Dw.get(e);if(h!==void 0){var m=dp,w=e;switch(e){case"keypress":if(Hc(r)===0)break e;case"keydown":case"keyup":m=g2;break;case"focusin":w="focus",m=mf;break;case"focusout":w="blur",m=mf;break;case"beforeblur":case"afterblur":m=mf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=jv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=s2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=x2;break;case Iw:case Lw:case $w:m=i2;break;case Mw:m=b2;break;case"scroll":m=r2;break;case"wheel":m=S2;break;case"copy":case"cut":case"paste":m=c2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Av}var v=(t&4)!==0,y=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,x!==null&&(S=fl(g,x),S!=null&&v.push(xl(g,S,b)))),y)break;g=g.return}0<v.length&&(h=new m(h,w,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Nh&&(w=r.relatedTarget||r.fromElement)&&(ga(w)||w[Hn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(w=r.relatedTarget||r.toElement,m=u,w=w?ga(w):null,w!==null&&(y=Wa(w),w!==y||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(v=jv,S="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Av,S="onPointerLeave",x="onPointerEnter",g="pointer"),y=m==null?h:xo(m),b=w==null?h:xo(w),h=new v(S,g+"leave",m,r,d),h.target=y,h.relatedTarget=b,S=null,ga(d)===u&&(v=new v(x,g+"enter",w,r,d),v.target=b,v.relatedTarget=y,S=v),y=S,m&&w)t:{for(v=m,x=w,g=0,b=v;b;b=eo(b))g++;for(b=0,S=x;S;S=eo(S))b++;for(;0<g-b;)v=eo(v),g--;for(;0<b-g;)x=eo(x),b--;for(;g--;){if(v===x||x!==null&&v===x.alternate)break t;v=eo(v),x=eo(x)}v=null}else v=null;m!==null&&Uv(f,h,m,v,!1),w!==null&&y!==null&&Uv(f,y,w,v,!0)}}e:{if(h=u?xo(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=T2;else if(Ov(h))if(Aw)C=I2;else{C=O2;var j=P2}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=R2);if(C&&(C=C(e,u))){kw(f,C,r,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&wh(h,"number",h.value)}switch(j=u?xo(u):window,e){case"focusin":(Ov(j)||j.contentEditable==="true")&&(vo=j,Oh=u,Xi=null);break;case"focusout":Xi=Oh=vo=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,Mv(f,r,d);break;case"selectionchange":if(M2)break;case"keydown":case"keyup":Mv(f,r,d)}var A;if(hp)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else go?Ew(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Nw&&r.locale!=="ko"&&(go||E!=="onCompositionStart"?E==="onCompositionEnd"&&go&&(A=Cw()):(As=d,up="value"in As?As.value:As.textContent,go=!0)),j=pu(u,E),0<j.length&&(E=new kv(E,e,null,r,d),f.push({event:E,listeners:j}),A?E.data=A:(A=jw(r),A!==null&&(E.data=A)))),(A=N2?E2(e,r):j2(e,r))&&(u=pu(u,"onBeforeInput"),0<u.length&&(d=new kv("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=A))}Fw(f,t)})}function xl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function pu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=fl(e,r),a!=null&&n.unshift(xl(e,a,s)),a=fl(e,t),a!=null&&n.push(xl(e,a,s))),e=e.return}return n}function eo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uv(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=fl(r,a),c!=null&&o.unshift(xl(r,c,l))):s||(c=fl(r,a),c!=null&&o.push(xl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var z2=/\r\n?/g,V2=/\u0000|\uFFFD/g;function zv(e){return(typeof e=="string"?e:""+e).replace(z2,`
`).replace(V2,"")}function xc(e,t,r){if(t=zv(t),zv(e)!==t&&r)throw Error(H(425))}function gu(){}var Ih=null,Lh=null;function $h(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mh=typeof setTimeout=="function"?setTimeout:void 0,B2=typeof clearTimeout=="function"?clearTimeout:void 0,Vv=typeof Promise=="function"?Promise:void 0,W2=typeof queueMicrotask=="function"?queueMicrotask:typeof Vv<"u"?function(e){return Vv.resolve(null).then(e).catch(H2)}:Mh;function H2(e){setTimeout(function(){throw e})}function _f(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),pl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);pl(t)}function Ls(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var pi=Math.random().toString(36).slice(2),ln="__reactFiber$"+pi,wl="__reactProps$"+pi,Hn="__reactContainer$"+pi,Dh="__reactEvents$"+pi,G2="__reactListeners$"+pi,q2="__reactHandles$"+pi;function ga(e){var t=e[ln];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Hn]||r[ln]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Bv(e);e!==null;){if(r=e[ln])return r;e=Bv(e)}return t}e=r,r=e.parentNode}return null}function Wl(e){return e=e[ln]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function cd(e){return e[wl]||null}var Fh=[],wo=-1;function Xs(e){return{current:e}}function Je(e){0>wo||(e.current=Fh[wo],Fh[wo]=null,wo--)}function qe(e,t){wo++,Fh[wo]=e.current,e.current=t}var Ws={},Pt=Xs(Ws),Zt=Xs(!1),Ta=Ws;function Ko(e,t){var r=e.type.contextTypes;if(!r)return Ws;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xt(e){return e=e.childContextTypes,e!=null}function vu(){Je(Zt),Je(Pt)}function Wv(e,t,r){if(Pt.current!==Ws)throw Error(H(168));qe(Pt,t),qe(Zt,r)}function zw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(H(108,Pj(e)||"Unknown",s));return rt({},r,n)}function yu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ws,Ta=Pt.current,qe(Pt,e),qe(Zt,Zt.current),!0}function Hv(e,t,r){var n=e.stateNode;if(!n)throw Error(H(169));r?(e=zw(e,t,Ta),n.__reactInternalMemoizedMergedChildContext=e,Je(Zt),Je(Pt),qe(Pt,e)):Je(Zt),qe(Zt,r)}var Dn=null,ud=!1,Sf=!1;function Vw(e){Dn===null?Dn=[e]:Dn.push(e)}function K2(e){ud=!0,Vw(e)}function ea(){if(!Sf&&Dn!==null){Sf=!0;var e=0,t=ze;try{var r=Dn;for(ze=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Dn=null,ud=!1}catch(s){throw Dn!==null&&(Dn=Dn.slice(e+1)),hw(op,ea),s}finally{ze=t,Sf=!1}}return null}var bo=[],_o=0,xu=null,wu=0,vr=[],yr=0,Pa=null,Un=1,zn="";function ua(e,t){bo[_o++]=wu,bo[_o++]=xu,xu=e,wu=t}function Bw(e,t,r){vr[yr++]=Un,vr[yr++]=zn,vr[yr++]=Pa,Pa=e;var n=Un;e=zn;var s=32-Br(n)-1;n&=~(1<<s),r+=1;var a=32-Br(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Un=1<<32-Br(t)+s|r<<s|n,zn=a+e}else Un=1<<a|r<<s|n,zn=e}function pp(e){e.return!==null&&(ua(e,1),Bw(e,1,0))}function gp(e){for(;e===xu;)xu=bo[--_o],bo[_o]=null,wu=bo[--_o],bo[_o]=null;for(;e===Pa;)Pa=vr[--yr],vr[yr]=null,zn=vr[--yr],vr[yr]=null,Un=vr[--yr],vr[yr]=null}var or=null,ar=null,Xe=!1,Ur=null;function Ww(e,t){var r=xr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Gv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,or=e,ar=Ls(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,or=e,ar=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pa!==null?{id:Un,overflow:zn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=xr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,or=e,ar=null,!0):!1;default:return!1}}function Uh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zh(e){if(Xe){var t=ar;if(t){var r=t;if(!Gv(e,t)){if(Uh(e))throw Error(H(418));t=Ls(r.nextSibling);var n=or;t&&Gv(e,t)?Ww(n,r):(e.flags=e.flags&-4097|2,Xe=!1,or=e)}}else{if(Uh(e))throw Error(H(418));e.flags=e.flags&-4097|2,Xe=!1,or=e}}}function qv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;or=e}function wc(e){if(e!==or)return!1;if(!Xe)return qv(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$h(e.type,e.memoizedProps)),t&&(t=ar)){if(Uh(e))throw Hw(),Error(H(418));for(;t;)Ww(e,t),t=Ls(t.nextSibling)}if(qv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ar=Ls(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ar=null}}else ar=or?Ls(e.stateNode.nextSibling):null;return!0}function Hw(){for(var e=ar;e;)e=Ls(e.nextSibling)}function Yo(){ar=or=null,Xe=!1}function vp(e){Ur===null?Ur=[e]:Ur.push(e)}var Y2=es.ReactCurrentBatchConfig;function Pi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,e))}return e}function bc(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kv(e){var t=e._init;return t(e._payload)}function Gw(e){function t(x,g){if(e){var b=x.deletions;b===null?(x.deletions=[g],x.flags|=16):b.push(g)}}function r(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function n(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=Fs(x,g),x.index=0,x.sibling=null,x}function a(x,g,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<g?(x.flags|=2,g):b):(x.flags|=2,g)):(x.flags|=1048576,g)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,g,b,S){return g===null||g.tag!==6?(g=Tf(b,x.mode,S),g.return=x,g):(g=s(g,b),g.return=x,g)}function c(x,g,b,S){var C=b.type;return C===po?d(x,g,b.props.children,S,b.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ps&&Kv(C)===g.type)?(S=s(g,b.props),S.ref=Pi(x,g,b),S.return=x,S):(S=Zc(b.type,b.key,b.props,null,x.mode,S),S.ref=Pi(x,g,b),S.return=x,S)}function u(x,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Pf(b,x.mode,S),g.return=x,g):(g=s(g,b.children||[]),g.return=x,g)}function d(x,g,b,S,C){return g===null||g.tag!==7?(g=ka(b,x.mode,S,C),g.return=x,g):(g=s(g,b),g.return=x,g)}function f(x,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Tf(""+g,x.mode,b),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case uc:return b=Zc(g.type,g.key,g.props,null,x.mode,b),b.ref=Pi(x,null,g),b.return=x,b;case mo:return g=Pf(g,x.mode,b),g.return=x,g;case ps:var S=g._init;return f(x,S(g._payload),b)}if(Bi(g)||Ei(g))return g=ka(g,x.mode,b,null),g.return=x,g;bc(x,g)}return null}function h(x,g,b,S){var C=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:l(x,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case uc:return b.key===C?c(x,g,b,S):null;case mo:return b.key===C?u(x,g,b,S):null;case ps:return C=b._init,h(x,g,C(b._payload),S)}if(Bi(b)||Ei(b))return C!==null?null:d(x,g,b,S,null);bc(x,b)}return null}function m(x,g,b,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(b)||null,l(g,x,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case uc:return x=x.get(S.key===null?b:S.key)||null,c(g,x,S,C);case mo:return x=x.get(S.key===null?b:S.key)||null,u(g,x,S,C);case ps:var j=S._init;return m(x,g,b,j(S._payload),C)}if(Bi(S)||Ei(S))return x=x.get(b)||null,d(g,x,S,C,null);bc(g,S)}return null}function w(x,g,b,S){for(var C=null,j=null,A=g,E=g=0,O=null;A!==null&&E<b.length;E++){A.index>E?(O=A,A=null):O=A.sibling;var I=h(x,A,b[E],S);if(I===null){A===null&&(A=O);break}e&&A&&I.alternate===null&&t(x,A),g=a(I,g,E),j===null?C=I:j.sibling=I,j=I,A=O}if(E===b.length)return r(x,A),Xe&&ua(x,E),C;if(A===null){for(;E<b.length;E++)A=f(x,b[E],S),A!==null&&(g=a(A,g,E),j===null?C=A:j.sibling=A,j=A);return Xe&&ua(x,E),C}for(A=n(x,A);E<b.length;E++)O=m(A,x,E,b[E],S),O!==null&&(e&&O.alternate!==null&&A.delete(O.key===null?E:O.key),g=a(O,g,E),j===null?C=O:j.sibling=O,j=O);return e&&A.forEach(function(P){return t(x,P)}),Xe&&ua(x,E),C}function v(x,g,b,S){var C=Ei(b);if(typeof C!="function")throw Error(H(150));if(b=C.call(b),b==null)throw Error(H(151));for(var j=C=null,A=g,E=g=0,O=null,I=b.next();A!==null&&!I.done;E++,I=b.next()){A.index>E?(O=A,A=null):O=A.sibling;var P=h(x,A,I.value,S);if(P===null){A===null&&(A=O);break}e&&A&&P.alternate===null&&t(x,A),g=a(P,g,E),j===null?C=P:j.sibling=P,j=P,A=O}if(I.done)return r(x,A),Xe&&ua(x,E),C;if(A===null){for(;!I.done;E++,I=b.next())I=f(x,I.value,S),I!==null&&(g=a(I,g,E),j===null?C=I:j.sibling=I,j=I);return Xe&&ua(x,E),C}for(A=n(x,A);!I.done;E++,I=b.next())I=m(A,x,E,I.value,S),I!==null&&(e&&I.alternate!==null&&A.delete(I.key===null?E:I.key),g=a(I,g,E),j===null?C=I:j.sibling=I,j=I);return e&&A.forEach(function(R){return t(x,R)}),Xe&&ua(x,E),C}function y(x,g,b,S){if(typeof b=="object"&&b!==null&&b.type===po&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case uc:e:{for(var C=b.key,j=g;j!==null;){if(j.key===C){if(C=b.type,C===po){if(j.tag===7){r(x,j.sibling),g=s(j,b.props.children),g.return=x,x=g;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ps&&Kv(C)===j.type){r(x,j.sibling),g=s(j,b.props),g.ref=Pi(x,j,b),g.return=x,x=g;break e}r(x,j);break}else t(x,j);j=j.sibling}b.type===po?(g=ka(b.props.children,x.mode,S,b.key),g.return=x,x=g):(S=Zc(b.type,b.key,b.props,null,x.mode,S),S.ref=Pi(x,g,b),S.return=x,x=S)}return o(x);case mo:e:{for(j=b.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(x,g.sibling),g=s(g,b.children||[]),g.return=x,x=g;break e}else{r(x,g);break}else t(x,g);g=g.sibling}g=Pf(b,x.mode,S),g.return=x,x=g}return o(x);case ps:return j=b._init,y(x,g,j(b._payload),S)}if(Bi(b))return w(x,g,b,S);if(Ei(b))return v(x,g,b,S);bc(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(x,g.sibling),g=s(g,b),g.return=x,x=g):(r(x,g),g=Tf(b,x.mode,S),g.return=x,x=g),o(x)):r(x,g)}return y}var Qo=Gw(!0),qw=Gw(!1),bu=Xs(null),_u=null,So=null,yp=null;function xp(){yp=So=_u=null}function wp(e){var t=bu.current;Je(bu),e._currentValue=t}function Vh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Po(e,t){_u=e,yp=So=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qt=!0),e.firstContext=null)}function _r(e){var t=e._currentValue;if(yp!==e)if(e={context:e,memoizedValue:t,next:null},So===null){if(_u===null)throw Error(H(308));So=e,_u.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var va=null;function bp(e){va===null?va=[e]:va.push(e)}function Kw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,bp(t)):(r.next=s.next,s.next=r),t.interleaved=r,Gn(e,n)}function Gn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var gs=!1;function _p(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $s(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Gn(e,r)}return s=n.interleaved,s===null?(t.next=t,bp(n)):(t.next=s.next,s.next=t),n.interleaved=t,Gn(e,r)}function Gc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ip(e,r)}}function Yv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Su(e,t,r,n){var s=e.updateQueue;gs=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(h=t,m=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(m,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(m,f,h):w,h==null)break e;f=rt({},f,h);break e;case 2:gs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Ra|=o,e.lanes=o,e.memoizedState=f}}function Qv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(H(191,s));s.call(n)}}}var Hl={},pn=Xs(Hl),bl=Xs(Hl),_l=Xs(Hl);function ya(e){if(e===Hl)throw Error(H(174));return e}function Sp(e,t){switch(qe(_l,t),qe(bl,e),qe(pn,Hl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_h(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_h(t,e)}Je(pn),qe(pn,t)}function Jo(){Je(pn),Je(bl),Je(_l)}function Qw(e){ya(_l.current);var t=ya(pn.current),r=_h(t,e.type);t!==r&&(qe(bl,e),qe(pn,r))}function Cp(e){bl.current===e&&(Je(pn),Je(bl))}var et=Xs(0);function Cu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cf=[];function Np(){for(var e=0;e<Cf.length;e++)Cf[e]._workInProgressVersionPrimary=null;Cf.length=0}var qc=es.ReactCurrentDispatcher,Nf=es.ReactCurrentBatchConfig,Oa=0,tt=null,mt=null,xt=null,Nu=!1,el=!1,Sl=0,Q2=0;function Et(){throw Error(H(321))}function Ep(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Hr(e[r],t[r]))return!1;return!0}function jp(e,t,r,n,s,a){if(Oa=a,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qc.current=e===null||e.memoizedState===null?ek:tk,e=r(n,s),el){a=0;do{if(el=!1,Sl=0,25<=a)throw Error(H(301));a+=1,xt=mt=null,t.updateQueue=null,qc.current=rk,e=r(n,s)}while(el)}if(qc.current=Eu,t=mt!==null&&mt.next!==null,Oa=0,xt=mt=tt=null,Nu=!1,t)throw Error(H(300));return e}function kp(){var e=Sl!==0;return Sl=0,e}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?tt.memoizedState=xt=e:xt=xt.next=e,xt}function Sr(){if(mt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=xt===null?tt.memoizedState:xt.next;if(t!==null)xt=t,mt=e;else{if(e===null)throw Error(H(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},xt===null?tt.memoizedState=xt=e:xt=xt.next=e}return xt}function Cl(e,t){return typeof t=="function"?t(e):t}function Ef(e){var t=Sr(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=mt,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Oa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,tt.lanes|=d,Ra|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Hr(n,t.memoizedState)||(Qt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,tt.lanes|=a,Ra|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jf(e){var t=Sr(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Hr(a,t.memoizedState)||(Qt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Jw(){}function Zw(e,t){var r=tt,n=Sr(),s=t(),a=!Hr(n.memoizedState,s);if(a&&(n.memoizedState=s,Qt=!0),n=n.queue,Ap(tb.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,Nl(9,eb.bind(null,r,n,s,t),void 0,null),wt===null)throw Error(H(349));Oa&30||Xw(r,t,s)}return s}function Xw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function eb(e,t,r,n){t.value=r,t.getSnapshot=n,rb(t)&&nb(e)}function tb(e,t,r){return r(function(){rb(t)&&nb(e)})}function rb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Hr(e,r)}catch{return!0}}function nb(e){var t=Gn(e,1);t!==null&&Wr(t,e,1,-1)}function Jv(e){var t=rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:e},t.queue=e,e=e.dispatch=X2.bind(null,tt,e),[t.memoizedState,e]}function Nl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function sb(){return Sr().memoizedState}function Kc(e,t,r,n){var s=rn();tt.flags|=e,s.memoizedState=Nl(1|t,r,void 0,n===void 0?null:n)}function dd(e,t,r,n){var s=Sr();n=n===void 0?null:n;var a=void 0;if(mt!==null){var o=mt.memoizedState;if(a=o.destroy,n!==null&&Ep(n,o.deps)){s.memoizedState=Nl(t,r,a,n);return}}tt.flags|=e,s.memoizedState=Nl(1|t,r,a,n)}function Zv(e,t){return Kc(8390656,8,e,t)}function Ap(e,t){return dd(2048,8,e,t)}function ab(e,t){return dd(4,2,e,t)}function ob(e,t){return dd(4,4,e,t)}function ib(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lb(e,t,r){return r=r!=null?r.concat([e]):null,dd(4,4,ib.bind(null,t,e),r)}function Tp(){}function cb(e,t){var r=Sr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ep(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ub(e,t){var r=Sr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ep(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function db(e,t,r){return Oa&21?(Hr(r,t)||(r=gw(),tt.lanes|=r,Ra|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=r)}function J2(e,t){var r=ze;ze=r!==0&&4>r?r:4,e(!0);var n=Nf.transition;Nf.transition={};try{e(!1),t()}finally{ze=r,Nf.transition=n}}function fb(){return Sr().memoizedState}function Z2(e,t,r){var n=Ds(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hb(e))mb(t,r);else if(r=Kw(e,t,r,n),r!==null){var s=Ut();Wr(r,e,n,s),pb(r,t,n)}}function X2(e,t,r){var n=Ds(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hb(e))mb(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Hr(l,o)){var c=t.interleaved;c===null?(s.next=s,bp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Kw(e,t,s,n),r!==null&&(s=Ut(),Wr(r,e,n,s),pb(r,t,n))}}function hb(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function mb(e,t){el=Nu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pb(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ip(e,r)}}var Eu={readContext:_r,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},ek={readContext:_r,useCallback:function(e,t){return rn().memoizedState=[e,t===void 0?null:t],e},useContext:_r,useEffect:Zv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Kc(4194308,4,ib.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Kc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kc(4,2,e,t)},useMemo:function(e,t){var r=rn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Z2.bind(null,tt,e),[n.memoizedState,e]},useRef:function(e){var t=rn();return e={current:e},t.memoizedState=e},useState:Jv,useDebugValue:Tp,useDeferredValue:function(e){return rn().memoizedState=e},useTransition:function(){var e=Jv(!1),t=e[0];return e=J2.bind(null,e[1]),rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=tt,s=rn();if(Xe){if(r===void 0)throw Error(H(407));r=r()}else{if(r=t(),wt===null)throw Error(H(349));Oa&30||Xw(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Zv(tb.bind(null,n,a,e),[e]),n.flags|=2048,Nl(9,eb.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=rn(),t=wt.identifierPrefix;if(Xe){var r=zn,n=Un;r=(n&~(1<<32-Br(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Sl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Q2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tk={readContext:_r,useCallback:cb,useContext:_r,useEffect:Ap,useImperativeHandle:lb,useInsertionEffect:ab,useLayoutEffect:ob,useMemo:ub,useReducer:Ef,useRef:sb,useState:function(){return Ef(Cl)},useDebugValue:Tp,useDeferredValue:function(e){var t=Sr();return db(t,mt.memoizedState,e)},useTransition:function(){var e=Ef(Cl)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:Jw,useSyncExternalStore:Zw,useId:fb,unstable_isNewReconciler:!1},rk={readContext:_r,useCallback:cb,useContext:_r,useEffect:Ap,useImperativeHandle:lb,useInsertionEffect:ab,useLayoutEffect:ob,useMemo:ub,useReducer:jf,useRef:sb,useState:function(){return jf(Cl)},useDebugValue:Tp,useDeferredValue:function(e){var t=Sr();return mt===null?t.memoizedState=e:db(t,mt.memoizedState,e)},useTransition:function(){var e=jf(Cl)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:Jw,useSyncExternalStore:Zw,useId:fb,unstable_isNewReconciler:!1};function Ir(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Bh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:rt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var fd={isMounted:function(e){return(e=e._reactInternals)?Wa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ut(),s=Ds(e),a=Bn(n,s);a.payload=t,r!=null&&(a.callback=r),t=$s(e,a,s),t!==null&&(Wr(t,e,s,n),Gc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ut(),s=Ds(e),a=Bn(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=$s(e,a,s),t!==null&&(Wr(t,e,s,n),Gc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ut(),n=Ds(e),s=Bn(r,n);s.tag=2,t!=null&&(s.callback=t),t=$s(e,s,n),t!==null&&(Wr(t,e,n,r),Gc(t,e,n))}};function Xv(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!vl(r,n)||!vl(s,a):!0}function gb(e,t,r){var n=!1,s=Ws,a=t.contextType;return typeof a=="object"&&a!==null?a=_r(a):(s=Xt(t)?Ta:Pt.current,n=t.contextTypes,a=(n=n!=null)?Ko(e,s):Ws),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ey(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fd.enqueueReplaceState(t,t.state,null)}function Wh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},_p(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=_r(a):(a=Xt(t)?Ta:Pt.current,s.context=Ko(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Bh(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&fd.enqueueReplaceState(s,s.state,null),Su(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zo(e,t){try{var r="",n=t;do r+=Tj(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function kf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Hh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var nk=typeof WeakMap=="function"?WeakMap:Map;function vb(e,t,r){r=Bn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ku||(ku=!0,tm=n),Hh(e,t)},r}function yb(e,t,r){r=Bn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Hh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Hh(e,t),typeof n!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ty(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new nk;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=vk.bind(null,e,t,r),t.then(e,e))}function ry(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ny(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Bn(-1,1),t.tag=2,$s(r,t,1))),r.lanes|=1),e)}var sk=es.ReactCurrentOwner,Qt=!1;function Lt(e,t,r,n){t.child=e===null?qw(t,null,r,n):Qo(t,e.child,r,n)}function sy(e,t,r,n,s){r=r.render;var a=t.ref;return Po(t,s),n=jp(e,t,r,n,a,s),r=kp(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qn(e,t,s)):(Xe&&r&&pp(t),t.flags|=1,Lt(e,t,n,s),t.child)}function ay(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Dp(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,xb(e,t,a,n,s)):(e=Zc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:vl,r(o,n)&&e.ref===t.ref)return qn(e,t,s)}return t.flags|=1,e=Fs(a,n),e.ref=t.ref,e.return=t,t.child=e}function xb(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(vl(a,n)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Qt=!0);else return t.lanes=e.lanes,qn(e,t,s)}return Gh(e,t,r,n,s)}function wb(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(No,nr),nr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(No,nr),nr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,qe(No,nr),nr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,qe(No,nr),nr|=n;return Lt(e,t,s,r),t.child}function bb(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Gh(e,t,r,n,s){var a=Xt(r)?Ta:Pt.current;return a=Ko(t,a),Po(t,s),r=jp(e,t,r,n,a,s),n=kp(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qn(e,t,s)):(Xe&&n&&pp(t),t.flags|=1,Lt(e,t,r,s),t.child)}function oy(e,t,r,n,s){if(Xt(r)){var a=!0;yu(t)}else a=!1;if(Po(t,s),t.stateNode===null)Yc(e,t),gb(t,r,n),Wh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=_r(u):(u=Xt(r)?Ta:Pt.current,u=Ko(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ey(t,o,n,u),gs=!1;var h=t.memoizedState;o.state=h,Su(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Zt.current||gs?(typeof d=="function"&&(Bh(t,r,d,n),c=t.memoizedState),(l=gs||Xv(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Yw(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ir(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=_r(c):(c=Xt(r)?Ta:Pt.current,c=Ko(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&ey(t,o,n,c),gs=!1,h=t.memoizedState,o.state=h,Su(t,n,o,s);var w=t.memoizedState;l!==f||h!==w||Zt.current||gs?(typeof m=="function"&&(Bh(t,r,m,n),w=t.memoizedState),(u=gs||Xv(t,r,u,n,h,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return qh(e,t,r,n,a,s)}function qh(e,t,r,n,s,a){bb(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Hv(t,r,!1),qn(e,t,a);n=t.stateNode,sk.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Qo(t,e.child,null,a),t.child=Qo(t,null,l,a)):Lt(e,t,l,a),t.memoizedState=n.state,s&&Hv(t,r,!0),t.child}function _b(e){var t=e.stateNode;t.pendingContext?Wv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wv(e,t.context,!1),Sp(e,t.containerInfo)}function iy(e,t,r,n,s){return Yo(),vp(s),t.flags|=256,Lt(e,t,r,n),t.child}var Kh={dehydrated:null,treeContext:null,retryLane:0};function Yh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sb(e,t,r){var n=t.pendingProps,s=et.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),qe(et,s&1),e===null)return zh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=pd(o,n,0,null),e=ka(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Yh(r),t.memoizedState=Kh,e):Pp(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ak(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Fs(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Fs(l,a):(a=ka(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Yh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Kh,n}return a=e.child,e=a.sibling,n=Fs(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Pp(e,t){return t=pd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _c(e,t,r,n){return n!==null&&vp(n),Qo(t,e.child,null,r),e=Pp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ak(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=kf(Error(H(422))),_c(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=pd({mode:"visible",children:n.children},s,0,null),a=ka(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Qo(t,e.child,null,o),t.child.memoizedState=Yh(o),t.memoizedState=Kh,a);if(!(t.mode&1))return _c(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(H(419)),n=kf(a,n,void 0),_c(e,t,o,n)}if(l=(o&e.childLanes)!==0,Qt||l){if(n=wt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Gn(e,s),Wr(n,e,s,-1))}return Mp(),n=kf(Error(H(421))),_c(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=yk.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ar=Ls(s.nextSibling),or=t,Xe=!0,Ur=null,e!==null&&(vr[yr++]=Un,vr[yr++]=zn,vr[yr++]=Pa,Un=e.id,zn=e.overflow,Pa=t),t=Pp(t,n.children),t.flags|=4096,t)}function ly(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Vh(e.return,t,r)}function Af(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Cb(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Lt(e,t,n.children,r),n=et.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ly(e,r,t);else if(e.tag===19)ly(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qe(et,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Cu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Af(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Cu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Af(t,!0,r,null,a);break;case"together":Af(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ra|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,r=Fs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Fs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ok(e,t,r){switch(t.tag){case 3:_b(t),Yo();break;case 5:Qw(t);break;case 1:Xt(t.type)&&yu(t);break;case 4:Sp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;qe(bu,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qe(et,et.current&1),t.flags|=128,null):r&t.child.childLanes?Sb(e,t,r):(qe(et,et.current&1),e=qn(e,t,r),e!==null?e.sibling:null);qe(et,et.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Cb(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(et,et.current),n)break;return null;case 22:case 23:return t.lanes=0,wb(e,t,r)}return qn(e,t,r)}var Nb,Qh,Eb,jb;Nb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qh=function(){};Eb=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ya(pn.current);var a=null;switch(r){case"input":s=yh(e,s),n=yh(e,n),a=[];break;case"select":s=rt({},s,{value:void 0}),n=rt({},n,{value:void 0}),a=[];break;case"textarea":s=bh(e,s),n=bh(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=gu)}Sh(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ul.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ul.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Qe("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};jb=function(e,t,r,n){r!==n&&(t.flags|=4)};function Oi(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ik(e,t,r){var n=t.pendingProps;switch(gp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(t),null;case 1:return Xt(t.type)&&vu(),jt(t),null;case 3:return n=t.stateNode,Jo(),Je(Zt),Je(Pt),Np(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(wc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ur!==null&&(sm(Ur),Ur=null))),Qh(e,t),jt(t),null;case 5:Cp(t);var s=ya(_l.current);if(r=t.type,e!==null&&t.stateNode!=null)Eb(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(H(166));return jt(t),null}if(e=ya(pn.current),wc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ln]=t,n[wl]=a,e=(t.mode&1)!==0,r){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(s=0;s<Hi.length;s++)Qe(Hi[s],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":vv(n,a),Qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Qe("invalid",n);break;case"textarea":xv(n,a),Qe("invalid",n)}Sh(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&xc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&xc(n.textContent,l,e),s=["children",""+l]):ul.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qe("scroll",n)}switch(r){case"input":dc(n),yv(n,a,!0);break;case"textarea":dc(n),wv(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=gu)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ln]=t,e[wl]=n,Nb(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ch(r,n),r){case"dialog":Qe("cancel",e),Qe("close",e),s=n;break;case"iframe":case"object":case"embed":Qe("load",e),s=n;break;case"video":case"audio":for(s=0;s<Hi.length;s++)Qe(Hi[s],e);s=n;break;case"source":Qe("error",e),s=n;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),s=n;break;case"details":Qe("toggle",e),s=n;break;case"input":vv(e,n),s=yh(e,n),Qe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=rt({},n,{value:void 0}),Qe("invalid",e);break;case"textarea":xv(e,n),s=bh(e,n),Qe("invalid",e);break;default:s=n}Sh(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?sw(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rw(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&dl(e,c):typeof c=="number"&&dl(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ul.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Qe("scroll",e):c!=null&&tp(e,a,c,o))}switch(r){case"input":dc(e),yv(e,n,!1);break;case"textarea":dc(e),wv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bs(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?jo(e,!!n.multiple,a,!1):n.defaultValue!=null&&jo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=gu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jt(t),null;case 6:if(e&&t.stateNode!=null)jb(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(H(166));if(r=ya(_l.current),ya(pn.current),wc(t)){if(n=t.stateNode,r=t.memoizedProps,n[ln]=t,(a=n.nodeValue!==r)&&(e=or,e!==null))switch(e.tag){case 3:xc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ln]=t,t.stateNode=n}return jt(t),null;case 13:if(Je(et),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&ar!==null&&t.mode&1&&!(t.flags&128))Hw(),Yo(),t.flags|=98560,a=!1;else if(a=wc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(H(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(H(317));a[ln]=t}else Yo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jt(t),a=!1}else Ur!==null&&(sm(Ur),Ur=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?gt===0&&(gt=3):Mp())),t.updateQueue!==null&&(t.flags|=4),jt(t),null);case 4:return Jo(),Qh(e,t),e===null&&yl(t.stateNode.containerInfo),jt(t),null;case 10:return wp(t.type._context),jt(t),null;case 17:return Xt(t.type)&&vu(),jt(t),null;case 19:if(Je(et),a=t.memoizedState,a===null)return jt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Oi(a,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Cu(e),o!==null){for(t.flags|=128,Oi(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qe(et,et.current&1|2),t.child}e=e.sibling}a.tail!==null&&it()>Xo&&(t.flags|=128,n=!0,Oi(a,!1),t.lanes=4194304)}else{if(!n)if(e=Cu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Oi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Xe)return jt(t),null}else 2*it()-a.renderingStartTime>Xo&&r!==1073741824&&(t.flags|=128,n=!0,Oi(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=it(),t.sibling=null,r=et.current,qe(et,n?r&1|2:r&1),t):(jt(t),null);case 22:case 23:return $p(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?nr&1073741824&&(jt(t),t.subtreeFlags&6&&(t.flags|=8192)):jt(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function lk(e,t){switch(gp(t),t.tag){case 1:return Xt(t.type)&&vu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jo(),Je(Zt),Je(Pt),Np(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cp(t),null;case 13:if(Je(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Yo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(et),null;case 4:return Jo(),null;case 10:return wp(t.type._context),null;case 22:case 23:return $p(),null;case 24:return null;default:return null}}var Sc=!1,Tt=!1,ck=typeof WeakSet=="function"?WeakSet:Set,se=null;function Co(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){st(e,t,n)}else r.current=null}function Jh(e,t,r){try{r()}catch(n){st(e,t,n)}}var cy=!1;function uk(e,t){if(Ih=hu,e=Ow(),mp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===a&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Lh={focusedElem:e,selectionRange:r},hu=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,y=w.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ir(t.type,v),y);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(S){st(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return w=cy,cy=!1,w}function tl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Jh(t,r,a)}s=s.next}while(s!==n)}}function hd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Zh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function kb(e){var t=e.alternate;t!==null&&(e.alternate=null,kb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ln],delete t[wl],delete t[Dh],delete t[G2],delete t[q2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ab(e){return e.tag===5||e.tag===3||e.tag===4}function uy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ab(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=gu));else if(n!==4&&(e=e.child,e!==null))for(Xh(e,t,r),e=e.sibling;e!==null;)Xh(e,t,r),e=e.sibling}function em(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(em(e,t,r),e=e.sibling;e!==null;)em(e,t,r),e=e.sibling}var _t=null,Dr=!1;function is(e,t,r){for(r=r.child;r!==null;)Tb(e,t,r),r=r.sibling}function Tb(e,t,r){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(ad,r)}catch{}switch(r.tag){case 5:Tt||Co(r,t);case 6:var n=_t,s=Dr;_t=null,is(e,t,r),_t=n,Dr=s,_t!==null&&(Dr?(e=_t,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_t.removeChild(r.stateNode));break;case 18:_t!==null&&(Dr?(e=_t,r=r.stateNode,e.nodeType===8?_f(e.parentNode,r):e.nodeType===1&&_f(e,r),pl(e)):_f(_t,r.stateNode));break;case 4:n=_t,s=Dr,_t=r.stateNode.containerInfo,Dr=!0,is(e,t,r),_t=n,Dr=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Jh(r,t,o),s=s.next}while(s!==n)}is(e,t,r);break;case 1:if(!Tt&&(Co(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){st(r,t,l)}is(e,t,r);break;case 21:is(e,t,r);break;case 22:r.mode&1?(Tt=(n=Tt)||r.memoizedState!==null,is(e,t,r),Tt=n):is(e,t,r);break;default:is(e,t,r)}}function dy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ck),t.forEach(function(n){var s=xk.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ar(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:_t=l.stateNode,Dr=!1;break e;case 3:_t=l.stateNode.containerInfo,Dr=!0;break e;case 4:_t=l.stateNode.containerInfo,Dr=!0;break e}l=l.return}if(_t===null)throw Error(H(160));Tb(a,o,s),_t=null,Dr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){st(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pb(t,e),t=t.sibling}function Pb(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ar(t,e),tn(e),n&4){try{tl(3,e,e.return),hd(3,e)}catch(v){st(e,e.return,v)}try{tl(5,e,e.return)}catch(v){st(e,e.return,v)}}break;case 1:Ar(t,e),tn(e),n&512&&r!==null&&Co(r,r.return);break;case 5:if(Ar(t,e),tn(e),n&512&&r!==null&&Co(r,r.return),e.flags&32){var s=e.stateNode;try{dl(s,"")}catch(v){st(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Xx(s,a),Ch(l,o);var u=Ch(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?sw(s,f):d==="dangerouslySetInnerHTML"?rw(s,f):d==="children"?dl(s,f):tp(s,d,f,u)}switch(l){case"input":xh(s,a);break;case"textarea":ew(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?jo(s,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?jo(s,!!a.multiple,a.defaultValue,!0):jo(s,!!a.multiple,a.multiple?[]:"",!1))}s[wl]=a}catch(v){st(e,e.return,v)}}break;case 6:if(Ar(t,e),tn(e),n&4){if(e.stateNode===null)throw Error(H(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(v){st(e,e.return,v)}}break;case 3:if(Ar(t,e),tn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pl(t.containerInfo)}catch(v){st(e,e.return,v)}break;case 4:Ar(t,e),tn(e);break;case 13:Ar(t,e),tn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Ip=it())),n&4&&dy(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Tt=(u=Tt)||d,Ar(t,e),Tt=u):Ar(t,e),tn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(f=se=d;se!==null;){switch(h=se,m=h.child,h.tag){case 0:case 11:case 14:case 15:tl(4,h,h.return);break;case 1:Co(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){st(n,r,v)}}break;case 5:Co(h,h.return);break;case 22:if(h.memoizedState!==null){hy(f);continue}}m!==null?(m.return=h,se=m):hy(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nw("display",o))}catch(v){st(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){st(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ar(t,e),tn(e),n&4&&dy(e);break;case 21:break;default:Ar(t,e),tn(e)}}function tn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ab(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(dl(s,""),n.flags&=-33);var a=uy(e);em(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=uy(e);Xh(e,l,o);break;default:throw Error(H(161))}}catch(c){st(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dk(e,t,r){se=e,Ob(e)}function Ob(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var s=se,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Sc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Tt;l=Sc;var u=Tt;if(Sc=o,(Tt=c)&&!u)for(se=s;se!==null;)o=se,c=o.child,o.tag===22&&o.memoizedState!==null?my(s):c!==null?(c.return=o,se=c):my(s);for(;a!==null;)se=a,Ob(a),a=a.sibling;se=s,Sc=l,Tt=u}fy(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,se=a):fy(e)}}function fy(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||hd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Tt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ir(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Qv(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Qv(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&pl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Tt||t.flags&512&&Zh(t)}catch(h){st(t,t.return,h)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function hy(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function my(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{hd(4,t)}catch(c){st(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){st(t,s,c)}}var a=t.return;try{Zh(t)}catch(c){st(t,a,c)}break;case 5:var o=t.return;try{Zh(t)}catch(c){st(t,o,c)}}}catch(c){st(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var fk=Math.ceil,ju=es.ReactCurrentDispatcher,Op=es.ReactCurrentOwner,wr=es.ReactCurrentBatchConfig,Ie=0,wt=null,ft=null,St=0,nr=0,No=Xs(0),gt=0,El=null,Ra=0,md=0,Rp=0,rl=null,Kt=null,Ip=0,Xo=1/0,Ln=null,ku=!1,tm=null,Ms=null,Cc=!1,Ts=null,Au=0,nl=0,rm=null,Qc=-1,Jc=0;function Ut(){return Ie&6?it():Qc!==-1?Qc:Qc=it()}function Ds(e){return e.mode&1?Ie&2&&St!==0?St&-St:Y2.transition!==null?(Jc===0&&(Jc=gw()),Jc):(e=ze,e!==0||(e=window.event,e=e===void 0?16:Sw(e.type)),e):1}function Wr(e,t,r,n){if(50<nl)throw nl=0,rm=null,Error(H(185));Vl(e,r,n),(!(Ie&2)||e!==wt)&&(e===wt&&(!(Ie&2)&&(md|=r),gt===4&&ws(e,St)),er(e,n),r===1&&Ie===0&&!(t.mode&1)&&(Xo=it()+500,ud&&ea()))}function er(e,t){var r=e.callbackNode;Yj(e,t);var n=fu(e,e===wt?St:0);if(n===0)r!==null&&Sv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Sv(r),t===1)e.tag===0?K2(py.bind(null,e)):Vw(py.bind(null,e)),W2(function(){!(Ie&6)&&ea()}),r=null;else{switch(vw(n)){case 1:r=op;break;case 4:r=mw;break;case 16:r=du;break;case 536870912:r=pw;break;default:r=du}r=Ub(r,Rb.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Rb(e,t){if(Qc=-1,Jc=0,Ie&6)throw Error(H(327));var r=e.callbackNode;if(Oo()&&e.callbackNode!==r)return null;var n=fu(e,e===wt?St:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Tu(e,n);else{t=n;var s=Ie;Ie|=2;var a=Lb();(wt!==e||St!==t)&&(Ln=null,Xo=it()+500,ja(e,t));do try{pk();break}catch(l){Ib(e,l)}while(!0);xp(),ju.current=a,Ie=s,ft!==null?t=0:(wt=null,St=0,t=gt)}if(t!==0){if(t===2&&(s=Ah(e),s!==0&&(n=s,t=nm(e,s))),t===1)throw r=El,ja(e,0),ws(e,n),er(e,it()),r;if(t===6)ws(e,n);else{if(s=e.current.alternate,!(n&30)&&!hk(s)&&(t=Tu(e,n),t===2&&(a=Ah(e),a!==0&&(n=a,t=nm(e,a))),t===1))throw r=El,ja(e,0),ws(e,n),er(e,it()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(H(345));case 2:da(e,Kt,Ln);break;case 3:if(ws(e,n),(n&130023424)===n&&(t=Ip+500-it(),10<t)){if(fu(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ut(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Mh(da.bind(null,e,Kt,Ln),t);break}da(e,Kt,Ln);break;case 4:if(ws(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Br(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=it()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fk(n/1960))-n,10<n){e.timeoutHandle=Mh(da.bind(null,e,Kt,Ln),n);break}da(e,Kt,Ln);break;case 5:da(e,Kt,Ln);break;default:throw Error(H(329))}}}return er(e,it()),e.callbackNode===r?Rb.bind(null,e):null}function nm(e,t){var r=rl;return e.current.memoizedState.isDehydrated&&(ja(e,t).flags|=256),e=Tu(e,t),e!==2&&(t=Kt,Kt=r,t!==null&&sm(t)),e}function sm(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function hk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Hr(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ws(e,t){for(t&=~Rp,t&=~md,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Br(t),n=1<<r;e[r]=-1,t&=~n}}function py(e){if(Ie&6)throw Error(H(327));Oo();var t=fu(e,0);if(!(t&1))return er(e,it()),null;var r=Tu(e,t);if(e.tag!==0&&r===2){var n=Ah(e);n!==0&&(t=n,r=nm(e,n))}if(r===1)throw r=El,ja(e,0),ws(e,t),er(e,it()),r;if(r===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,da(e,Kt,Ln),er(e,it()),null}function Lp(e,t){var r=Ie;Ie|=1;try{return e(t)}finally{Ie=r,Ie===0&&(Xo=it()+500,ud&&ea())}}function Ia(e){Ts!==null&&Ts.tag===0&&!(Ie&6)&&Oo();var t=Ie;Ie|=1;var r=wr.transition,n=ze;try{if(wr.transition=null,ze=1,e)return e()}finally{ze=n,wr.transition=r,Ie=t,!(Ie&6)&&ea()}}function $p(){nr=No.current,Je(No)}function ja(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,B2(r)),ft!==null)for(r=ft.return;r!==null;){var n=r;switch(gp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vu();break;case 3:Jo(),Je(Zt),Je(Pt),Np();break;case 5:Cp(n);break;case 4:Jo();break;case 13:Je(et);break;case 19:Je(et);break;case 10:wp(n.type._context);break;case 22:case 23:$p()}r=r.return}if(wt=e,ft=e=Fs(e.current,null),St=nr=t,gt=0,El=null,Rp=md=Ra=0,Kt=rl=null,va!==null){for(t=0;t<va.length;t++)if(r=va[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}va=null}return e}function Ib(e,t){do{var r=ft;try{if(xp(),qc.current=Eu,Nu){for(var n=tt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Nu=!1}if(Oa=0,xt=mt=tt=null,el=!1,Sl=0,Op.current=null,r===null||r.return===null){gt=1,El=t,ft=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=St,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=ry(o);if(m!==null){m.flags&=-257,ny(m,o,l,a,t),m.mode&1&&ty(a,u,t),t=m,c=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){ty(a,u,t),Mp();break e}c=Error(H(426))}}else if(Xe&&l.mode&1){var y=ry(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ny(y,o,l,a,t),vp(Zo(c,l));break e}}a=c=Zo(c,l),gt!==4&&(gt=2),rl===null?rl=[a]:rl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=vb(a,c,t);Yv(a,x);break e;case 1:l=c;var g=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ms===null||!Ms.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=yb(a,l,t);Yv(a,S);break e}}a=a.return}while(a!==null)}Mb(r)}catch(C){t=C,ft===r&&r!==null&&(ft=r=r.return);continue}break}while(!0)}function Lb(){var e=ju.current;return ju.current=Eu,e===null?Eu:e}function Mp(){(gt===0||gt===3||gt===2)&&(gt=4),wt===null||!(Ra&268435455)&&!(md&268435455)||ws(wt,St)}function Tu(e,t){var r=Ie;Ie|=2;var n=Lb();(wt!==e||St!==t)&&(Ln=null,ja(e,t));do try{mk();break}catch(s){Ib(e,s)}while(!0);if(xp(),Ie=r,ju.current=n,ft!==null)throw Error(H(261));return wt=null,St=0,gt}function mk(){for(;ft!==null;)$b(ft)}function pk(){for(;ft!==null&&!Uj();)$b(ft)}function $b(e){var t=Fb(e.alternate,e,nr);e.memoizedProps=e.pendingProps,t===null?Mb(e):ft=t,Op.current=null}function Mb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=lk(r,t),r!==null){r.flags&=32767,ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,ft=null;return}}else if(r=ik(r,t,nr),r!==null){ft=r;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);gt===0&&(gt=5)}function da(e,t,r){var n=ze,s=wr.transition;try{wr.transition=null,ze=1,gk(e,t,r,n)}finally{wr.transition=s,ze=n}return null}function gk(e,t,r,n){do Oo();while(Ts!==null);if(Ie&6)throw Error(H(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Qj(e,a),e===wt&&(ft=wt=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cc||(Cc=!0,Ub(du,function(){return Oo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=wr.transition,wr.transition=null;var o=ze;ze=1;var l=Ie;Ie|=4,Op.current=null,uk(e,r),Pb(r,e),$2(Lh),hu=!!Ih,Lh=Ih=null,e.current=r,dk(r),zj(),Ie=l,ze=o,wr.transition=a}else e.current=r;if(Cc&&(Cc=!1,Ts=e,Au=s),a=e.pendingLanes,a===0&&(Ms=null),Wj(r.stateNode),er(e,it()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ku)throw ku=!1,e=tm,tm=null,e;return Au&1&&e.tag!==0&&Oo(),a=e.pendingLanes,a&1?e===rm?nl++:(nl=0,rm=e):nl=0,ea(),null}function Oo(){if(Ts!==null){var e=vw(Au),t=wr.transition,r=ze;try{if(wr.transition=null,ze=16>e?16:e,Ts===null)var n=!1;else{if(e=Ts,Ts=null,Au=0,Ie&6)throw Error(H(331));var s=Ie;for(Ie|=4,se=e.current;se!==null;){var a=se,o=a.child;if(se.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:tl(8,d,a)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var h=d.sibling,m=d.return;if(kb(d),d===u){se=null;break}if(h!==null){h.return=m,se=h;break}se=m}}}var w=a.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}se=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,se=o;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:tl(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,se=x;break e}se=a.return}}var g=e.current;for(se=g;se!==null;){o=se;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,se=b;else e:for(o=g;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hd(9,l)}}catch(C){st(l,l.return,C)}if(l===o){se=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,se=S;break e}se=l.return}}if(Ie=s,ea(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(ad,e)}catch{}n=!0}return n}finally{ze=r,wr.transition=t}}return!1}function gy(e,t,r){t=Zo(r,t),t=vb(e,t,1),e=$s(e,t,1),t=Ut(),e!==null&&(Vl(e,1,t),er(e,t))}function st(e,t,r){if(e.tag===3)gy(e,e,r);else for(;t!==null;){if(t.tag===3){gy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ms===null||!Ms.has(n))){e=Zo(r,e),e=yb(t,e,1),t=$s(t,e,1),e=Ut(),t!==null&&(Vl(t,1,e),er(t,e));break}}t=t.return}}function vk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&r,wt===e&&(St&r)===r&&(gt===4||gt===3&&(St&130023424)===St&&500>it()-Ip?ja(e,0):Rp|=r),er(e,t)}function Db(e,t){t===0&&(e.mode&1?(t=mc,mc<<=1,!(mc&130023424)&&(mc=4194304)):t=1);var r=Ut();e=Gn(e,t),e!==null&&(Vl(e,t,r),er(e,r))}function yk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Db(e,r)}function xk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(t),Db(e,r)}var Fb;Fb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zt.current)Qt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Qt=!1,ok(e,t,r);Qt=!!(e.flags&131072)}else Qt=!1,Xe&&t.flags&1048576&&Bw(t,wu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Yc(e,t),e=t.pendingProps;var s=Ko(t,Pt.current);Po(t,r),s=jp(null,t,n,e,s,r);var a=kp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xt(n)?(a=!0,yu(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_p(t),s.updater=fd,t.stateNode=s,s._reactInternals=t,Wh(t,n,e,r),t=qh(null,t,n,!0,a,r)):(t.tag=0,Xe&&a&&pp(t),Lt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Yc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=bk(n),e=Ir(n,e),s){case 0:t=Gh(null,t,n,e,r);break e;case 1:t=oy(null,t,n,e,r);break e;case 11:t=sy(null,t,n,e,r);break e;case 14:t=ay(null,t,n,Ir(n.type,e),r);break e}throw Error(H(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),Gh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),oy(e,t,n,s,r);case 3:e:{if(_b(t),e===null)throw Error(H(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Yw(e,t),Su(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Zo(Error(H(423)),t),t=iy(e,t,n,r,s);break e}else if(n!==s){s=Zo(Error(H(424)),t),t=iy(e,t,n,r,s);break e}else for(ar=Ls(t.stateNode.containerInfo.firstChild),or=t,Xe=!0,Ur=null,r=qw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yo(),n===s){t=qn(e,t,r);break e}Lt(e,t,n,r)}t=t.child}return t;case 5:return Qw(t),e===null&&zh(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,$h(n,s)?o=null:a!==null&&$h(n,a)&&(t.flags|=32),bb(e,t),Lt(e,t,o,r),t.child;case 6:return e===null&&zh(t),null;case 13:return Sb(e,t,r);case 4:return Sp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qo(t,null,n,r):Lt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),sy(e,t,n,s,r);case 7:return Lt(e,t,t.pendingProps,r),t.child;case 8:return Lt(e,t,t.pendingProps.children,r),t.child;case 12:return Lt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,qe(bu,n._currentValue),n._currentValue=o,a!==null)if(Hr(a.value,o)){if(a.children===s.children&&!Zt.current){t=qn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Bn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Vh(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(H(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Vh(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Lt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Po(t,r),s=_r(s),n=n(s),t.flags|=1,Lt(e,t,n,r),t.child;case 14:return n=t.type,s=Ir(n,t.pendingProps),s=Ir(n.type,s),ay(e,t,n,s,r);case 15:return xb(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),Yc(e,t),t.tag=1,Xt(n)?(e=!0,yu(t)):e=!1,Po(t,r),gb(t,n,s),Wh(t,n,s,r),qh(null,t,n,!0,e,r);case 19:return Cb(e,t,r);case 22:return wb(e,t,r)}throw Error(H(156,t.tag))};function Ub(e,t){return hw(e,t)}function wk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(e,t,r,n){return new wk(e,t,r,n)}function Dp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bk(e){if(typeof e=="function")return Dp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===np)return 11;if(e===sp)return 14}return 2}function Fs(e,t){var r=e.alternate;return r===null?(r=xr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zc(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")Dp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case po:return ka(r.children,s,a,t);case rp:o=8,s|=8;break;case mh:return e=xr(12,r,t,s|2),e.elementType=mh,e.lanes=a,e;case ph:return e=xr(13,r,t,s),e.elementType=ph,e.lanes=a,e;case gh:return e=xr(19,r,t,s),e.elementType=gh,e.lanes=a,e;case Qx:return pd(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kx:o=10;break e;case Yx:o=9;break e;case np:o=11;break e;case sp:o=14;break e;case ps:o=16,n=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=xr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function ka(e,t,r,n){return e=xr(7,e,n,t),e.lanes=r,e}function pd(e,t,r,n){return e=xr(22,e,n,t),e.elementType=Qx,e.lanes=r,e.stateNode={isHidden:!1},e}function Tf(e,t,r){return e=xr(6,e,null,t),e.lanes=r,e}function Pf(e,t,r){return t=xr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _k(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=df(0),this.expirationTimes=df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=df(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fp(e,t,r,n,s,a,o,l,c){return e=new _k(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=xr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_p(a),e}function Sk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zb(e){if(!e)return Ws;e=e._reactInternals;e:{if(Wa(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var r=e.type;if(Xt(r))return zw(e,r,t)}return t}function Vb(e,t,r,n,s,a,o,l,c){return e=Fp(r,n,!0,e,s,a,o,l,c),e.context=zb(null),r=e.current,n=Ut(),s=Ds(r),a=Bn(n,s),a.callback=t??null,$s(r,a,s),e.current.lanes=s,Vl(e,s,n),er(e,n),e}function gd(e,t,r,n){var s=t.current,a=Ut(),o=Ds(s);return r=zb(r),t.context===null?t.context=r:t.pendingContext=r,t=Bn(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$s(s,t,o),e!==null&&(Wr(e,s,o,a),Gc(e,s,o)),o}function Pu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Up(e,t){vy(e,t),(e=e.alternate)&&vy(e,t)}function Ck(){return null}var Bb=typeof reportError=="function"?reportError:function(e){console.error(e)};function zp(e){this._internalRoot=e}vd.prototype.render=zp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));gd(e,t,null,null)};vd.prototype.unmount=zp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ia(function(){gd(null,e,null,null)}),t[Hn]=null}};function vd(e){this._internalRoot=e}vd.prototype.unstable_scheduleHydration=function(e){if(e){var t=ww();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xs.length&&t!==0&&t<xs[r].priority;r++);xs.splice(r,0,e),r===0&&_w(e)}};function Vp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yy(){}function Nk(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Pu(o);a.call(u)}}var o=Vb(t,n,e,0,null,!1,!1,"",yy);return e._reactRootContainer=o,e[Hn]=o.current,yl(e.nodeType===8?e.parentNode:e),Ia(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Pu(c);l.call(u)}}var c=Fp(e,0,!1,null,null,!1,!1,"",yy);return e._reactRootContainer=c,e[Hn]=c.current,yl(e.nodeType===8?e.parentNode:e),Ia(function(){gd(t,c,r,n)}),c}function xd(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Pu(o);l.call(c)}}gd(t,o,e,s)}else o=Nk(r,t,e,s,n);return Pu(o)}yw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wi(t.pendingLanes);r!==0&&(ip(t,r|1),er(t,it()),!(Ie&6)&&(Xo=it()+500,ea()))}break;case 13:Ia(function(){var n=Gn(e,1);if(n!==null){var s=Ut();Wr(n,e,1,s)}}),Up(e,1)}};lp=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var r=Ut();Wr(t,e,134217728,r)}Up(e,134217728)}};xw=function(e){if(e.tag===13){var t=Ds(e),r=Gn(e,t);if(r!==null){var n=Ut();Wr(r,e,t,n)}Up(e,t)}};ww=function(){return ze};bw=function(e,t){var r=ze;try{return ze=e,t()}finally{ze=r}};Eh=function(e,t,r){switch(t){case"input":if(xh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=cd(n);if(!s)throw Error(H(90));Zx(n),xh(n,s)}}}break;case"textarea":ew(e,r);break;case"select":t=r.value,t!=null&&jo(e,!!r.multiple,t,!1)}};iw=Lp;lw=Ia;var Ek={usingClientEntryPoint:!1,Events:[Wl,xo,cd,aw,ow,Lp]},Ri={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jk={bundleType:Ri.bundleType,version:Ri.version,rendererPackageName:Ri.rendererPackageName,rendererConfig:Ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:es.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dw(e),e===null?null:e.stateNode},findFiberByHostInstance:Ri.findFiberByHostInstance||Ck,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{ad=Nc.inject(jk),mn=Nc}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ek;dr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vp(t))throw Error(H(200));return Sk(e,t,null,r)};dr.createRoot=function(e,t){if(!Vp(e))throw Error(H(299));var r=!1,n="",s=Bb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Fp(e,1,!1,null,null,r,!1,n,s),e[Hn]=t.current,yl(e.nodeType===8?e.parentNode:e),new zp(t)};dr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=dw(t),e=e===null?null:e.stateNode,e};dr.flushSync=function(e){return Ia(e)};dr.hydrate=function(e,t,r){if(!yd(t))throw Error(H(200));return xd(null,e,t,!0,r)};dr.hydrateRoot=function(e,t,r){if(!Vp(e))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=Bb;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Vb(t,null,e,1,r??null,s,!1,a,o),e[Hn]=t.current,yl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new vd(t)};dr.render=function(e,t,r){if(!yd(t))throw Error(H(200));return xd(null,e,t,!1,r)};dr.unmountComponentAtNode=function(e){if(!yd(e))throw Error(H(40));return e._reactRootContainer?(Ia(function(){xd(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1};dr.unstable_batchedUpdates=Lp;dr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!yd(r))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return xd(e,t,r,!1,n)};dr.version="18.3.1-next-f1338f8080-20240426";function Wb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wb)}catch(e){console.error(e)}}Wb(),Wx.exports=dr;var Ha=Wx.exports;const Hb=Ox(Ha);var xy=Ha;fh.createRoot=xy.createRoot,fh.hydrateRoot=xy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ou.apply(this,arguments)}var xa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xa||(xa={}));const wy="popstate";function kk(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return am("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:qb(s)}return Tk(t,r,null,e)}function Gb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ak(){return Math.random().toString(36).substr(2,8)}function by(e,t){return{usr:e.state,key:e.key,idx:t}}function am(e,t,r,n){return r===void 0&&(r=null),Ou({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Kb(t):t,{state:r,key:t&&t.key||n||Ak()})}function qb(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Kb(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Tk(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=xa.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ou({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=xa.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:x})}function h(y,x){l=xa.Push;let g=am(v.location,y,x);u=d()+1;let b=by(g,u),S=v.createHref(g);try{o.pushState(b,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(S)}a&&c&&c({action:l,location:v.location,delta:1})}function m(y,x){l=xa.Replace;let g=am(v.location,y,x);u=d();let b=by(g,u),S=v.createHref(g);o.replaceState(b,"",S),a&&c&&c({action:l,location:v.location,delta:0})}function w(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof y=="string"?y:qb(y);return g=g.replace(/ $/,"%20"),Gb(x,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,x)}let v={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(wy,f),c=y,()=>{s.removeEventListener(wy,f),c=null}},createHref(y){return t(s,y)},createURL:w,encodeLocation(y){let x=w(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(y){return o.go(y)}};return v}var _y;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_y||(_y={}));function Pk(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Yb=["post","put","patch","delete"];new Set(Yb);const Ok=["get",...Yb];new Set(Ok);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},om.apply(this,arguments)}const Rk=p.createContext(null),Qb=p.createContext(null);function Ik(){return p.useContext(Qb)!=null}function Lk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $k(e){let{basename:t="/",children:r=null,location:n,navigationType:s=xa.Pop,navigator:a,static:o=!1,future:l}=e;Ik()&&Gb(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:a,static:o,future:om({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Kb(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:w="default"}=n,v=p.useMemo(()=>{let y=Pk(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:w},navigationType:s}},[c,d,f,h,m,w,s]);return v==null?null:p.createElement(Rk.Provider,{value:u},p.createElement(Qb.Provider,{children:r,value:v}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Mk="6";try{window.__reactRouterVersion=Mk}catch{}const Dk="startTransition",Sy=Zm[Dk];function Fk(e){let{basename:t,children:r,future:n,window:s}=e,a=p.useRef();a.current==null&&(a.current=kk({window:s,v5Compat:!0}));let o=a.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&Sy?Sy(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>Lk(n),[n]),p.createElement($k,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var Cy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cy||(Cy={}));var Ny;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ny||(Ny={}));var wd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bd=typeof window>"u"||"Deno"in globalThis;function Lr(){}function Uk(e,t){return typeof e=="function"?e(t):e}function zk(e){return typeof e=="number"&&e>=0&&e!==1/0}function Vk(e,t){return Math.max(e+(t||0)-Date.now(),0)}function im(e,t){return typeof e=="function"?e(t):e}function Bk(e,t){return typeof e=="function"?e(t):e}function Ey(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Bp(o,t.options))return!1}else if(!kl(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function jy(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(jl(t.options.mutationKey)!==jl(a))return!1}else if(!kl(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Bp(e,t){return((t==null?void 0:t.queryKeyHashFn)||jl)(e)}function jl(e){return JSON.stringify(e,(t,r)=>lm(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function kl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>kl(e[r],t[r])):!1}function Jb(e,t){if(e===t)return e;const r=ky(e)&&ky(t);if(r||lm(e)&&lm(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),o=a.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:a[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=Jb(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===o&&u===s?e:l}return t}function ky(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lm(e){if(!Ay(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ay(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ay(e){return Object.prototype.toString.call(e)==="[object Object]"}function Wk(e){return new Promise(t=>{setTimeout(t,e)})}function Hk(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Jb(e,t):t}function Gk(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function qk(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Wp=Symbol();function Zb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Wp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var _a,Cs,Do,Cx,Kk=(Cx=class extends wd{constructor(){super();Me(this,_a);Me(this,Cs);Me(this,Do);be(this,Do,t=>{if(!bd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){U(this,Cs)||this.setEventListener(U(this,Do))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Cs))==null||t.call(this),be(this,Cs,void 0))}setEventListener(t){var r;be(this,Do,t),(r=U(this,Cs))==null||r.call(this),be(this,Cs,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){U(this,_a)!==t&&(be(this,_a,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof U(this,_a)=="boolean"?U(this,_a):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},_a=new WeakMap,Cs=new WeakMap,Do=new WeakMap,Cx),Xb=new Kk,Fo,Ns,Uo,Nx,Yk=(Nx=class extends wd{constructor(){super();Me(this,Fo,!0);Me(this,Ns);Me(this,Uo);be(this,Uo,t=>{if(!bd&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){U(this,Ns)||this.setEventListener(U(this,Uo))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Ns))==null||t.call(this),be(this,Ns,void 0))}setEventListener(t){var r;be(this,Uo,t),(r=U(this,Ns))==null||r.call(this),be(this,Ns,t(this.setOnline.bind(this)))}setOnline(t){U(this,Fo)!==t&&(be(this,Fo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return U(this,Fo)}},Fo=new WeakMap,Ns=new WeakMap,Uo=new WeakMap,Nx),Ru=new Yk;function Qk(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function Jk(e){return Math.min(1e3*2**e,3e4)}function e1(e){return(e??"online")==="online"?Ru.isOnline():!0}var t1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Of(e){return e instanceof t1}function r1(e){let t=!1,r=0,n=!1,s;const a=Qk(),o=v=>{var y;n||(h(new t1(v)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Xb.isFocused()&&(e.networkMode==="always"||Ru.isOnline())&&e.canRun(),d=()=>e1(e.networkMode)&&e.canRun(),f=v=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,v),s==null||s(),a.resolve(v))},h=v=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,v),s==null||s(),a.reject(v))},m=()=>new Promise(v=>{var y;s=x=>{(n||u())&&v(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;s=void 0,n||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(n)return;let v;const y=r===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(f).catch(x=>{var j;if(n)return;const g=e.retry??(bd?0:3),b=e.retryDelay??Jk,S=typeof b=="function"?b(r,x):b,C=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,x);if(t||!C){h(x);return}r++,(j=e.onFail)==null||j.call(e,r,x),Wk(S).then(()=>u()?void 0:m()).then(()=>{t?h(x):w()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?w():m().then(w),a)}}var Zk=e=>setTimeout(e,0);function Xk(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=Zk;const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Dt=Xk(),Sa,Ex,n1=(Ex=class{constructor(){Me(this,Sa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zk(this.gcTime)&&be(this,Sa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bd?1/0:5*60*1e3))}clearGcTimeout(){U(this,Sa)&&(clearTimeout(U(this,Sa)),be(this,Sa,void 0))}},Sa=new WeakMap,Ex),zo,Vo,gr,Ca,At,Fl,Na,$r,Rn,jx,eA=(jx=class extends n1{constructor(t){super();Me(this,$r);Me(this,zo);Me(this,Vo);Me(this,gr);Me(this,Ca);Me(this,At);Me(this,Fl);Me(this,Na);be(this,Na,!1),be(this,Fl,t.defaultOptions),this.setOptions(t.options),this.observers=[],be(this,Ca,t.client),be(this,gr,U(this,Ca).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,be(this,zo,rA(this.options)),this.state=t.state??U(this,zo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,At))==null?void 0:t.promise}setOptions(t){this.options={...U(this,Fl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,gr).remove(this)}setData(t,r){const n=Hk(this.state.data,t,this.options);return Nt(this,$r,Rn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Nt(this,$r,Rn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=U(this,At))==null?void 0:n.promise;return(s=U(this,At))==null||s.cancel(t),r?r.then(Lr).catch(Lr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,zo))}isActive(){return this.observers.some(t=>Bk(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>im(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Vk(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,At))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,At))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,gr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(U(this,At)&&(U(this,Na)?U(this,At).cancel({revert:!0}):U(this,At).cancelRetry()),this.scheduleGc()),U(this,gr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nt(this,$r,Rn).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,At))return U(this,At).continueRetry(),U(this,At).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(be(this,Na,!0),n.signal)})},a=()=>{const h=Zb(this.options,r),w=(()=>{const v={client:U(this,Ca),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return be(this,Na,!1),this.options.persister?this.options.persister(h,w,this):h(w)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,Ca),state:this.state,fetchFn:a};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),be(this,Vo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Nt(this,$r,Rn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,w,v,y;Of(h)&&h.silent||Nt(this,$r,Rn).call(this,{type:"error",error:h}),Of(h)||((w=(m=U(this,gr).config).onError)==null||w.call(m,h,this),(y=(v=U(this,gr).config).onSettled)==null||y.call(v,this.state.data,h,this)),this.scheduleGc()};return be(this,At,r1({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,w,v,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){c(x);return}(w=(m=U(this,gr).config).onSuccess)==null||w.call(m,h,this),(y=(v=U(this,gr).config).onSettled)==null||y.call(v,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Nt(this,$r,Rn).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Nt(this,$r,Rn).call(this,{type:"pause"})},onContinue:()=>{Nt(this,$r,Rn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),U(this,At).start()}},zo=new WeakMap,Vo=new WeakMap,gr=new WeakMap,Ca=new WeakMap,At=new WeakMap,Fl=new WeakMap,Na=new WeakMap,$r=new WeakSet,Rn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tA(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Of(s)&&s.revert&&U(this,Vo)?{...U(this,Vo),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Dt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),U(this,gr).notify({query:this,type:"updated",action:t})})},jx);function tA(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:e1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function rA(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var sn,kx,nA=(kx=class extends wd{constructor(t={}){super();Me(this,sn);this.config=t,be(this,sn,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??Bp(s,r);let o=this.get(a);return o||(o=new eA({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){U(this,sn).has(t.queryHash)||(U(this,sn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=U(this,sn).get(t.queryHash);r&&(t.destroy(),r===t&&U(this,sn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Dt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,sn).get(t)}getAll(){return[...U(this,sn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ey(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Ey(t,n)):r}notify(t){Dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Dt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Dt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},sn=new WeakMap,kx),an,It,Ea,on,fs,Ax,sA=(Ax=class extends n1{constructor(t){super();Me(this,on);Me(this,an);Me(this,It);Me(this,Ea);this.mutationId=t.mutationId,be(this,It,t.mutationCache),be(this,an,[]),this.state=t.state||aA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,an).includes(t)||(U(this,an).push(t),this.clearGcTimeout(),U(this,It).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){be(this,an,U(this,an).filter(r=>r!==t)),this.scheduleGc(),U(this,It).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,an).length||(this.state.status==="pending"?this.scheduleGc():U(this,It).remove(this))}continue(){var t;return((t=U(this,Ea))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,l,c,u,d,f,h,m,w,v,y,x,g,b,S,C,j,A,E;const r=()=>{Nt(this,on,fs).call(this,{type:"continue"})};be(this,Ea,r1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,I)=>{Nt(this,on,fs).call(this,{type:"failed",failureCount:O,error:I})},onPause:()=>{Nt(this,on,fs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,It).canRun(this)}));const n=this.state.status==="pending",s=!U(this,Ea).canStart();try{if(n)r();else{Nt(this,on,fs).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(a=U(this,It).config).onMutate)==null?void 0:o.call(a,t,this));const I=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));I!==this.state.context&&Nt(this,on,fs).call(this,{type:"pending",context:I,variables:t,isPaused:s})}const O=await U(this,Ea).start();return await((d=(u=U(this,It).config).onSuccess)==null?void 0:d.call(u,O,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,O,t,this.state.context)),await((w=(m=U(this,It).config).onSettled)==null?void 0:w.call(m,O,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,O,null,t,this.state.context)),Nt(this,on,fs).call(this,{type:"success",data:O}),O}catch(O){try{throw await((g=(x=U(this,It).config).onError)==null?void 0:g.call(x,O,t,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,O,t,this.state.context)),await((j=(C=U(this,It).config).onSettled)==null?void 0:j.call(C,void 0,O,this.state.variables,this.state.context,this)),await((E=(A=this.options).onSettled)==null?void 0:E.call(A,void 0,O,t,this.state.context)),O}finally{Nt(this,on,fs).call(this,{type:"error",error:O})}}finally{U(this,It).runNext(this)}}},an=new WeakMap,It=new WeakMap,Ea=new WeakMap,on=new WeakSet,fs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Dt.batch(()=>{U(this,an).forEach(n=>{n.onMutationUpdate(t)}),U(this,It).notify({mutation:this,type:"updated",action:t})})},Ax);function aA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fn,Mr,Ul,Tx,oA=(Tx=class extends wd{constructor(t={}){super();Me(this,Fn);Me(this,Mr);Me(this,Ul);this.config=t,be(this,Fn,new Set),be(this,Mr,new Map),be(this,Ul,0)}build(t,r,n){const s=new sA({mutationCache:this,mutationId:++lc(this,Ul)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){U(this,Fn).add(t);const r=Ec(t);if(typeof r=="string"){const n=U(this,Mr).get(r);n?n.push(t):U(this,Mr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(U(this,Fn).delete(t)){const r=Ec(t);if(typeof r=="string"){const n=U(this,Mr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&U(this,Mr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ec(t);if(typeof r=="string"){const n=U(this,Mr).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Ec(t);if(typeof r=="string"){const s=(n=U(this,Mr).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Dt.batch(()=>{U(this,Fn).forEach(t=>{this.notify({type:"removed",mutation:t})}),U(this,Fn).clear(),U(this,Mr).clear()})}getAll(){return Array.from(U(this,Fn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>jy(r,n))}findAll(t={}){return this.getAll().filter(r=>jy(t,r))}notify(t){Dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Dt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Lr))))}},Fn=new WeakMap,Mr=new WeakMap,Ul=new WeakMap,Tx);function Ec(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Ty(e){return{onFetch:(t,r)=>{var d,f,h,m,w;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},x=Zb(t.options,t.fetchOptions),g=async(b,S,C)=>{if(v)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const A=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:S,direction:C?"backward":"forward",meta:t.options.meta};return y(P),P})(),E=await x(A),{maxPages:O}=t.options,I=C?qk:Gk;return{pages:I(b.pages,E,O),pageParams:I(b.pageParams,S,O)}};if(s&&a.length){const b=s==="backward",S=b?iA:Py,C={pages:a,pageParams:o},j=S(n,C);l=await g(C,j,b)}else{const b=e??a.length;do{const S=c===0?o[0]??n.initialPageParam:Py(n,l);if(c>0&&S==null)break;l=await g(l,S),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Py(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function iA(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var nt,Es,js,Bo,Wo,ks,Ho,Go,Px,lA=(Px=class{constructor(e={}){Me(this,nt);Me(this,Es);Me(this,js);Me(this,Bo);Me(this,Wo);Me(this,ks);Me(this,Ho);Me(this,Go);be(this,nt,e.queryCache||new nA),be(this,Es,e.mutationCache||new oA),be(this,js,e.defaultOptions||{}),be(this,Bo,new Map),be(this,Wo,new Map),be(this,ks,0)}mount(){lc(this,ks)._++,U(this,ks)===1&&(be(this,Ho,Xb.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,nt).onFocus())})),be(this,Go,Ru.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,nt).onOnline())})))}unmount(){var e,t;lc(this,ks)._--,U(this,ks)===0&&((e=U(this,Ho))==null||e.call(this),be(this,Ho,void 0),(t=U(this,Go))==null||t.call(this),be(this,Go,void 0))}isFetching(e){return U(this,nt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,Es).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,nt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=U(this,nt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(im(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return U(this,nt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=U(this,nt).get(n.queryHash),a=s==null?void 0:s.state.data,o=Uk(t,a);if(o!==void 0)return U(this,nt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Dt.batch(()=>U(this,nt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,nt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=U(this,nt);Dt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=U(this,nt);return Dt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Dt.batch(()=>U(this,nt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Lr).catch(Lr)}invalidateQueries(e,t={}){return Dt.batch(()=>(U(this,nt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Dt.batch(()=>U(this,nt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(Lr)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Lr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=U(this,nt).build(this,t);return r.isStaleByTime(im(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Lr).catch(Lr)}fetchInfiniteQuery(e){return e.behavior=Ty(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Lr).catch(Lr)}ensureInfiniteQueryData(e){return e.behavior=Ty(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ru.isOnline()?U(this,Es).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,nt)}getMutationCache(){return U(this,Es)}getDefaultOptions(){return U(this,js)}setDefaultOptions(e){be(this,js,e)}setQueryDefaults(e,t){U(this,Bo).set(jl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,Bo).values()],r={};return t.forEach(n=>{kl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){U(this,Wo).set(jl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,Wo).values()],r={};return t.forEach(n=>{kl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,js).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Wp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,js).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,nt).clear(),U(this,Es).clear()}},nt=new WeakMap,Es=new WeakMap,js=new WeakMap,Bo=new WeakMap,Wo=new WeakMap,ks=new WeakMap,Ho=new WeakMap,Go=new WeakMap,Px),cA=p.createContext(void 0),uA=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(cA.Provider,{value:e,children:t}));const dA={theme:"system",setTheme:()=>null},s1=p.createContext(dA);function fA({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme",...n}){const[s,a]=p.useState(()=>localStorage.getItem(r)||t);p.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(s)},[s]);const o={theme:s,setTheme:l=>{localStorage.setItem(r,l),a(l)}};return i.jsx(s1.Provider,{...n,value:o,children:e})}const a1=()=>{const e=p.useContext(s1);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function ue(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Oy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function o1(...e){return t=>{let r=!1;const n=e.map(s=>{const a=Oy(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Oy(e[s],null)}}}}function Ce(...e){return p.useCallback(o1(...e),e)}function hA(e,t){const r=p.createContext(t),n=a=>{const{children:o,...l}=a,c=p.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function hr(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:m,...w}=f,v=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=p.useMemo(()=>w,Object.values(w));return i.jsx(v.Provider,{value:y,children:m})};u.displayName=a+"Provider";function d(f,h){var v;const m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,w=p.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,mA(s,...t)]}function mA(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function La(e){const t=gA(e),r=p.forwardRef((n,s)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(vA);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var pA=La("Slot");function gA(e){const t=p.forwardRef((r,n)=>{const{children:s,...a}=r;if(p.isValidElement(s)){const o=xA(s),l=yA(a,s.props);return s.type!==p.Fragment&&(l.ref=n?o1(n,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var i1=Symbol("radix.slottable");function l1(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=i1,t}function vA(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===i1}function yA(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function xA(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fe=wA.reduce((e,t)=>{const r=La(`Primitive.${t}`),n=p.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function c1(e,t){e&&Ha.flushSync(()=>e.dispatchEvent(t))}function pt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function bA(e,t=globalThis==null?void 0:globalThis.document){const r=pt(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var _A="DismissableLayer",cm="dismissableLayer.update",SA="dismissableLayer.pointerDownOutside",CA="dismissableLayer.focusOutside",Ry,u1=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gi=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(u1),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),w=Ce(t,A=>f(A)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(y),g=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=g>=x,C=EA(A=>{const E=A.target,O=[...u.branches].some(I=>I.contains(E));!S||O||(s==null||s(A),o==null||o(A),A.defaultPrevented||l==null||l())},h),j=jA(A=>{const E=A.target;[...u.branches].some(I=>I.contains(E))||(a==null||a(A),o==null||o(A),A.defaultPrevented||l==null||l())},h);return bA(A=>{g===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ry=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Iy(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ry)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Iy())},[d,u]),p.useEffect(()=>{const A=()=>m({});return document.addEventListener(cm,A),()=>document.removeEventListener(cm,A)},[]),i.jsx(fe.div,{...c,ref:w,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:ue(e.onFocusCapture,j.onFocusCapture),onBlurCapture:ue(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ue(e.onPointerDownCapture,C.onPointerDownCapture)})});gi.displayName=_A;var NA="DismissableLayerBranch",d1=p.forwardRef((e,t)=>{const r=p.useContext(u1),n=p.useRef(null),s=Ce(t,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(fe.div,{...e,ref:s})});d1.displayName=NA;function EA(e,t=globalThis==null?void 0:globalThis.document){const r=pt(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){f1(SA,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function jA(e,t=globalThis==null?void 0:globalThis.document){const r=pt(e),n=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!n.current&&f1(CA,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Iy(){const e=new CustomEvent(cm);document.dispatchEvent(e)}function f1(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?c1(s,a):s.dispatchEvent(a)}var kA=gi,AA=d1,ct=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},TA=Zm[" useId ".trim().toString()]||(()=>{}),PA=0;function Aa(e){const[t,r]=p.useState(TA());return ct(()=>{r(n=>n??String(PA++))},[e]),t?`radix-${t}`:""}const OA=["top","right","bottom","left"],Hs=Math.min,sr=Math.max,Iu=Math.round,jc=Math.floor,gn=e=>({x:e,y:e}),RA={left:"right",right:"left",bottom:"top",top:"bottom"},IA={start:"end",end:"start"};function um(e,t,r){return sr(e,Hs(t,r))}function Kn(e,t){return typeof e=="function"?e(t):e}function Yn(e){return e.split("-")[0]}function vi(e){return e.split("-")[1]}function Hp(e){return e==="x"?"y":"x"}function Gp(e){return e==="y"?"height":"width"}function un(e){return["top","bottom"].includes(Yn(e))?"y":"x"}function qp(e){return Hp(un(e))}function LA(e,t,r){r===void 0&&(r=!1);const n=vi(e),s=qp(e),a=Gp(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Lu(o)),[o,Lu(o)]}function $A(e){const t=Lu(e);return[dm(e),t,dm(t)]}function dm(e){return e.replace(/start|end/g,t=>IA[t])}function MA(e,t,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?a:o;default:return[]}}function DA(e,t,r,n){const s=vi(e);let a=MA(Yn(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(dm)))),a}function Lu(e){return e.replace(/left|right|bottom|top/g,t=>RA[t])}function FA(e){return{top:0,right:0,bottom:0,left:0,...e}}function h1(e){return typeof e!="number"?FA(e):{top:e,right:e,bottom:e,left:e}}function $u(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Ly(e,t,r){let{reference:n,floating:s}=e;const a=un(t),o=qp(t),l=Gp(o),c=Yn(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(vi(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const UA=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Ly(u,n,c),h=n,m={},w=0;for(let v=0;v<l.length;v++){const{name:y,fn:x}=l[v],{x:g,y:b,data:S,reset:C}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=b??f,m={...m,[y]:{...m[y],...S}},C&&w<=50&&(w++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:f}=Ly(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Al(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Kn(t,e),w=h1(m),y=l[h?f==="floating"?"reference":"floating":f],x=$u(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(y)))==null||r?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},C=$u(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:c}):g);return{top:(x.top-C.top+w.top)/S.y,bottom:(C.bottom-x.bottom+w.bottom)/S.y,left:(x.left-C.left+w.left)/S.x,right:(C.right-x.right+w.right)/S.x}}const zA=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Kn(e,t)||{};if(u==null)return{};const f=h1(d),h={x:r,y:n},m=qp(s),w=Gp(m),v=await o.getDimensions(u),y=m==="y",x=y?"top":"left",g=y?"bottom":"right",b=y?"clientHeight":"clientWidth",S=a.reference[w]+a.reference[m]-h[m]-a.floating[w],C=h[m]-a.reference[m],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=j?j[b]:0;(!A||!await(o.isElement==null?void 0:o.isElement(j)))&&(A=l.floating[b]||a.floating[w]);const E=S/2-C/2,O=A/2-v[w]/2-1,I=Hs(f[x],O),P=Hs(f[g],O),R=I,V=A-v[w]-P,D=A/2-v[w]/2+E,J=um(R,D,V),G=!c.arrow&&vi(s)!=null&&D!==J&&a.reference[w]/2-(D<R?I:P)-v[w]/2<0,T=G?D<R?D-R:D-V:0;return{[m]:h[m]+T,data:{[m]:J,centerOffset:D-J-T,...G&&{alignmentOffset:T}},reset:G}}}),VA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...y}=Kn(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=Yn(s),g=un(l),b=Yn(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=h||(b||!v?[Lu(l)]:$A(l)),j=w!=="none";!h&&j&&C.push(...DA(l,v,w,S));const A=[l,...C],E=await Al(t,y),O=[];let I=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&O.push(E[x]),f){const D=LA(s,o,S);O.push(E[D[0]],E[D[1]])}if(I=[...I,{placement:s,overflows:O}],!O.every(D=>D<=0)){var P,R;const D=(((P=a.flip)==null?void 0:P.index)||0)+1,J=A[D];if(J&&(!(f==="alignment"?g!==un(J):!1)||I.every(N=>N.overflows[0]>0&&un(N.placement)===g)))return{data:{index:D,overflows:I},reset:{placement:J}};let G=(R=I.filter(T=>T.overflows[0]<=0).sort((T,N)=>T.overflows[1]-N.overflows[1])[0])==null?void 0:R.placement;if(!G)switch(m){case"bestFit":{var V;const T=(V=I.filter(N=>{if(j){const $=un(N.placement);return $===g||$==="y"}return!0}).map(N=>[N.placement,N.overflows.filter($=>$>0).reduce(($,W)=>$+W,0)]).sort((N,$)=>N[1]-$[1])[0])==null?void 0:V[0];T&&(G=T);break}case"initialPlacement":G=l;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function $y(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function My(e){return OA.some(t=>e[t]>=0)}const BA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Kn(e,t);switch(n){case"referenceHidden":{const a=await Al(t,{...s,elementContext:"reference"}),o=$y(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:My(o)}}}case"escaped":{const a=await Al(t,{...s,altBoundary:!0}),o=$y(a,r.floating);return{data:{escapedOffsets:o,escaped:My(o)}}}default:return{}}}}};async function WA(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Yn(r),l=vi(r),c=un(r)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,f=Kn(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(m=l==="end"?w*-1:w),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const HA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await WA(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},GA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x,y:g}=y;return{x,y:g}}},...c}=Kn(e,t),u={x:r,y:n},d=await Al(t,c),f=un(Yn(s)),h=Hp(f);let m=u[h],w=u[f];if(a){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",g=m+d[y],b=m-d[x];m=um(g,m,b)}if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",g=w+d[y],b=w-d[x];w=um(g,w,b)}const v=l.fn({...t,[h]:m,[f]:w});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[h]:a,[f]:o}}}}}},qA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Kn(e,t),d={x:r,y:n},f=un(s),h=Hp(f);let m=d[h],w=d[f];const v=Kn(l,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=h==="y"?"height":"width",S=a.reference[h]-a.floating[b]+y.mainAxis,C=a.reference[h]+a.reference[b]-y.mainAxis;m<S?m=S:m>C&&(m=C)}if(u){var x,g;const b=h==="y"?"width":"height",S=["top","left"].includes(Yn(s)),C=a.reference[f]-a.floating[b]+(S&&((x=o.offset)==null?void 0:x[f])||0)+(S?0:y.crossAxis),j=a.reference[f]+a.reference[b]+(S?0:((g=o.offset)==null?void 0:g[f])||0)-(S?y.crossAxis:0);w<C?w=C:w>j&&(w=j)}return{[h]:m,[f]:w}}}},KA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Kn(e,t),d=await Al(t,u),f=Yn(s),h=vi(s),m=un(s)==="y",{width:w,height:v}=a.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,y=h==="end"?"top":"bottom");const g=v-d.top-d.bottom,b=w-d.left-d.right,S=Hs(v-d[y],g),C=Hs(w-d[x],b),j=!t.middlewareData.shift;let A=S,E=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(A=g),j&&!h){const I=sr(d.left,0),P=sr(d.right,0),R=sr(d.top,0),V=sr(d.bottom,0);m?E=w-2*(I!==0||P!==0?I+P:sr(d.left,d.right)):A=v-2*(R!==0||V!==0?R+V:sr(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:A});const O=await o.getDimensions(l.floating);return w!==O.width||v!==O.height?{reset:{rects:!0}}:{}}}};function _d(){return typeof window<"u"}function yi(e){return m1(e)?(e.nodeName||"").toLowerCase():"#document"}function ir(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cn(e){var t;return(t=(m1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function m1(e){return _d()?e instanceof Node||e instanceof ir(e).Node:!1}function Gr(e){return _d()?e instanceof Element||e instanceof ir(e).Element:!1}function bn(e){return _d()?e instanceof HTMLElement||e instanceof ir(e).HTMLElement:!1}function Dy(e){return!_d()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ir(e).ShadowRoot}function Gl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function YA(e){return["table","td","th"].includes(yi(e))}function Sd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Kp(e){const t=Yp(),r=Gr(e)?qr(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function QA(e){let t=Gs(e);for(;bn(t)&&!ei(t);){if(Kp(t))return t;if(Sd(t))return null;t=Gs(t)}return null}function Yp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ei(e){return["html","body","#document"].includes(yi(e))}function qr(e){return ir(e).getComputedStyle(e)}function Cd(e){return Gr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Gs(e){if(yi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dy(e)&&e.host||Cn(e);return Dy(t)?t.host:t}function p1(e){const t=Gs(e);return ei(t)?e.ownerDocument?e.ownerDocument.body:e.body:bn(t)&&Gl(t)?t:p1(t)}function Tl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=p1(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=ir(s);if(a){const l=fm(o);return t.concat(o,o.visualViewport||[],Gl(s)?s:[],l&&r?Tl(l):[])}return t.concat(s,Tl(s,[],r))}function fm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function g1(e){const t=qr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=bn(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Iu(r)!==a||Iu(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function Qp(e){return Gr(e)?e:e.contextElement}function Ro(e){const t=Qp(e);if(!bn(t))return gn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=g1(t);let o=(a?Iu(r.width):r.width)/n,l=(a?Iu(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const JA=gn(0);function v1(e){const t=ir(e);return!Yp()||!t.visualViewport?JA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ZA(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ir(e)?!1:t}function $a(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=Qp(e);let o=gn(1);t&&(n?Gr(n)&&(o=Ro(n)):o=Ro(e));const l=ZA(a,r,n)?v1(a):gn(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=ir(a),m=n&&Gr(n)?ir(n):n;let w=h,v=fm(w);for(;v&&n&&m!==w;){const y=Ro(v),x=v.getBoundingClientRect(),g=qr(v),b=x.left+(v.clientLeft+parseFloat(g.paddingLeft))*y.x,S=x.top+(v.clientTop+parseFloat(g.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=b,u+=S,w=ir(v),v=fm(w)}}return $u({width:d,height:f,x:c,y:u})}function Jp(e,t){const r=Cd(e).scrollLeft;return t?t.left+r:$a(Cn(e)).left+r}function y1(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Jp(e,n)),a=n.top+t.scrollTop;return{x:s,y:a}}function XA(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=Cn(n),l=t?Sd(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=gn(1);const d=gn(0),f=bn(n);if((f||!f&&!a)&&((yi(n)!=="body"||Gl(o))&&(c=Cd(n)),bn(n))){const m=$a(n);u=Ro(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!a?y1(o,c,!0):gn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function eT(e){return Array.from(e.getClientRects())}function tT(e){const t=Cn(e),r=Cd(e),n=e.ownerDocument.body,s=sr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=sr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Jp(e);const l=-r.scrollTop;return qr(n).direction==="rtl"&&(o+=sr(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function rT(e,t){const r=ir(e),n=Cn(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=Yp();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function nT(e,t){const r=$a(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=bn(e)?Ro(e):gn(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function Fy(e,t,r){let n;if(t==="viewport")n=rT(e,r);else if(t==="document")n=tT(Cn(e));else if(Gr(t))n=nT(t,r);else{const s=v1(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return $u(n)}function x1(e,t){const r=Gs(e);return r===t||!Gr(r)||ei(r)?!1:qr(r).position==="fixed"||x1(r,t)}function sT(e,t){const r=t.get(e);if(r)return r;let n=Tl(e,[],!1).filter(l=>Gr(l)&&yi(l)!=="body"),s=null;const a=qr(e).position==="fixed";let o=a?Gs(e):e;for(;Gr(o)&&!ei(o);){const l=qr(o),c=Kp(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Gl(o)&&!c&&x1(e,o))?n=n.filter(d=>d!==o):s=l,o=Gs(o)}return t.set(e,n),n}function aT(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Sd(t)?[]:sT(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=Fy(t,d,s);return u.top=sr(f.top,u.top),u.right=Hs(f.right,u.right),u.bottom=Hs(f.bottom,u.bottom),u.left=sr(f.left,u.left),u},Fy(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function oT(e){const{width:t,height:r}=g1(e);return{width:t,height:r}}function iT(e,t,r){const n=bn(t),s=Cn(t),a=r==="fixed",o=$a(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=gn(0);function u(){c.x=Jp(s)}if(n||!n&&!a)if((yi(t)!=="body"||Gl(s))&&(l=Cd(t)),n){const m=$a(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?y1(s,l):gn(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Rf(e){return qr(e).position==="static"}function Uy(e,t){if(!bn(e)||qr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Cn(e)===r&&(r=r.ownerDocument.body),r}function w1(e,t){const r=ir(e);if(Sd(e))return r;if(!bn(e)){let s=Gs(e);for(;s&&!ei(s);){if(Gr(s)&&!Rf(s))return s;s=Gs(s)}return r}let n=Uy(e,t);for(;n&&YA(n)&&Rf(n);)n=Uy(n,t);return n&&ei(n)&&Rf(n)&&!Kp(n)?r:n||QA(e)||r}const lT=async function(e){const t=this.getOffsetParent||w1,r=this.getDimensions,n=await r(e.floating);return{reference:iT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function cT(e){return qr(e).direction==="rtl"}const uT={convertOffsetParentRelativeRectToViewportRelativeRect:XA,getDocumentElement:Cn,getClippingRect:aT,getOffsetParent:w1,getElementRects:lT,getClientRects:eT,getDimensions:oT,getScale:Ro,isElement:Gr,isRTL:cT};function b1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dT(e,t){let r=null,n;const s=Cn(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const w=jc(f),v=jc(s.clientWidth-(d+h)),y=jc(s.clientHeight-(f+m)),x=jc(d),b={rootMargin:-w+"px "+-v+"px "+-y+"px "+-x+"px",threshold:sr(0,Hs(1,c))||1};let S=!0;function C(j){const A=j[0].intersectionRatio;if(A!==c){if(!S)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!b1(u,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(C,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,b)}r.observe(e)}return o(!0),a}function fT(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Qp(e),d=s||a?[...u?Tl(u):[],...Tl(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const f=u&&l?dT(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[g]=x;g&&g.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let w,v=c?$a(e):null;c&&y();function y(){const x=$a(e);v&&!b1(v,x)&&r(),v=x,w=requestAnimationFrame(y)}return r(),()=>{var x;d.forEach(g=>{s&&g.removeEventListener("scroll",r),a&&g.removeEventListener("resize",r)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(w)}}const hT=HA,mT=GA,pT=VA,gT=KA,vT=BA,zy=zA,yT=qA,xT=(e,t,r)=>{const n=new Map,s={platform:uT,...r},a={...s.platform,_c:n};return UA(e,t,{...s,platform:a})};var wT=typeof document<"u",bT=function(){},Xc=wT?p.useLayoutEffect:bT;function Mu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Mu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Mu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function _1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Vy(e,t){const r=_1(e);return Math.round(t*r)/r}function If(e){const t=p.useRef(e);return Xc(()=>{t.current=e}),t}function _T(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(n);Mu(h,n)||m(n);const[w,v]=p.useState(null),[y,x]=p.useState(null),g=p.useCallback(N=>{N!==j.current&&(j.current=N,v(N))},[]),b=p.useCallback(N=>{N!==A.current&&(A.current=N,x(N))},[]),S=a||w,C=o||y,j=p.useRef(null),A=p.useRef(null),E=p.useRef(d),O=c!=null,I=If(c),P=If(s),R=If(u),V=p.useCallback(()=>{if(!j.current||!A.current)return;const N={placement:t,strategy:r,middleware:h};P.current&&(N.platform=P.current),xT(j.current,A.current,N).then($=>{const W={...$,isPositioned:R.current!==!1};D.current&&!Mu(E.current,W)&&(E.current=W,Ha.flushSync(()=>{f(W)}))})},[h,t,r,P,R]);Xc(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(N=>({...N,isPositioned:!1})))},[u]);const D=p.useRef(!1);Xc(()=>(D.current=!0,()=>{D.current=!1}),[]),Xc(()=>{if(S&&(j.current=S),C&&(A.current=C),S&&C){if(I.current)return I.current(S,C,V);V()}},[S,C,V,I,O]);const J=p.useMemo(()=>({reference:j,floating:A,setReference:g,setFloating:b}),[g,b]),G=p.useMemo(()=>({reference:S,floating:C}),[S,C]),T=p.useMemo(()=>{const N={position:r,left:0,top:0};if(!G.floating)return N;const $=Vy(G.floating,d.x),W=Vy(G.floating,d.y);return l?{...N,transform:"translate("+$+"px, "+W+"px)",..._1(G.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:W}},[r,l,G.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:V,refs:J,elements:G,floatingStyles:T}),[d,V,J,G,T])}const ST=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?zy({element:n.current,padding:s}).fn(r):{}:n?zy({element:n,padding:s}).fn(r):{}}}},CT=(e,t)=>({...hT(e),options:[e,t]}),NT=(e,t)=>({...mT(e),options:[e,t]}),ET=(e,t)=>({...yT(e),options:[e,t]}),jT=(e,t)=>({...pT(e),options:[e,t]}),kT=(e,t)=>({...gT(e),options:[e,t]}),AT=(e,t)=>({...vT(e),options:[e,t]}),TT=(e,t)=>({...ST(e),options:[e,t]});var PT="Arrow",S1=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(fe.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});S1.displayName=PT;var OT=S1;function Zp(e){const[t,r]=p.useState(void 0);return ct(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Xp="Popper",[C1,xi]=hr(Xp),[RT,N1]=C1(Xp),E1=e=>{const{__scopePopper:t,children:r}=e,[n,s]=p.useState(null);return i.jsx(RT,{scope:t,anchor:n,onAnchorChange:s,children:r})};E1.displayName=Xp;var j1="PopperAnchor",k1=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=N1(j1,r),o=p.useRef(null),l=Ce(t,o);return p.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(fe.div,{...s,ref:l})});k1.displayName=j1;var eg="PopperContent",[IT,LT]=C1(eg),A1=p.forwardRef((e,t)=>{var Q,Te,He,Pe,ke,Oe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:w,...v}=e,y=N1(eg,r),[x,g]=p.useState(null),b=Ce(t,vt=>g(vt)),[S,C]=p.useState(null),j=Zp(S),A=(j==null?void 0:j.width)??0,E=(j==null?void 0:j.height)??0,O=n+(a!=="center"?"-"+a:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],R=P.length>0,V={padding:I,boundary:P.filter(MT),altBoundary:R},{refs:D,floatingStyles:J,placement:G,isPositioned:T,middlewareData:N}=_T({strategy:"fixed",placement:O,whileElementsMounted:(...vt)=>fT(...vt,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[CT({mainAxis:s+E,alignmentAxis:o}),c&&NT({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?ET():void 0,...V}),c&&jT({...V}),kT({...V,apply:({elements:vt,rects:Ot,availableWidth:Jr,availableHeight:Zr})=>{const{width:En,height:Xa}=Ot.reference,jn=vt.floating.style;jn.setProperty("--radix-popper-available-width",`${Jr}px`),jn.setProperty("--radix-popper-available-height",`${Zr}px`),jn.setProperty("--radix-popper-anchor-width",`${En}px`),jn.setProperty("--radix-popper-anchor-height",`${Xa}px`)}}),S&&TT({element:S,padding:l}),DT({arrowWidth:A,arrowHeight:E}),h&&AT({strategy:"referenceHidden",...V})]}),[$,W]=O1(G),oe=pt(w);ct(()=>{T&&(oe==null||oe())},[T,oe]);const ie=(Q=N.arrow)==null?void 0:Q.x,M=(Te=N.arrow)==null?void 0:Te.y,z=((He=N.arrow)==null?void 0:He.centerOffset)!==0,[te,ge]=p.useState();return ct(()=>{x&&ge(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:T?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(Pe=N.transformOrigin)==null?void 0:Pe.x,(ke=N.transformOrigin)==null?void 0:ke.y].join(" "),...((Oe=N.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(IT,{scope:r,placedSide:$,onArrowChange:C,arrowX:ie,arrowY:M,shouldHideArrow:z,children:i.jsx(fe.div,{"data-side":$,"data-align":W,...v,ref:b,style:{...v.style,animation:T?void 0:"none"}})})})});A1.displayName=eg;var T1="PopperArrow",$T={top:"bottom",right:"left",bottom:"top",left:"right"},P1=p.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=LT(T1,n),o=$T[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(OT,{...s,ref:r,style:{...s.style,display:"block"}})})});P1.displayName=T1;function MT(e){return e!==null}var DT=e=>({name:"transformOrigin",options:e,fn(t){var y,x,g;const{placement:r,rects:n,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=O1(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,m=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let w="",v="";return u==="bottom"?(w=o?f:`${h}px`,v=`${-c}px`):u==="top"?(w=o?f:`${h}px`,v=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,v=o?f:`${m}px`):u==="left"&&(w=`${n.floating.width+c}px`,v=o?f:`${m}px`),{data:{x:w,y:v}}}});function O1(e){const[t,r="center"]=e.split("-");return[t,r]}var R1=E1,Nd=k1,tg=A1,rg=P1,FT="Portal",ql=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=p.useState(!1);ct(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Hb.createPortal(i.jsx(fe.div,{...n,ref:t}),o):null});ql.displayName=FT;function UT(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var mr=e=>{const{present:t,children:r}=e,n=zT(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),a=Ce(n.ref,VT(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:a}):null};mr.displayName="Presence";function zT(e){const[t,r]=p.useState(),n=p.useRef(null),s=p.useRef(e),a=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=UT(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=kc(n.current);a.current=l==="mounted"?u:"none"},[l]),ct(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,m=kc(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ct(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const v=kc(n.current).includes(m.animationName);if(m.target===t&&v&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(a.current=kc(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function kc(e){return(e==null?void 0:e.animationName)||"none"}function VT(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var BT=Zm[" useInsertionEffect ".trim().toString()]||ct;function Ma({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,o]=WT({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const h=HT(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else a(d)},[l,e,a,o]);return[c,u]}function WT({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),s=p.useRef(r),a=p.useRef(t);return BT(()=>{a.current=t},[t]),p.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function HT(e){return typeof e=="function"}var I1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),GT="VisuallyHidden",Ed=p.forwardRef((e,t)=>i.jsx(fe.span,{...e,ref:t,style:{...I1,...e.style}}));Ed.displayName=GT;var qT=Ed,[jd,dU]=hr("Tooltip",[xi]),ng=xi(),L1="TooltipProvider",KT=700,By="tooltip.open",[YT,$1]=jd(L1),M1=e=>{const{__scopeTooltip:t,delayDuration:r=KT,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(YT,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};M1.displayName=L1;var D1="Tooltip",[fU,kd]=jd(D1),hm="TooltipTrigger",QT=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=kd(hm,r),a=$1(hm,r),o=ng(r),l=p.useRef(null),c=Ce(t,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Nd,{asChild:!0,...o,children:i.jsx(fe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ue(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ue(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ue(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ue(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ue(e.onBlur,s.onClose),onClick:ue(e.onClick,s.onClose)})})});QT.displayName=hm;var JT="TooltipPortal",[hU,ZT]=jd(JT,{forceMount:void 0}),ti="TooltipContent",F1=p.forwardRef((e,t)=>{const r=ZT(ti,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,o=kd(ti,e.__scopeTooltip);return i.jsx(mr,{present:n||o.open,children:o.disableHoverableContent?i.jsx(U1,{side:s,...a,ref:t}):i.jsx(XT,{side:s,...a,ref:t})})}),XT=p.forwardRef((e,t)=>{const r=kd(ti,e.__scopeTooltip),n=$1(ti,e.__scopeTooltip),s=p.useRef(null),a=Ce(t,s),[o,l]=p.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=p.useCallback(()=>{l(null),f(!1)},[f]),m=p.useCallback((w,v)=>{const y=w.currentTarget,x={x:w.clientX,y:w.clientY},g=sP(x,y.getBoundingClientRect()),b=aP(x,g),S=oP(v.getBoundingClientRect()),C=lP([...b,...S]);l(C),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const w=y=>m(y,d),v=y=>m(y,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",v)}}},[c,d,m,h]),p.useEffect(()=>{if(o){const w=v=>{const y=v.target,x={x:v.clientX,y:v.clientY},g=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!iP(x,o);g?h():b&&(h(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,o,u,h]),i.jsx(U1,{...e,ref:a})}),[eP,tP]=jd(D1,{isInside:!1}),rP=l1("TooltipContent"),U1=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=kd(ti,r),u=ng(r),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(By,d),()=>document.removeEventListener(By,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(gi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(tg,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(rP,{children:n}),i.jsx(eP,{scope:r,isInside:!0,children:i.jsx(qT,{id:c.contentId,role:"tooltip",children:s||n})})]})})});F1.displayName=ti;var z1="TooltipArrow",nP=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=ng(r);return tP(z1,r).isInside?null:i.jsx(rg,{...s,...n,ref:t})});nP.displayName=z1;function sP(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function aP(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function oP(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function iP(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function lP(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),cP(t)}function cP(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var uP=M1,V1=F1;function B1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=B1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function W1(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=B1(e))&&(n&&(n+=" "),n+=t);return n}const sg="-",dP=e=>{const t=hP(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(sg);return l[0]===""&&l.length!==1&&l.shift(),H1(l,t)||fP(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},H1=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?H1(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(sg);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},Wy=/^\[(.+)\]$/,fP=e=>{if(Wy.test(e)){const t=Wy.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},hP=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return pP(Object.entries(e.classGroups),r).forEach(([a,o])=>{mm(o,n,a,t)}),n},mm=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Hy(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(mP(s)){mm(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{mm(o,Hy(t,a),r,n)})})},Hy=(e,t)=>{let r=e;return t.split(sg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},mP=e=>e.isThemeGetter,pP=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,gP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},G1="!",vP=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let x=l[y];if(u===0){if(x===s&&(n||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(x==="/"){f=y;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(G1),w=m?h.substring(1):h,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},yP=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},xP=e=>({cache:gP(e.cacheSize),parseClassName:vP(e),...dP(e)}),wP=/\s+/,bP=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(wP);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let w=!!m,v=n(w?h.substring(0,m):h);if(!v){if(!w){l=u+(l.length>0?" "+l:l);continue}if(v=n(h),!v){l=u+(l.length>0?" "+l:l);continue}w=!1}const y=yP(d).join(":"),x=f?y+G1:y,g=x+v;if(a.includes(g))continue;a.push(g);const b=s(v,w);for(let S=0;S<b.length;++S){const C=b[S];a.push(x+C)}l=u+(l.length>0?" "+l:l)}return l};function _P(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=q1(t))&&(n&&(n+=" "),n+=r);return n}const q1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=q1(e[n]))&&(r&&(r+=" "),r+=t);return r};function SP(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=xP(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=bP(c,r);return s(c,d),d}return function(){return a(_P.apply(null,arguments))}}const Ye=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},K1=/^\[(?:([a-z-]+):)?(.+)\]$/i,CP=/^\d+\/\d+$/,NP=new Set(["px","full","screen"]),EP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tn=e=>Io(e)||NP.has(e)||CP.test(e),ls=e=>wi(e,"length",DP),Io=e=>!!e&&!Number.isNaN(Number(e)),Lf=e=>wi(e,"number",Io),Ii=e=>!!e&&Number.isInteger(Number(e)),PP=e=>e.endsWith("%")&&Io(e.slice(0,-1)),Se=e=>K1.test(e),cs=e=>EP.test(e),OP=new Set(["length","size","percentage"]),RP=e=>wi(e,OP,Y1),IP=e=>wi(e,"position",Y1),LP=new Set(["image","url"]),$P=e=>wi(e,LP,UP),MP=e=>wi(e,"",FP),Li=()=>!0,wi=(e,t,r)=>{const n=K1.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},DP=e=>jP.test(e)&&!kP.test(e),Y1=()=>!1,FP=e=>AP.test(e),UP=e=>TP.test(e),zP=()=>{const e=Ye("colors"),t=Ye("spacing"),r=Ye("blur"),n=Ye("brightness"),s=Ye("borderColor"),a=Ye("borderRadius"),o=Ye("borderSpacing"),l=Ye("borderWidth"),c=Ye("contrast"),u=Ye("grayscale"),d=Ye("hueRotate"),f=Ye("invert"),h=Ye("gap"),m=Ye("gradientColorStops"),w=Ye("gradientColorStopPositions"),v=Ye("inset"),y=Ye("margin"),x=Ye("opacity"),g=Ye("padding"),b=Ye("saturate"),S=Ye("scale"),C=Ye("sepia"),j=Ye("skew"),A=Ye("space"),E=Ye("translate"),O=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Se,t],R=()=>[Se,t],V=()=>["",Tn,ls],D=()=>["auto",Io,Se],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],T=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Se],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[Io,Se];return{cacheSize:500,separator:":",theme:{colors:[Li],spacing:[Tn,ls],blur:["none","",cs,Se],brightness:oe(),borderColor:[e],borderRadius:["none","","full",cs,Se],borderSpacing:R(),borderWidth:V(),contrast:oe(),grayscale:$(),hueRotate:oe(),invert:$(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[PP,ls],inset:P(),margin:P(),opacity:oe(),padding:R(),saturate:oe(),scale:oe(),sepia:$(),skew:oe(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Se]}],container:["container"],columns:[{columns:[cs]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Se]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ii,Se]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Se]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Ii,Se]}],"grid-cols":[{"grid-cols":[Li]}],"col-start-end":[{col:["auto",{span:["full",Ii,Se]},Se]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Li]}],"row-start-end":[{row:["auto",{span:[Ii,Se]},Se]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Se]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Se,t]}],"min-w":[{"min-w":[Se,t,"min","max","fit"]}],"max-w":[{"max-w":[Se,t,"none","full","min","max","fit","prose",{screen:[cs]},cs]}],h:[{h:[Se,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Se,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Se,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Se,t,"auto","min","max","fit"]}],"font-size":[{text:["base",cs,ls]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lf]}],"font-family":[{font:[Li]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Se]}],"line-clamp":[{"line-clamp":["none",Io,Lf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tn,Se]}],"list-image":[{"list-image":["none",Se]}],"list-style-type":[{list:["none","disc","decimal",Se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Tn,ls]}],"underline-offset":[{"underline-offset":["auto",Tn,Se]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),IP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",RP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$P]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Tn,Se]}],"outline-w":[{outline:[Tn,ls]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Tn,ls]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",cs,MP]}],"shadow-color":[{shadow:[Li]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...T(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",cs,Se]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Se]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",Se]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Ii,Se]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Se]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Tn,ls,Lf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},VP=SP(zP);function _(...e){return VP(W1(e))}const BP=uP,WP=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(V1,{ref:n,sideOffset:t,className:_("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));WP.displayName=V1.displayName;const HP=1,GP=1e6;let $f=0;function qP(){return $f=($f+1)%Number.MAX_SAFE_INTEGER,$f.toString()}const Mf=new Map,Gy=e=>{if(Mf.has(e))return;const t=setTimeout(()=>{Mf.delete(e),sl({type:"REMOVE_TOAST",toastId:e})},GP);Mf.set(e,t)},KP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,HP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Gy(r):e.toasts.forEach(n=>{Gy(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},eu=[];let tu={toasts:[]};function sl(e){tu=KP(tu,e),eu.forEach(t=>{t(tu)})}function pr({...e}){const t=qP(),r=s=>sl({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>sl({type:"DISMISS_TOAST",toastId:t});return sl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Bt(){const[e,t]=p.useState(tu);return p.useEffect(()=>(eu.push(t),()=>{const r=eu.indexOf(t);r>-1&&eu.splice(r,1)}),[e]),{...e,toast:pr,dismiss:r=>sl({type:"DISMISS_TOAST",toastId:r})}}function Q1(e){const t=e+"CollectionProvider",[r,n]=hr(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:x}=v,g=B.useRef(null),b=B.useRef(new Map).current;return i.jsx(s,{scope:y,itemMap:b,collectionRef:g,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=La(l),u=B.forwardRef((v,y)=>{const{scope:x,children:g}=v,b=a(l,x),S=Ce(y,b.collectionRef);return i.jsx(c,{ref:S,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=La(d),m=B.forwardRef((v,y)=>{const{scope:x,children:g,...b}=v,S=B.useRef(null),C=Ce(y,S),j=a(d,x);return B.useEffect(()=>(j.itemMap.set(S,{ref:S,...b}),()=>void j.itemMap.delete(S))),i.jsx(h,{[f]:"",ref:C,children:g})});m.displayName=d;function w(v){const y=a(e+"CollectionConsumer",v);return B.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((j,A)=>b.indexOf(j.ref.current)-b.indexOf(A.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},w,n]}var ag="ToastProvider",[og,YP,QP]=Q1("Toast"),[J1,mU]=hr("Toast",[QP]),[JP,Ad]=J1(ag),Z1=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ag}\`. Expected non-empty \`string\`.`),i.jsx(og.Provider,{scope:t,children:i.jsx(JP,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Z1.displayName=ag;var X1="ToastViewport",ZP=["F8"],pm="toast.viewportPause",gm="toast.viewportResume",e_=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=ZP,label:s="Notifications ({hotkey})",...a}=e,o=Ad(X1,r),l=YP(r),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=Ce(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;p.useEffect(()=>{const y=x=>{var b;n.length!==0&&n.every(S=>x[S]||x.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),p.useEffect(()=>{const y=c.current,x=f.current;if(w&&y&&x){const g=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(pm);x.dispatchEvent(j),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(gm);x.dispatchEvent(j),o.isClosePausedRef.current=!1}},S=j=>{!y.contains(j.relatedTarget)&&b()},C=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",g),y.addEventListener("focusout",S),y.addEventListener("pointermove",g),y.addEventListener("pointerleave",C),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",g),y.removeEventListener("focusout",S),y.removeEventListener("pointermove",g),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:y})=>{const g=l().map(b=>{const S=b.ref.current,C=[S,...dO(S)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?g.reverse():g).flat()},[l]);return p.useEffect(()=>{const y=f.current;if(y){const x=g=>{var C,j,A;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const E=document.activeElement,O=g.shiftKey;if(g.target===y&&O){(C=u.current)==null||C.focus();return}const R=v({tabbingDirection:O?"backwards":"forwards"}),V=R.findIndex(D=>D===E);Df(R.slice(V+1))?g.preventDefault():O?(j=u.current)==null||j.focus():(A=d.current)==null||A.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[l,v]),i.jsxs(AA,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&i.jsx(vm,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});Df(y)}}),i.jsx(og.Slot,{scope:r,children:i.jsx(fe.ol,{tabIndex:-1,...a,ref:h})}),w&&i.jsx(vm,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});Df(y)}})]})});e_.displayName=X1;var t_="ToastFocusProxy",vm=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=Ad(t_,r);return i.jsx(Ed,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});vm.displayName=t_;var Kl="Toast",XP="toast.swipeStart",eO="toast.swipeMove",tO="toast.swipeCancel",rO="toast.swipeEnd",r_=p.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l,c]=Ma({prop:n,defaultProp:s??!0,onChange:a,caller:Kl});return i.jsx(mr,{present:r||l,children:i.jsx(aO,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:pt(e.onPause),onResume:pt(e.onResume),onSwipeStart:ue(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ue(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});r_.displayName=Kl;var[nO,sO]=J1(Kl,{onClose(){}}),aO=p.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...w}=e,v=Ad(Kl,r),[y,x]=p.useState(null),g=Ce(t,D=>x(D)),b=p.useRef(null),S=p.useRef(null),C=s||v.duration,j=p.useRef(0),A=p.useRef(C),E=p.useRef(0),{onToastAdd:O,onToastRemove:I}=v,P=pt(()=>{var J;(y==null?void 0:y.contains(document.activeElement))&&((J=v.viewport)==null||J.focus()),o()}),R=p.useCallback(D=>{!D||D===1/0||(window.clearTimeout(E.current),j.current=new Date().getTime(),E.current=window.setTimeout(P,D))},[P]);p.useEffect(()=>{const D=v.viewport;if(D){const J=()=>{R(A.current),u==null||u()},G=()=>{const T=new Date().getTime()-j.current;A.current=A.current-T,window.clearTimeout(E.current),c==null||c()};return D.addEventListener(pm,G),D.addEventListener(gm,J),()=>{D.removeEventListener(pm,G),D.removeEventListener(gm,J)}}},[v.viewport,C,c,u,R]),p.useEffect(()=>{a&&!v.isClosePausedRef.current&&R(C)},[a,C,v.isClosePausedRef,R]),p.useEffect(()=>(O(),()=>I()),[O,I]);const V=p.useMemo(()=>y?c_(y):null,[y]);return v.viewport?i.jsxs(i.Fragment,{children:[V&&i.jsx(oO,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),i.jsx(nO,{scope:r,onClose:P,children:Ha.createPortal(i.jsx(og.ItemSlot,{scope:r,children:i.jsx(kA,{asChild:!0,onEscapeKeyDown:ue(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||P(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ue(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:ue(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:ue(e.onPointerMove,D=>{if(!b.current)return;const J=D.clientX-b.current.x,G=D.clientY-b.current.y,T=!!S.current,N=["left","right"].includes(v.swipeDirection),$=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,W=N?$(0,J):0,oe=N?0:$(0,G),ie=D.pointerType==="touch"?10:2,M={x:W,y:oe},z={originalEvent:D,delta:M};T?(S.current=M,Ac(eO,f,z,{discrete:!1})):qy(M,v.swipeDirection,ie)?(S.current=M,Ac(XP,d,z,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(J)>ie||Math.abs(G)>ie)&&(b.current=null)}),onPointerUp:ue(e.onPointerUp,D=>{const J=S.current,G=D.target;if(G.hasPointerCapture(D.pointerId)&&G.releasePointerCapture(D.pointerId),S.current=null,b.current=null,J){const T=D.currentTarget,N={originalEvent:D,delta:J};qy(J,v.swipeDirection,v.swipeThreshold)?Ac(rO,m,N,{discrete:!0}):Ac(tO,h,N,{discrete:!0}),T.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),oO=e=>{const{__scopeToast:t,children:r,...n}=e,s=Ad(Kl,t),[a,o]=p.useState(!1),[l,c]=p.useState(!1);return cO(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(ql,{asChild:!0,children:i.jsx(Ed,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},iO="ToastTitle",n_=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(fe.div,{...n,ref:t})});n_.displayName=iO;var lO="ToastDescription",s_=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(fe.div,{...n,ref:t})});s_.displayName=lO;var a_="ToastAction",o_=p.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(l_,{altText:r,asChild:!0,children:i.jsx(ig,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${a_}\`. Expected non-empty \`string\`.`),null)});o_.displayName=a_;var i_="ToastClose",ig=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=sO(i_,r);return i.jsx(l_,{asChild:!0,children:i.jsx(fe.button,{type:"button",...n,ref:t,onClick:ue(e.onClick,s.onClose)})})});ig.displayName=i_;var l_=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function c_(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),uO(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...c_(n))}}),t}function Ac(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?c1(s,a):s.dispatchEvent(a)}var qy=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function cO(e=()=>{}){const t=pt(e);ct(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function uO(e){return e.nodeType===e.ELEMENT_NODE}function dO(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Df(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var fO=Z1,u_=e_,d_=r_,f_=n_,h_=s_,m_=o_,p_=ig;const Ky=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Yy=W1,Td=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Yy(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=Ky(d)||Ky(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(w=>{let[v,y]=w;return Array.isArray(y)?y.includes({...a,...l}[v]):{...a,...l}[v]===y})?[...u,f,h]:u},[]);return Yy(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g_=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...mO,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:g_("lucide",s),...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const r=p.forwardRef(({className:n,...s},a)=>p.createElement(pO,{ref:a,iconNode:t,className:g_(`lucide-${hO(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ee("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=ee("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=ee("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=ee("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=ee("FileOutput",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4 7V4a2 2 0 0 1 2-2 2 2 0 0 0-2 2",key:"1vk7w2"}],["path",{d:"M4.063 20.999a2 2 0 0 0 2 1L18 22a2 2 0 0 0 2-2V7l-5-5H6",key:"1jink5"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=ee("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=ee("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=ee("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=ee("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=ee("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=ee("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=ee("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=ee("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=ee("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=ee("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=ee("PinOff",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=ee("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=ee("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=ee("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=ee("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=ee("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=ee("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=ee("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=ee("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=ee("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=ee("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=ee("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ee("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),BO=fO,R_=p.forwardRef(({className:e,...t},r)=>i.jsx(u_,{ref:r,className:_("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));R_.displayName=u_.displayName;const WO=Td("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),I_=p.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(d_,{ref:n,className:_(WO({variant:t}),e),...r}));I_.displayName=d_.displayName;const HO=p.forwardRef(({className:e,...t},r)=>i.jsx(m_,{ref:r,className:_("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));HO.displayName=m_.displayName;const L_=p.forwardRef(({className:e,...t},r)=>i.jsx(p_,{ref:r,className:_("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Vn,{className:"h-4 w-4"})}));L_.displayName=p_.displayName;const $_=p.forwardRef(({className:e,...t},r)=>i.jsx(f_,{ref:r,className:_("text-sm font-semibold",e),...t}));$_.displayName=f_.displayName;const M_=p.forwardRef(({className:e,...t},r)=>i.jsx(h_,{ref:r,className:_("text-sm opacity-90",e),...t}));M_.displayName=h_.displayName;function GO(){const{toasts:e}=Bt();return i.jsxs(BO,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return i.jsxs(I_,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx($_,{children:r}),n&&i.jsx(M_,{children:n})]}),s,i.jsx(L_,{})]},t)}),i.jsx(R_,{})]})}var r0=["light","dark"],qO="(prefers-color-scheme: dark)",KO=p.createContext(void 0),YO={setTheme:e=>{},themes:[]},QO=()=>{var e;return(e=p.useContext(KO))!=null?e:YO};p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?r0.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(w,v=!1,y=!0)=>{let x=o?o[w]:w,g=v?w+"|| ''":`'${x}'`,b="";return s&&y&&!v&&r0.includes(w)&&(b+=`d.style.colorScheme = '${w}';`),r==="class"?v||x?b+=`c.add(${g})`:b+="null":x&&(b+=`d[s](n,${g})`),b},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${qO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var JO=e=>{switch(e){case"success":return eR;case"info":return rR;case"warning":return tR;case"error":return nR;default:return null}},ZO=Array(12).fill(0),XO=({visible:e,className:t})=>B.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},B.createElement("div",{className:"sonner-spinner"},ZO.map((r,n)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),eR=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),tR=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),rR=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nR=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),sR=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aR=()=>{let[e,t]=B.useState(document.hidden);return B.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},xm=1,oR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:xm++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],B.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(lR(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||xm++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},qt=new oR,iR=(e,t)=>{let r=(t==null?void 0:t.id)||xm++;return qt.addToast({title:e,...t,id:r}),r},lR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",cR=iR,uR=()=>qt.toasts,dR=()=>qt.getActiveToasts();Object.assign(cR,{success:qt.success,info:qt.info,warning:qt.warning,error:qt.error,custom:qt.custom,message:qt.message,promise:qt.promise,dismiss:qt.dismiss,loading:qt.loading},{getHistory:uR,getToasts:dR});function fR(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}fR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Pc(e){return e.label!==void 0}var hR=3,mR="32px",pR="16px",n0=4e3,gR=356,vR=14,yR=20,xR=200;function Tr(...e){return e.filter(Boolean).join(" ")}function wR(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var bR=e=>{var t,r,n,s,a,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:w,interacting:v,setHeights:y,visibleToasts:x,heights:g,index:b,toasts:S,expanded:C,removeToast:j,defaultRichColors:A,closeButton:E,style:O,cancelButtonStyle:I,actionButtonStyle:P,className:R="",descriptionClassName:V="",duration:D,position:J,gap:G,loadingIcon:T,expandByDefault:N,classNames:$,icons:W,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:ie}=e,[M,z]=B.useState(null),[te,ge]=B.useState(null),[Q,Te]=B.useState(!1),[He,Pe]=B.useState(!1),[ke,Oe]=B.useState(!1),[vt,Ot]=B.useState(!1),[Jr,Zr]=B.useState(!1),[En,Xa]=B.useState(0),[jn,k]=B.useState(0),L=B.useRef(m.duration||D||n0),F=B.useRef(null),X=B.useRef(null),Z=b===0,Y=b+1<=x,ne=m.type,Ae=m.dismissible!==!1,Ve=m.className||"",Wt=m.descriptionClassName||"",kn=B.useMemo(()=>g.findIndex(we=>we.toastId===m.id)||0,[g,m.id]),Xr=B.useMemo(()=>{var we;return(we=m.closeButton)!=null?we:E},[m.closeButton,E]),ac=B.useMemo(()=>m.duration||D||n0,[m.duration,D]),oa=B.useRef(0),en=B.useRef(0),oc=B.useRef(0),An=B.useRef(null),[rf,ic]=J.split("-"),lv=B.useMemo(()=>g.reduce((we,Be,Ze)=>Ze>=kn?we:we+Be.height,0),[g,kn]),cv=aR(),JE=m.invert||h,nf=ne==="loading";en.current=B.useMemo(()=>kn*G+lv,[kn,lv]),B.useEffect(()=>{L.current=ac},[ac]),B.useEffect(()=>{Te(!0)},[]),B.useEffect(()=>{let we=X.current;if(we){let Be=we.getBoundingClientRect().height;return k(Be),y(Ze=>[{toastId:m.id,height:Be,position:m.position},...Ze]),()=>y(Ze=>Ze.filter(Er=>Er.toastId!==m.id))}},[y,m.id]),B.useLayoutEffect(()=>{if(!Q)return;let we=X.current,Be=we.style.height;we.style.height="auto";let Ze=we.getBoundingClientRect().height;we.style.height=Be,k(Ze),y(Er=>Er.find(jr=>jr.toastId===m.id)?Er.map(jr=>jr.toastId===m.id?{...jr,height:Ze}:jr):[{toastId:m.id,height:Ze,position:m.position},...Er])},[Q,m.title,m.description,y,m.id]);let ss=B.useCallback(()=>{Pe(!0),Xa(en.current),y(we=>we.filter(Be=>Be.toastId!==m.id)),setTimeout(()=>{j(m)},xR)},[m,j,y,en]);B.useEffect(()=>{if(m.promise&&ne==="loading"||m.duration===1/0||m.type==="loading")return;let we;return C||v||ie&&cv?(()=>{if(oc.current<oa.current){let Be=new Date().getTime()-oa.current;L.current=L.current-Be}oc.current=new Date().getTime()})():L.current!==1/0&&(oa.current=new Date().getTime(),we=setTimeout(()=>{var Be;(Be=m.onAutoClose)==null||Be.call(m,m),ss()},L.current)),()=>clearTimeout(we)},[C,v,m,ne,ie,cv,ss]),B.useEffect(()=>{m.delete&&ss()},[ss,m.delete]);function ZE(){var we,Be,Ze;return W!=null&&W.loading?B.createElement("div",{className:Tr($==null?void 0:$.loader,(we=m==null?void 0:m.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":ne==="loading"},W.loading):T?B.createElement("div",{className:Tr($==null?void 0:$.loader,(Be=m==null?void 0:m.classNames)==null?void 0:Be.loader,"sonner-loader"),"data-visible":ne==="loading"},T):B.createElement(XO,{className:Tr($==null?void 0:$.loader,(Ze=m==null?void 0:m.classNames)==null?void 0:Ze.loader),visible:ne==="loading"})}return B.createElement("li",{tabIndex:0,ref:X,className:Tr(R,Ve,$==null?void 0:$.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[ne],(r=m==null?void 0:m.classNames)==null?void 0:r[ne]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:A,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":Q,"data-promise":!!m.promise,"data-swiped":Jr,"data-removed":He,"data-visible":Y,"data-y-position":rf,"data-x-position":ic,"data-index":b,"data-front":Z,"data-swiping":ke,"data-dismissible":Ae,"data-type":ne,"data-invert":JE,"data-swipe-out":vt,"data-swipe-direction":te,"data-expanded":!!(C||N&&Q),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${He?En:en.current}px`,"--initial-height":N?"auto":`${jn}px`,...O,...m.style},onDragEnd:()=>{Oe(!1),z(null),An.current=null},onPointerDown:we=>{nf||!Ae||(F.current=new Date,Xa(en.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(Oe(!0),An.current={x:we.clientX,y:we.clientY}))},onPointerUp:()=>{var we,Be,Ze,Er;if(vt||!Ae)return;An.current=null;let jr=Number(((we=X.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),as=Number(((Be=X.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ia=new Date().getTime()-((Ze=F.current)==null?void 0:Ze.getTime()),kr=M==="x"?jr:as,os=Math.abs(kr)/ia;if(Math.abs(kr)>=yR||os>.11){Xa(en.current),(Er=m.onDismiss)==null||Er.call(m,m),ge(M==="x"?jr>0?"right":"left":as>0?"down":"up"),ss(),Ot(!0),Zr(!1);return}Oe(!1),z(null)},onPointerMove:we=>{var Be,Ze,Er,jr;if(!An.current||!Ae||((Be=window.getSelection())==null?void 0:Be.toString().length)>0)return;let as=we.clientY-An.current.y,ia=we.clientX-An.current.x,kr=(Ze=e.swipeDirections)!=null?Ze:wR(J);!M&&(Math.abs(ia)>1||Math.abs(as)>1)&&z(Math.abs(ia)>Math.abs(as)?"x":"y");let os={x:0,y:0};M==="y"?(kr.includes("top")||kr.includes("bottom"))&&(kr.includes("top")&&as<0||kr.includes("bottom")&&as>0)&&(os.y=as):M==="x"&&(kr.includes("left")||kr.includes("right"))&&(kr.includes("left")&&ia<0||kr.includes("right")&&ia>0)&&(os.x=ia),(Math.abs(os.x)>0||Math.abs(os.y)>0)&&Zr(!0),(Er=X.current)==null||Er.style.setProperty("--swipe-amount-x",`${os.x}px`),(jr=X.current)==null||jr.style.setProperty("--swipe-amount-y",`${os.y}px`)}},Xr&&!m.jsx?B.createElement("button",{"aria-label":oe,"data-disabled":nf,"data-close-button":!0,onClick:nf||!Ae?()=>{}:()=>{var we;ss(),(we=m.onDismiss)==null||we.call(m,m)},className:Tr($==null?void 0:$.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(a=W==null?void 0:W.close)!=null?a:sR):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:B.createElement(B.Fragment,null,ne||m.icon||m.promise?B.createElement("div",{"data-icon":"",className:Tr($==null?void 0:$.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ZE():null,m.type!=="loading"?m.icon||(W==null?void 0:W[ne])||JO(ne):null):null,B.createElement("div",{"data-content":"",className:Tr($==null?void 0:$.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},B.createElement("div",{"data-title":"",className:Tr($==null?void 0:$.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?B.createElement("div",{"data-description":"",className:Tr(V,Wt,$==null?void 0:$.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&Pc(m.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:we=>{var Be,Ze;Pc(m.cancel)&&Ae&&((Ze=(Be=m.cancel).onClick)==null||Ze.call(Be,we),ss())},className:Tr($==null?void 0:$.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&Pc(m.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||P,onClick:we=>{var Be,Ze;Pc(m.action)&&((Ze=(Be=m.action).onClick)==null||Ze.call(Be,we),!we.defaultPrevented&&ss())},className:Tr($==null?void 0:$.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function s0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function _R(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?pR:mR;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var SR=p.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:w=hR,toastOptions:v,dir:y=s0(),gap:x=vR,loadingIcon:g,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:C}=e,[j,A]=B.useState([]),E=B.useMemo(()=>Array.from(new Set([n].concat(j.filter(ie=>ie.position).map(ie=>ie.position)))),[j,n]),[O,I]=B.useState([]),[P,R]=B.useState(!1),[V,D]=B.useState(!1),[J,G]=B.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=B.useRef(null),N=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=B.useRef(null),W=B.useRef(!1),oe=B.useCallback(ie=>{A(M=>{var z;return(z=M.find(te=>te.id===ie.id))!=null&&z.delete||qt.dismiss(ie.id),M.filter(({id:te})=>te!==ie.id)})},[]);return B.useEffect(()=>qt.subscribe(ie=>{if(ie.dismiss){A(M=>M.map(z=>z.id===ie.id?{...z,delete:!0}:z));return}setTimeout(()=>{Hb.flushSync(()=>{A(M=>{let z=M.findIndex(te=>te.id===ie.id);return z!==-1?[...M.slice(0,z),{...M[z],...ie},...M.slice(z+1)]:[ie,...M]})})})}),[]),B.useEffect(()=>{if(d!=="system"){G(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;let ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:M})=>{G(M?"dark":"light")})}catch{ie.addListener(({matches:z})=>{try{G(z?"dark":"light")}catch(te){console.error(te)}})}},[d]),B.useEffect(()=>{j.length<=1&&R(!1)},[j]),B.useEffect(()=>{let ie=M=>{var z,te;s.every(ge=>M[ge]||M.code===ge)&&(R(!0),(z=T.current)==null||z.focus()),M.code==="Escape"&&(document.activeElement===T.current||(te=T.current)!=null&&te.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[s]),B.useEffect(()=>{if(T.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,W.current=!1)}},[T.current]),B.createElement("section",{ref:t,"aria-label":`${S} ${N}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((ie,M)=>{var z;let[te,ge]=ie.split("-");return j.length?B.createElement("ol",{key:ie,dir:y==="auto"?s0():y,tabIndex:-1,ref:T,className:l,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":te,"data-lifted":P&&j.length>1&&!a,"data-x-position":ge,style:{"--front-toast-height":`${((z=O[0])==null?void 0:z.height)||0}px`,"--width":`${gR}px`,"--gap":`${x}px`,...m,..._R(c,u)},onBlur:Q=>{W.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(W.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||W.current||(W.current=!0,$.current=Q.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{V||R(!1)},onDragEnd:()=>R(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},j.filter(Q=>!Q.position&&M===0||Q.position===ie).map((Q,Te)=>{var He,Pe;return B.createElement(bR,{key:Q.id,icons:b,index:Te,toast:Q,defaultRichColors:f,duration:(He=v==null?void 0:v.duration)!=null?He:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Pe=v==null?void 0:v.closeButton)!=null?Pe:o,interacting:V,position:ie,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:oe,toasts:j.filter(ke=>ke.position==Q.position),heights:O.filter(ke=>ke.position==Q.position),setHeights:I,expandByDefault:a,gap:x,loadingIcon:g,expanded:P,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const CR=({...e})=>{const{theme:t="system"}=QO();return i.jsx(SR,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},NR="modulepreload",ER=function(e){return"/"+e},a0={},bi=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=ER(c),c in a0)return;a0[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":NR,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},jR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>bi(async()=>{const{default:n}=await Promise.resolve().then(()=>_i);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class hg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class kR extends hg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class AR extends hg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class TR extends hg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wm||(wm={}));var PR=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class OR{constructor(t,{headers:r={},customFetch:n,region:s=wm.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=jR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return PR(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(w=>{throw new kR(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new AR(d);if(!d.ok)throw new TR(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Yt={},mg={},Ld={},Jl={},$d={},Md={},RR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ni=RR();const IR=ni.fetch,D_=ni.fetch.bind(ni),F_=ni.Headers,LR=ni.Request,$R=ni.Response,_i=Object.freeze(Object.defineProperty({__proto__:null,Headers:F_,Request:LR,Response:$R,default:D_,fetch:IR},Symbol.toStringTag,{value:"Module"})),MR=rj(_i);var Dd={};Object.defineProperty(Dd,"__esModule",{value:!0});let DR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Dd.default=DR;var U_=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Md,"__esModule",{value:!0});const FR=U_(MR),UR=U_(Dd);let zR=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=FR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,f=null,h=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await a.text();try{u=JSON.parse(v),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,m="OK")}catch{a.status===404&&v===""?(h=204,m="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new UR.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Md.default=zR;var VR=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($d,"__esModule",{value:!0});const BR=VR(Md);let WR=class extends BR.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};$d.default=WR;var HR=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jl,"__esModule",{value:!0});const GR=HR($d);let qR=class extends GR.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Jl.default=qR;var KR=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ld,"__esModule",{value:!0});const Mi=KR(Jl);let YR=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Mi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Mi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Mi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Mi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Mi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ld.default=YR;var Fd={},Ud={};Object.defineProperty(Ud,"__esModule",{value:!0});Ud.version=void 0;Ud.version="0.0.0-automated";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.DEFAULT_HEADERS=void 0;const QR=Ud;Fd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${QR.version}`};var z_=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mg,"__esModule",{value:!0});const JR=z_(Ld),ZR=z_(Jl),XR=Fd;let eI=class V_{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},XR.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new JR.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new V_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new ZR.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};mg.default=eI;var Si=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.PostgrestError=Yt.PostgrestBuilder=Yt.PostgrestTransformBuilder=Yt.PostgrestFilterBuilder=Yt.PostgrestQueryBuilder=Yt.PostgrestClient=void 0;const B_=Si(mg);Yt.PostgrestClient=B_.default;const W_=Si(Ld);Yt.PostgrestQueryBuilder=W_.default;const H_=Si(Jl);Yt.PostgrestFilterBuilder=H_.default;const G_=Si($d);Yt.PostgrestTransformBuilder=G_.default;const q_=Si(Md);Yt.PostgrestBuilder=q_.default;const K_=Si(Dd);Yt.PostgrestError=K_.default;var tI=Yt.default={PostgrestClient:B_.default,PostgrestQueryBuilder:W_.default,PostgrestFilterBuilder:H_.default,PostgrestTransformBuilder:G_.default,PostgrestBuilder:q_.default,PostgrestError:K_.default};const{PostgrestClient:rI,PostgrestQueryBuilder:wU,PostgrestFilterBuilder:bU,PostgrestTransformBuilder:_U,PostgrestBuilder:SU,PostgrestError:CU}=tI;let bm;typeof window>"u"?bm=require("ws"):bm=window.WebSocket;const nI="2.11.10",sI={"X-Client-Info":`realtime-js/${nI}`},aI="1.0.0",Y_=1e4,oI=1e3;var Lo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Lo||(Lo={}));var Rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Rt||(Rt={}));var Fr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fr||(Fr={}));var _m;(function(e){e.websocket="websocket"})(_m||(_m={}));var ma;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ma||(ma={}));class iI{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Q_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ge||(Ge={}));const o0=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=lI(o,e,t,s),a),{})},lI=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?J_(a,o):Sm(o)},J_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return fI(t,r)}switch(e){case Ge.bool:return cI(t);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return uI(t);case Ge.json:case Ge.jsonb:return dI(t);case Ge.timestamp:return hI(t);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return Sm(t);default:return Sm(t)}},Sm=e=>e,cI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},uI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},fI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>J_(t,l))}return e},hI=e=>typeof e=="string"?e.replace(" ","T"):e,Z_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Uf{constructor(t,r,n={},s=Y_){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var i0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(i0||(i0={}));class al{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=al.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=al.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=al.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),w=d.filter(y=>m.indexOf(y.presence_ref)<0),v=f.filter(y=>h.indexOf(y.presence_ref)<0);w.length>0&&(l[u]=w),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var l0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(l0||(l0={}));var c0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(c0||(c0={}));var $n;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($n||($n={}));class pg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Uf(this,Fr.join,this.params,this.timeout),this.rejoinTimer=new Q_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fr.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new al(this),this.broadcastEndpointURL=Z_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t($n.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t($n.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t($n.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,w=[];for(let v=0;v<m;v++){const y=h[v],{filter:{event:x,schema:g,table:b,filter:S}}=y,C=d&&d[v];if(C&&C.event===x&&C.schema===g&&C.table===b&&C.filter===S)w.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),this.state=Rt.errored,t==null||t($n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t($n.SUBSCRIBED);return}}).receive("error",d=>{this.state=Rt.errored,t==null||t($n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Uf(this,Fr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Uf(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Fr;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var w,v,y;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((y=(v=m.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var w,v,y,x,g,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,C=(w=m.filter)===null||w===void 0?void 0:w.event;return S&&((v=r.ids)===null||v===void 0?void 0:v.includes(S))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(g=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return S==="*"||S===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:v,table:y,commit_timestamp:x,type:g,errors:b}=w;h=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:x,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(w))}m.callback(h,n)})}_isClosed(){return this.state===Rt.closed}_isJoined(){return this.state===Rt.joined}_isJoining(){return this.state===Rt.joining}_isLeaving(){return this.state===Rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&pg.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fr.close,{},t)}_onError(t){this._on(Fr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=o0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=o0(t.columns,t.old_record)),r}}const u0=()=>{},mI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pI{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=sI,this.params={},this.timeout=Y_,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=u0,this.ref=0,this.logger=u0,this.conn=null,this.sendBuffer=[],this.serializer=new iI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>bi(async()=>{const{default:c}=await Promise.resolve().then(()=>_i);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${_m.websocket}`,this.httpEndpoint=Z_(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,o)=>o(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Q_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=bm),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new gI(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aI}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Lo.connecting:return ma.Connecting;case Lo.open:return ma.Open;case Lo.closing:return ma.Closing;default:return ma.Closed}}isConnected(){return this.connectionState()===ma.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new pg(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Fr.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(oI,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([mI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class gI{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Lo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class gg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function yt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class vI extends gg{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Cm extends gg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var yI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const X_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>bi(async()=>{const{default:n}=await Promise.resolve().then(()=>_i);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},xI=()=>yI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bi(()=>Promise.resolve().then(()=>_i),void 0)).Response:Response}),Nm=e=>{if(Array.isArray(e))return e.map(r=>Nm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Nm(n)}),t};var qa=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const zf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wI=(e,t,r)=>qa(void 0,void 0,void 0,function*(){const n=yield xI();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new vI(zf(s),e.status||500))}).catch(s=>{t(new Cm(zf(s),s))}):t(new Cm(zf(e),e))}),bI=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Zl(e,t,r,n,s,a){return qa(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,bI(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>wI(c,l,n))})})}function zu(e,t,r,n){return qa(this,void 0,void 0,function*(){return Zl(e,"GET",t,r,n)})}function vs(e,t,r,n,s){return qa(this,void 0,void 0,function*(){return Zl(e,"POST",t,n,s,r)})}function _I(e,t,r,n,s){return qa(this,void 0,void 0,function*(){return Zl(e,"PUT",t,n,s,r)})}function SI(e,t,r,n){return qa(this,void 0,void 0,function*(){return Zl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function eS(e,t,r,n,s){return qa(this,void 0,void 0,function*(){return Zl(e,"DELETE",t,n,s,r)})}var Ht=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const CI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},d0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NI{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=X_(s)}uploadOrUpdate(t,r,n,s){return Ht(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},d0),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(yt(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ht(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:d0.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(yt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ht(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield vs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new gg("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ht(this,void 0,void 0,function*(){try{return{data:yield vs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ht(this,void 0,void 0,function*(){try{return{data:{path:(yield vs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ht(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield vs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ht(this,void 0,void 0,function*(){try{const s=yield vs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}download(t,r){return Ht(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield zu(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(yt(l))return{data:null,error:l};throw l}})}info(t){return Ht(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield zu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Nm(n),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}exists(t){return Ht(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield SI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(yt(n)&&n instanceof Cm){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ht(this,void 0,void 0,function*(){try{return{data:yield eS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ht(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},CI),r),{prefix:t||""});return{data:yield vs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const EI="2.7.1",jI={"X-Client-Info":`storage-js/${EI}`};var ro=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class kI{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},jI),r),this.fetch=X_(n)}listBuckets(){return ro(this,void 0,void 0,function*(){try{return{data:yield zu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(yt(t))return{data:null,error:t};throw t}})}getBucket(t){return ro(this,void 0,void 0,function*(){try{return{data:yield zu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ro(this,void 0,void 0,function*(){try{return{data:yield vs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ro(this,void 0,void 0,function*(){try{return{data:yield _I(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ro(this,void 0,void 0,function*(){try{return{data:yield vs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ro(this,void 0,void 0,function*(){try{return{data:yield eS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}}class AI extends kI{constructor(t,r={},n){super(t,r,n)}from(t){return new NI(this.url,this.headers,t,this.fetch)}}const TI="2.50.0";let Gi="";typeof Deno<"u"?Gi="deno":typeof document<"u"?Gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gi="react-native":Gi="node";const PI={"X-Client-Info":`supabase-js-${Gi}/${TI}`},OI={headers:PI},RI={schema:"public"},II={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LI={};var $I=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const MI=e=>{let t;return e?t=e:typeof fetch>"u"?t=D_:t=fetch,(...r)=>t(...r)},DI=()=>typeof Headers>"u"?F_:Headers,FI=(e,t,r)=>{const n=MI(r),s=DI();return(a,o)=>$I(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var UI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function zI(e){return e.endsWith("/")?e:e+"/"}function VI(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>UI(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const tS="2.70.0",fo=30*1e3,Em=3,Vf=Em*fo,BI="http://localhost:9999",WI="supabase.auth.token",HI={"X-Client-Info":`gotrue-js/${tS}`},jm="X-Supabase-Api-Version",rS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qI=6e5;class vg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function _e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class KI extends vg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function YI(e){return _e(e)&&e.name==="AuthApiError"}class nS extends vg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ta extends vg{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class hs extends ta{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QI(e){return _e(e)&&e.name==="AuthSessionMissingError"}class Oc extends ta{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rc extends ta{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ic extends ta{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function JI(e){return _e(e)&&e.name==="AuthImplicitGrantRedirectError"}class f0 extends ta{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class km extends ta{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Bf(e){return _e(e)&&e.name==="AuthRetryableFetchError"}class h0 extends ta{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ol extends ta{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),m0=` 	
\r=`.split(""),ZI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<m0.length;t+=1)e[m0[t].charCodeAt(0)]=-2;for(let t=0;t<Vu.length;t+=1)e[Vu[t].charCodeAt(0)]=t;return e})();function p0(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vu[n]),t.queuedBits-=6}}function sS(e,t,r){const n=ZI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function g0(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{t4(o,n,r)};for(let o=0;o<e.length;o+=1)sS(e.charCodeAt(o),s,a);return t.join("")}function XI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function e4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}XI(n,t)}}function t4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function r4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)sS(e.charCodeAt(s),r,n);return new Uint8Array(t)}function n4(e){const t=[];return e4(e,r=>t.push(r)),new Uint8Array(t)}function s4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>p0(s,r,n)),p0(null,r,n),t.join("")}function a4(e){return Math.round(Date.now()/1e3)+e}function o4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Pr=()=>typeof window<"u"&&typeof document<"u",la={tested:!1,writable:!1},il=()=>{if(!Pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(la.tested)return la.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),la.tested=!0,la.writable=!0}catch{la.tested=!0,la.writable=!1}return la.writable};function i4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const aS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>bi(async()=>{const{default:n}=await Promise.resolve().then(()=>_i);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},l4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",oS=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Lc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},$c=async(e,t)=>{await e.removeItem(t)};class zd{constructor(){this.promise=new zd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}zd.promiseConstructor=Promise;function Wf(e){const t=e.split(".");if(t.length!==3)throw new ol("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!GI.test(t[n]))throw new ol("JWT not in base64url format");return{header:JSON.parse(g0(t[0])),payload:JSON.parse(g0(t[1])),signature:r4(t[2]),raw:{header:t[0],payload:t[1]}}}async function c4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function u4(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function d4(e){return("0"+e.toString(16)).substr(-2)}function f4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,d4).join("")}async function h4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function m4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await h4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function no(e,t,r=!1){const n=f4();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await oS(e,`${t}-code-verifier`,s);const a=await m4(n);return[a,n===a?"plain":"s256"]}const p4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function g4(e){const t=e.headers.get(jm);if(!t||!t.match(p4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function v4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function y4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const x4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function so(e){if(!x4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var w4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const fa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),b4=[502,503,504];async function v0(e){var t;if(!l4(e))throw new km(fa(e),0);if(b4.includes(e.status))throw new km(fa(e),e.status);let r;try{r=await e.json()}catch(a){throw new nS(fa(a),a)}let n;const s=g4(e);if(s&&s.getTime()>=rS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new h0(fa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new hs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new h0(fa(r),e.status,r.weak_password.reasons);throw new KI(fa(r),e.status||500,n)}const _4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ee(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[jm]||(a[jm]=rS["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await S4(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function S4(e,t,r,n,s,a){const o=_4(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new km(fa(c),0)}if(l.ok||await v0(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await v0(c)}}function In(e){var t;let r=null;j4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=a4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function y0(e){const t=In(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function C4(e){return{data:e,error:null}}function N4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=w4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function E4(e){return e}function j4(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hf=["global","local","others"];var k4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class A4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=aS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Hf[0]){if(Hf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hf.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:bs})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=k4(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:N4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(_e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bs})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:E4});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(_e(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){so(t);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bs})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){so(t);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:bs})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){so(t);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:bs})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){so(t.userId);try{const{data:r,error:n}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _deleteFactor(t){so(t.userId),so(t.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}}const T4={getItem:e=>il()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{il()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{il()&&globalThis.localStorage.removeItem(e)}};function x0(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function P4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ao={debug:!!(globalThis&&il()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class O4 extends iS{}async function R4(e,t,r){ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new O4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ao.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}P4();const I4={url:BI,storageKey:WI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function w0(e,t,r){return await r()}class Pl{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pl.nextInstanceID,Pl.nextInstanceID+=1,this.instanceID>0&&Pr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},I4),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new A4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=aS(s.fetch),this.lock=s.lock||w0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Pr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=R4:this.lock=w0,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:il()?this.storage=T4:(this.memoryStorage={},this.storage=x0(this.memoryStorage)):(this.memoryStorage={},this.storage=x0(this.memoryStorage)),Pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=i4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Pr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),JI(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _e(r)?{error:r}:{error:new nS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:In}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await no(this.storage,this.storageKey)),a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:w},xform:In})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:In})}else throw new Rc("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:y0})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:y0})}else throw new Rc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Oc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,f,h,m;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:y,wallet:x,statement:g,options:b}=t;let S;if(Pr())if(typeof x=="object")S=x;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const C=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),g?{statement:g}:null));let A;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")A=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)A=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)w=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),v=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${C.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(w),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=j}}try{const{data:y,error:x}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:s4(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:In});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Oc}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(_e(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Lc(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:o}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:In});if(await $c(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Oc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(_e(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:In}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Oc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await no(this.storage,this.storageKey));const{error:f}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Rc("You must provide either an email or phone number.")}catch(l){if(_e(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:In});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await no(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:C4})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new hs;const{error:s}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Rc("You must provide either an email or phone number and a type")}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Lc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Vf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bs}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hs}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:bs})})}catch(r){if(_e(r))return QI(r)&&(await this._removeSession(),await $c(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new hs;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await no(this.storage,this.storageKey));const{data:u,error:d}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:bs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new hs;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=Wf(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(_e(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new hs;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Pr())throw new Ic("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ic(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new f0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ic("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new f0("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Ic("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=fo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:v,error:y}=await this._getUser(a);if(y)throw y;const x={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(_e(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Lc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(YI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await $c(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=o4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await no(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Pr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(_e(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await u4(async s=>(s>0&&await c4(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:In})),(s,a)=>{const o=200*Math.pow(2,s);return a&&Bf(a)&&Date.now()+o-n<fo})}catch(n){if(this._debug(r,"error",n),_e(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Lc(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Vf;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Vf}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Bf(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new hs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zd;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new hs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),_e(a)){const o={session:null,error:a};return Bf(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await oS(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await $c(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),fo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/fo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${fo}ms, refresh threshold is ${Em} ticks`),s<=Em&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof iS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await no(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(_e(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_e(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Wf(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+qI>Date.now()))return n;const{data:s,error:a}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new ol("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new ol("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};n=m.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=Wf(n);if(v4(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:s,signature:o},error:null}}const u=y4(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,n4(`${l}.${c}`)))throw new ol("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}}Pl.nextInstanceID=0;const L4=Pl;class $4 extends L4{constructor(t){super(t)}}var M4=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class D4{constructor(t,r,n){var s,a,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=zI(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:RI,realtime:LI,auth:Object.assign(Object.assign({},II),{storageKey:u}),global:OI},f=VI(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=FI(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new rI(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new OR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new AI(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return M4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $4({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new pI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const F4=(e,t,r)=>new D4(e,t,r),U4="https://uxccfhptochnfomurulr.supabase.co",z4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV4Y2NmaHB0b2NobmZvbXVydWxyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgxOTg2MDAsImV4cCI6MjA2Mzc3NDYwMH0.FSxZR0jk7HjNxKegdULP49BnkFUmwiiUbgbZUucE_no",ye=F4(U4,z4),lS=p.createContext(void 0),V4=({children:e})=>{const[t,r]=p.useState({user:null,isAuthenticated:!1});console.log(" [AUTH_PROVIDER] Inicializando AuthProvider"),p.useEffect(()=>{console.log(" [AUTH_PROVIDER] Verificando usurio salvo no localStorage");const a=localStorage.getItem("villa_glamour_user");if(a)try{const o=JSON.parse(a);console.log(" [AUTH_PROVIDER] Usurio restaurado:",o.name),r({user:o,isAuthenticated:!0})}catch(o){console.error(" [AUTH_PROVIDER] Erro ao parsear usurio:",o),localStorage.removeItem("villa_glamour_user")}else console.log(" [AUTH_PROVIDER] Nenhum usurio no localStorage")},[]);const n=async a=>{try{if(console.log(" [AUTH_PROVIDER] Tentando login:",a.username),a.username==="demo"&&a.password==="demo"){const c={id:"demo-user",username:"demo",name:"Usurio Demonstrao",role:"admin",assignedTabs:[],assignedCities:[],createdAt:new Date().toISOString()};return r({user:c,isAuthenticated:!0}),localStorage.setItem("villa_glamour_user",JSON.stringify(c)),console.log(" [AUTH_PROVIDER] Login demo realizado com sucesso"),!0}const{data:o,error:l}=await ye.rpc("verify_user_credentials",{input_username:a.username,input_password:a.password});if(console.log(" [AUTH_PROVIDER] Resultado verificao:",{userData:o,userError:l}),!l&&o&&o.length>0){const c=o[0],u={id:c.user_id,username:c.user_username,name:c.user_name,role:c.user_role,assignedTabs:c.user_assigned_tabs||[],assignedCities:c.user_assigned_cities||[],createdAt:new Date().toISOString()};return r({user:u,isAuthenticated:!0}),localStorage.setItem("villa_glamour_user",JSON.stringify(u)),console.log(" [AUTH_PROVIDER] Login realizado com sucesso:",u.role),!0}return console.log(" [AUTH_PROVIDER] Credenciais invlidas"),!1}catch(o){return console.error(" [AUTH_PROVIDER] Erro durante login:",o),!1}},s=()=>{console.log(" [AUTH_PROVIDER] Fazendo logout"),r({user:null,isAuthenticated:!1}),localStorage.removeItem("villa_glamour_user")};return p.useEffect(()=>{var a;console.log(" [AUTH_PROVIDER] Estado atual:",{isAuthenticated:t.isAuthenticated,user:((a=t.user)==null?void 0:a.name)||"nenhum"})},[t]),i.jsx(lS.Provider,{value:{...t,login:n,logout:s},children:e})},ts=()=>{const e=p.useContext(lS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},b0=[{id:"af1e5797-edc6-4ba3-a57a-25cf7297c4d6",name:"Yelena-AI",type:"general",isActive:!0,isDefault:!0,legacyId:"chat"},{id:"011b69ba-cf25-4f63-af2e-4ad0260d9516",name:"Canarana",type:"store",isActive:!0,isDefault:!1,legacyId:"canarana"},{id:"b7996f75-41a7-4725-8229-564f31868027",name:"Souto Soares",type:"store",isActive:!0,isDefault:!1,legacyId:"souto-soares"},{id:"621abb21-60b2-4ff2-a0a6-172a94b4b65c",name:"Joo Dourado",type:"store",isActive:!0,isDefault:!1,legacyId:"joao-dourado"},{id:"64d8acad-c645-4544-a1e6-2f0825fae00b",name:"Amrica Dourada",type:"store",isActive:!0,isDefault:!1,legacyId:"america-dourada"},{id:"d8087e7b-5b06-4e26-aa05-6fc51fd4cdce",name:"Gustavo Gerente das Lojas",type:"manager",isActive:!0,isDefault:!1,legacyId:"gerente-lojas"},{id:"d2892900-ca8f-4b08-a73f-6b7aa5866ff7",name:"Andressa Gerente Externo",type:"manager",isActive:!0,isDefault:!1,legacyId:"gerente-externo"}],B4=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!0),{toast:s}=Bt();p.useEffect(()=>{const c=localStorage.getItem("app_channels");if(c)try{t(JSON.parse(c))}catch(u){console.error("Erro ao carregar canais salvos:",u),t(b0)}else t(b0);n(!1)},[]);const a=c=>{localStorage.setItem("app_channels",JSON.stringify(c)),t(c)};return{channels:e,loading:r,updateChannelStatus:async(c,u)=>{try{const d=e.find(h=>h.id===c);if(!d)throw new Error("Canal no encontrado");if(d.isDefault&&!u){s({title:"Ao no permitida",description:"Canais padro no podem ser desativados",variant:"destructive"});return}const f=e.map(h=>h.id===c?{...h,isActive:u}:h);a(f),s({title:"Sucesso",description:`Canal ${u?"ativado":"desativado"} com sucesso`,variant:"default"})}catch(d){console.error("Erro ao atualizar canal:",d),s({title:"Erro",description:"Erro ao atualizar canal. Tente novamente.",variant:"destructive"})}},refetch:async()=>Promise.resolve()}},cS=p.createContext(void 0),W4=({children:e})=>{const{channels:t,updateChannelStatus:r,loading:n,refetch:s}=B4(),a=t.filter(o=>o.name!=="Pedro").map(o=>({id:o.id,name:o.name,type:o.type,isActive:o.isActive,isDefault:o.isDefault}));return i.jsx(cS.Provider,{value:{channels:a,updateChannelStatus:r,loading:n,refetch:s},children:e})},Ka=()=>{const e=p.useContext(cS);if(e===void 0)throw new Error("useChannels must be used within a ChannelProvider");return e},Ol=Td("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 btn-animate",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 btn-animate",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground btn-animate",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 btn-animate",ghost:"hover:bg-accent hover:text-accent-foreground btn-animate-sm",link:"text-primary underline-offset-4 hover:underline btn-animate-sm"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3 btn-animate-sm",lg:"h-11 rounded-md px-8 btn-float",icon:"h-10 w-10 btn-animate-icon"}},defaultVariants:{variant:"default",size:"default"}}),K=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?pA:"button";return i.jsx(o,{className:_(Ol({variant:t,size:r,className:e})),ref:a,...s})});K.displayName="Button";const Fe=p.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:_("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Fe.displayName="Input";var H4="Label",uS=p.forwardRef((e,t)=>i.jsx(fe.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));uS.displayName=H4;var dS=uS;const G4=Td("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),de=p.forwardRef(({className:e,...t},r)=>i.jsx(dS,{ref:r,className:_(G4(),e),...t}));de.displayName=dS.displayName;const me=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));me.displayName="Card";const at=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_("flex flex-col space-y-1.5 p-6",e),...t}));at.displayName="CardHeader";const ot=p.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:_("text-2xl font-semibold leading-none tracking-tight",e),...t}));ot.displayName="CardTitle";const Us=p.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:_("text-sm text-muted-foreground",e),...t}));Us.displayName="CardDescription";const pe=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_("p-6 pt-0",e),...t}));pe.displayName="CardContent";const q4=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_("flex items-center p-6 pt-0",e),...t}));q4.displayName="CardFooter";function yg(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Vd="Checkbox",[K4,NU]=hr(Vd),[Y4,xg]=K4(Vd);function Q4(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Ma({prop:r,defaultProp:s??!1,onChange:c,caller:Vd}),[w,v]=p.useState(null),[y,x]=p.useState(null),g=p.useRef(!1),b=w?!!o||!!w.closest("form"):!0,S={checked:h,disabled:a,setChecked:m,control:w,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:zs(s)?!1:s,isFormControl:b,bubbleInput:y,setBubbleInput:x};return i.jsx(Y4,{scope:t,...S,children:J4(f)?f(S):n})}var fS="CheckboxTrigger",hS=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:w}=xg(fS,e),v=Ce(s,d),y=p.useRef(c);return p.useEffect(()=>{const x=a==null?void 0:a.form;if(x){const g=()=>f(y.current);return x.addEventListener("reset",g),()=>x.removeEventListener("reset",g)}},[a,f]),i.jsx(fe.button,{type:"button",role:"checkbox","aria-checked":zs(c)?"mixed":c,"aria-required":u,"data-state":yS(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:v,onKeyDown:ue(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ue(r,x=>{f(g=>zs(g)?!0:!g),w&&m&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});hS.displayName=fS;var wg=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(Q4,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(hS,{...f,ref:t,__scopeCheckbox:r}),h&&i.jsx(vS,{__scopeCheckbox:r})]})})});wg.displayName=Vd;var mS="CheckboxIndicator",pS=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=xg(mS,r);return i.jsx(mr,{present:n||zs(a.checked)||a.checked===!0,children:i.jsx(fe.span,{"data-state":yS(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});pS.displayName=mS;var gS="CheckboxBubbleInput",vS=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=xg(gS,e),w=Ce(r,m),v=yg(a),y=Zp(n);p.useEffect(()=>{const g=h;if(!g)return;const b=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(b,"checked").set,j=!s.current;if(v!==a&&C){const A=new Event("click",{bubbles:j});g.indeterminate=zs(a),C.call(g,zs(a)?!1:a),g.dispatchEvent(A)}},[h,v,a,s]);const x=p.useRef(zs(a)?!1:a);return i.jsx(fe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:w,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});vS.displayName=gS;function J4(e){return typeof e=="function"}function zs(e){return e==="indeterminate"}function yS(e){return zs(e)?"indeterminate":e?"checked":"unchecked"}const qs=p.forwardRef(({className:e,...t},r)=>i.jsx(wg,{ref:r,className:_("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(pS,{className:_("flex items-center justify-center text-current"),children:i.jsx(cg,{className:"h-4 w-4"})})}));qs.displayName=wg.displayName;const Z4=()=>{const[e,t]=p.useState(()=>localStorage.getItem("villa_glamour_remember")==="true");return p.useEffect(()=>{localStorage.setItem("villa_glamour_remember",e.toString())},[e]),{rememberMe:e,setRememberMe:t,saveCredentials:(a,o)=>{e&&(localStorage.setItem("villa_glamour_username",a),localStorage.setItem("villa_glamour_password",o),localStorage.setItem("villa_glamour_last_login",new Date().toISOString()))},getSavedCredentials:()=>{if(e){const a=localStorage.getItem("villa_glamour_username"),o=localStorage.getItem("villa_glamour_password"),l=localStorage.getItem("villa_glamour_last_login");if(a&&o&&l){const c=new Date(l);if((new Date().getTime()-c.getTime())/(1e3*3600*24)<=30)return{username:a,password:o}}}return null},clearSavedCredentials:()=>{localStorage.removeItem("villa_glamour_username"),localStorage.removeItem("villa_glamour_password"),localStorage.removeItem("villa_glamour_last_login"),localStorage.removeItem("villa_glamour_remember"),t(!1)}}},X4=()=>{const[e,t]=p.useState(""),[r,n]=p.useState(""),[s,a]=p.useState(!1),[o,l]=p.useState(!1),{login:c}=ts(),{toast:u}=Bt(),{rememberMe:d,setRememberMe:f,saveCredentials:h,getSavedCredentials:m,clearSavedCredentials:w}=Z4();console.log(" [LOGIN_FORM] Renderizando - campos devem ser editveis"),p.useEffect(()=>{const y=m();y&&(console.log(" [LOGIN_FORM] Carregando credenciais salvas"),t(y.username),n(y.password))},[m]);const v=async y=>{if(y.preventDefault(),console.log(" [LOGIN_FORM] Tentativa de login:",e),!e.trim()||!r.trim()){u({title:"Erro",description:"Por favor, preencha todos os campos",variant:"destructive"});return}l(!0);try{await c({username:e,password:r})?(console.log(" [LOGIN_FORM] Login bem-sucedido"),d?h(e,r):w(),u({title:"Sucesso",description:"Login realizado com sucesso!"})):(console.log(" [LOGIN_FORM] Login falhou"),u({title:"Erro",description:"Credenciais invlidas",variant:"destructive"}))}catch(x){console.error(" [LOGIN_FORM] Erro no login:",x),u({title:"Erro",description:"Erro interno do servidor",variant:"destructive"})}finally{l(!1)}};return i.jsxs("div",{className:"min-h-screen flex relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/lovable-uploads/c0b12085-eab2-4373-92b1-0c548650a899.png')"},children:i.jsx("div",{className:"absolute inset-0 bg-black/0"})}),i.jsx("div",{className:"relative z-10 flex items-center justify-start pl-8 md:pl-16 lg:pl-24 w-full max-w-2xl",children:i.jsxs(me,{className:"w-full max-w-md shadow-2xl border-0 bg-white/95 backdrop-blur-md",children:[i.jsxs(at,{className:"space-y-6 text-center pb-8",children:[i.jsx("div",{className:"mx-auto w-32 h-32 flex items-center justify-center",children:i.jsx("img",{src:"/lovable-uploads/63318fcc-a543-4299-aa65-5274d6eb987e.png",alt:"Villa Glamour Logo",className:"w-full h-full object-contain",style:{background:"transparent"}})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ot,{className:"text-3xl font-bold bg-gradient-to-r from-[#b5103c] to-[#8a0c2e] bg-clip-text text-transparent",children:"Villa Glamour"}),i.jsx(Us,{className:"text-slate-600 dark:text-slate-400 text-lg",children:"Sistema de Atendimento"})]})]}),i.jsx(pe,{className:"space-y-6",children:i.jsxs("form",{onSubmit:v,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{htmlFor:"username",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Usurio"}),i.jsx(Fe,{id:"username",type:"text",value:e,onChange:y=>t(y.target.value),placeholder:"Digite seu usurio",disabled:o,autoComplete:"username",className:"h-12 transition-all duration-200 focus:ring-2 focus:ring-[#b5103c] border-slate-200 dark:border-slate-700"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{htmlFor:"password",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(Fe,{id:"password",type:s?"text":"password",value:r,onChange:y=>n(y.target.value),placeholder:"Digite sua senha",disabled:o,autoComplete:"current-password",className:"h-12 pr-12 transition-all duration-200 focus:ring-2 focus:ring-[#b5103c] border-slate-200 dark:border-slate-700"}),i.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 transition-colors",disabled:o,children:s?i.jsx(dg,{size:20}):i.jsx(Yl,{size:20})})]})]}),i.jsxs("div",{className:"flex items-center space-x-3 py-2",children:[i.jsx(qs,{id:"remember",checked:d,onCheckedChange:y=>f(y),disabled:o,className:"data-[state=checked]:bg-[#b5103c] data-[state=checked]:border-[#b5103c]"}),i.jsx(de,{htmlFor:"remember",className:"text-sm text-slate-600 dark:text-slate-400 cursor-pointer font-medium",children:"Lembrar usurio por 30 dias"})]}),i.jsx(K,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-[#b5103c] to-[#8a0c2e] hover:from-[#8a0c2e] hover:to-[#b5103c] text-white font-semibold transition-all duration-300 transform hover:scale-[1.02] shadow-lg",disabled:o,children:o?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(A_,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{children:"Entrando..."})]}):"Entrar"})]})})]})})]})},e3=e=>{p.useEffect(()=>{e.title&&(document.title=`${e.title} | Glamour Chat Center`);const t=document.querySelector('meta[name="description"]');t&&e.description&&t.setAttribute("content",e.description);let r=document.querySelector('meta[name="keywords"]');e.keywords&&(r||(r=document.createElement("meta"),r.setAttribute("name","keywords"),document.head.appendChild(r)),r.setAttribute("content",e.keywords));const n=(s,a)=>{let o=document.querySelector(`meta[property="${s}"]`);o||(o=document.createElement("meta"),o.setAttribute("property",s),document.head.appendChild(o)),o.setAttribute("content",a)};e.title&&n("og:title",e.title),e.description&&n("og:description",e.description),e.type&&n("og:type",e.type),e.image&&n("og:image",e.image),n("og:url",window.location.href)},[e])},xS=({title:e,description:t,keywords:r,children:n})=>(e3({title:e,description:t,keywords:r,type:"website"}),i.jsx(i.Fragment,{children:n})),wS=p.createContext(void 0),bg=()=>{const e=p.useContext(wS);if(!e)throw new Error("useLayout must be used within a LayoutProvider");return e},t3=({children:e})=>{const[t,r]=p.useState("dashboard"),[n,s]=p.useState(!0),[a,o]=p.useState(!1),[l,c]=p.useState(new URLSearchParams(window.location.search)),{theme:u,setTheme:d}=a1(),f=u==="dark"||u==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;p.useEffect(()=>{const v=new URLSearchParams(window.location.search);c(v);const y=v.get("section");y&&(console.log(" [LAYOUT_PROVIDER] URL section detected:",y),r(y))},[]),p.useEffect(()=>{const v=()=>{const y=new URLSearchParams(window.location.search);c(y);const x=y.get("section");x&&r(x)};return window.addEventListener("popstate",v),()=>window.removeEventListener("popstate",v)},[]);const w={activeSection:t,setActiveSection:r,isSidebarVisible:n,setIsSidebarVisible:s,isSidebarCollapsed:a,setIsSidebarCollapsed:o,isDarkMode:f,setIsDarkMode:v=>{d(v?"dark":"light")},toggleDarkMode:()=>{d(f?"light":"dark")},urlParams:l};return i.jsx(wS.Provider,{value:w,children:e})},r3=({activeSection:e,children:t})=>{const r=p.useMemo(()=>{const n={dashboard:{title:"Painel de Controle",description:"Central de controle do Glamour Chat Center. Gerencie conversas, monitore estatsticas e acesse todas as funcionalidades.",keywords:"painel controle, chat center, gesto conversas, atendimento cliente"},channels:{title:"Canais de Atendimento",description:"Acesse todos os canais de atendimento disponveis. Gerencie conversas por WhatsApp e outros canais de comunicao.",keywords:"canais atendimento, whatsapp, comunicao, chat"},exames:{title:"Gesto de Exames",description:"Sistema completo para gesto de exames mdicos. Consulte, edite e monitore exames de forma eficiente.",keywords:"gesto exames, exames mdicos, sistema mdico"},settings:{title:"Configuraes",description:"Configure suas preferncias, gerencie usurios e personalize o sistema conforme suas necessidades.",keywords:"configuraes, preferncias, gesto usurios, personalizao"}};return n[e]||n.dashboard},[e]);return i.jsx(xS,{...r,children:t})};var bS={exports:{}},_S={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var si=p;function n3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var s3=typeof Object.is=="function"?Object.is:n3,a3=si.useState,o3=si.useEffect,i3=si.useLayoutEffect,l3=si.useDebugValue;function c3(e,t){var r=t(),n=a3({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return i3(function(){s.value=r,s.getSnapshot=t,Gf(s)&&a({inst:s})},[e,r,t]),o3(function(){return Gf(s)&&a({inst:s}),e(function(){Gf(s)&&a({inst:s})})},[e]),l3(r),r}function Gf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!s3(e,r)}catch{return!0}}function u3(e,t){return t()}var d3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u3:c3;_S.useSyncExternalStore=si.useSyncExternalStore!==void 0?si.useSyncExternalStore:d3;bS.exports=_S;var f3=bS.exports;function h3(){return f3.useSyncExternalStore(m3,()=>!0,()=>!1)}function m3(){return()=>{}}var _g="Avatar",[p3,EU]=hr(_g),[g3,SS]=p3(_g),CS=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=p.useState("idle");return i.jsx(g3,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(fe.span,{...n,ref:t})})});CS.displayName=_g;var NS="AvatarImage",ES=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,o=SS(NS,r),l=v3(n,a),c=pt(u=>{s(u),o.onImageLoadingStatusChange(u)});return ct(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(fe.img,{...a,ref:t,src:n}):null});ES.displayName=NS;var jS="AvatarFallback",kS=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=SS(jS,r),[o,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(fe.span,{...s,ref:t}):null});kS.displayName=jS;function _0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function v3(e,{referrerPolicy:t,crossOrigin:r}){const n=h3(),s=p.useRef(null),a=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=p.useState(()=>_0(a,e));return ct(()=>{l(_0(a,e))},[a,e]),ct(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,t]),o}var AS=CS,TS=ES,PS=kS;const Am=p.forwardRef(({className:e,...t},r)=>i.jsx(AS,{ref:r,className:_("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Am.displayName=AS.displayName;const Tm=p.forwardRef(({className:e,...t},r)=>i.jsx(TS,{ref:r,className:_("aspect-square h-full w-full",e),...t}));Tm.displayName=TS.displayName;const Pm=p.forwardRef(({className:e,...t},r)=>i.jsx(PS,{ref:r,className:_("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Pm.displayName=PS.displayName;const y3=()=>{const[e,t]=p.useState({}),[r,n]=p.useState(!1),{toast:s}=Bt(),{user:a}=ts();return{profiles:e,loading:r,getProfileByUserId:d=>e[d]||null,loadProfile:async d=>{if(e[d])return e[d];try{const f={id:d,user_id:d,avatar_url:null,bio:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return t(h=>({...h,[d]:f})),f}catch(f){return console.error("Error loading profile:",f),null}},uploadAvatar:async d=>{if(!a)return s({title:"Erro",description:"Usurio no autenticado",variant:"destructive"}),null;try{n(!0);const f=d.name.split(".").pop(),h=`${a.id}-${Date.now()}.${f}`,{error:m}=await ye.storage.from("avatars").upload(h,d,{cacheControl:"3600",upsert:!0});if(m)throw m;const{data:{publicUrl:w}}=ye.storage.from("avatars").getPublicUrl(h);return w}catch(f){return console.error("Error uploading avatar:",f),s({title:"Erro",description:"Erro ao fazer upload da imagem",variant:"destructive"}),null}finally{n(!1)}},updateProfile:async d=>{if(!a)return null;try{n(!0);const f={id:a.id,user_id:a.id,avatar_url:d.avatar_url||null,bio:d.bio||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return t(h=>({...h,[a.id]:f})),s({title:"Sucesso",description:"Perfil atualizado com sucesso"}),f}catch(f){return console.error("Error updating profile:",f),s({title:"Erro",description:"Erro ao atualizar perfil",variant:"destructive"}),null}finally{n(!1)}}}};var qf="focusScope.autoFocusOnMount",Kf="focusScope.autoFocusOnUnmount",S0={bubbles:!1,cancelable:!0},x3="FocusScope",Bd=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=p.useState(null),u=pt(s),d=pt(a),f=p.useRef(null),h=Ce(t,v=>c(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let v=function(b){if(m.paused||!l)return;const S=b.target;l.contains(S)?f.current=S:ms(f.current,{select:!0})},y=function(b){if(m.paused||!l)return;const S=b.relatedTarget;S!==null&&(l.contains(S)||ms(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&ms(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const g=new MutationObserver(x);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),g.disconnect()}}},[n,l,m.paused]),p.useEffect(()=>{if(l){N0.add(m);const v=document.activeElement;if(!l.contains(v)){const x=new CustomEvent(qf,S0);l.addEventListener(qf,u),l.dispatchEvent(x),x.defaultPrevented||(w3(N3(OS(l)),{select:!0}),document.activeElement===v&&ms(l))}return()=>{l.removeEventListener(qf,u),setTimeout(()=>{const x=new CustomEvent(Kf,S0);l.addEventListener(Kf,d),l.dispatchEvent(x),x.defaultPrevented||ms(v??document.body,{select:!0}),l.removeEventListener(Kf,d),N0.remove(m)},0)}}},[l,u,d,m]);const w=p.useCallback(v=>{if(!r&&!n||m.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(y&&x){const g=v.currentTarget,[b,S]=b3(g);b&&S?!v.shiftKey&&x===S?(v.preventDefault(),r&&ms(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),r&&ms(S,{select:!0})):x===g&&v.preventDefault()}},[r,n,m.paused]);return i.jsx(fe.div,{tabIndex:-1,...o,ref:h,onKeyDown:w})});Bd.displayName=x3;function w3(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ms(n,{select:t}),document.activeElement!==r)return}function b3(e){const t=OS(e),r=C0(t,e),n=C0(t.reverse(),e);return[r,n]}function OS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function C0(e,t){for(const r of e)if(!_3(r,{upTo:t}))return r}function _3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function S3(e){return e instanceof HTMLInputElement&&"select"in e}function ms(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&S3(e)&&t&&e.select()}}var N0=C3();function C3(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=E0(e,t),e.unshift(t)},remove(t){var r;e=E0(e,t),(r=e[0])==null||r.resume()}}}function E0(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function N3(e){return e.filter(t=>t.tagName!=="A")}var Yf=0;function Sg(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??j0()),document.body.insertAdjacentElement("beforeend",e[1]??j0()),Yf++,()=>{Yf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Yf--}},[])}function j0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cn=function(){return cn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},cn.apply(this,arguments)};function RS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function E3(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var nu="right-scroll-bar-position",su="width-before-scroll-bar",j3="with-scroll-bars-hidden",k3="--removed-body-scroll-bar-size";function Qf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function A3(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var T3=typeof window<"u"?p.useLayoutEffect:p.useEffect,k0=new WeakMap;function P3(e,t){var r=A3(null,function(n){return e.forEach(function(s){return Qf(s,n)})});return T3(function(){var n=k0.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||Qf(l,null)}),a.forEach(function(l){s.has(l)||Qf(l,o)})}k0.set(r,e)},[e]),r}function O3(e){return e}function R3(e,t){t===void 0&&(t=O3);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function I3(e){e===void 0&&(e={});var t=R3(null);return t.options=cn({async:!0,ssr:!1},e),t}var IS=function(e){var t=e.sideCar,r=RS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,cn({},r))};IS.isSideCarExport=!0;function L3(e,t){return e.useMedium(t),IS}var LS=I3(),Jf=function(){},Wd=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Jf,onWheelCapture:Jf,onTouchMoveCapture:Jf}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,w=e.noIsolation,v=e.inert,y=e.allowPinchZoom,x=e.as,g=x===void 0?"div":x,b=e.gapMode,S=RS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,j=P3([r,t]),A=cn(cn({},S),s);return p.createElement(p.Fragment,null,d&&p.createElement(C,{sideCar:LS,removeScrollBar:u,shards:f,noRelative:m,noIsolation:w,inert:v,setCallbacks:a,allowPinchZoom:!!y,lockRef:r,gapMode:b}),o?p.cloneElement(p.Children.only(l),cn(cn({},A),{ref:j})):p.createElement(g,cn({},A,{className:c,ref:j}),l))});Wd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wd.classNames={fullWidth:su,zeroRight:nu};var $3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function M3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=$3();return t&&e.setAttribute("nonce",t),e}function D3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function F3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var U3=function(){var e=0,t=null;return{add:function(r){e==0&&(t=M3())&&(D3(t,r),F3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},z3=function(){var e=U3();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},$S=function(){var e=z3(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},V3={left:0,top:0,right:0,gap:0},Zf=function(e){return parseInt(e||"",10)||0},B3=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Zf(r),Zf(n),Zf(s)]},W3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return V3;var t=B3(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},H3=$S(),$o="data-scroll-locked",G3=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(j3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat($o,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(su,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(nu," .").concat(nu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(su," .").concat(su,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat($o,`] {
    `).concat(k3,": ").concat(l,`px;
  }
`)},A0=function(){var e=parseInt(document.body.getAttribute($o)||"0",10);return isFinite(e)?e:0},q3=function(){p.useEffect(function(){return document.body.setAttribute($o,(A0()+1).toString()),function(){var e=A0()-1;e<=0?document.body.removeAttribute($o):document.body.setAttribute($o,e.toString())}},[])},K3=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;q3();var a=p.useMemo(function(){return W3(s)},[s]);return p.createElement(H3,{styles:G3(a,!t,s,r?"":"!important")})},Om=!1;if(typeof window<"u")try{var Mc=Object.defineProperty({},"passive",{get:function(){return Om=!0,!0}});window.addEventListener("test",Mc,Mc),window.removeEventListener("test",Mc,Mc)}catch{Om=!1}var oo=Om?{passive:!1}:!1,Y3=function(e){return e.tagName==="TEXTAREA"},MS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Y3(e)&&r[t]==="visible")},Q3=function(e){return MS(e,"overflowY")},J3=function(e){return MS(e,"overflowX")},T0=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=DS(e,n);if(s){var a=FS(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Z3=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},X3=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},DS=function(e,t){return e==="v"?Q3(t):J3(t)},FS=function(e,t){return e==="v"?Z3(t):X3(t)},eL=function(e,t){return e==="h"&&t==="rtl"?-1:1},tL=function(e,t,r,n,s){var a=eL(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=FS(e,l),w=m[0],v=m[1],y=m[2],x=v-y-a*w;(w||x)&&DS(e,l)&&(f+=x,h+=w);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Dc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},P0=function(e){return[e.deltaX,e.deltaY]},O0=function(e){return e&&"current"in e?e.current:e},rL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},sL=0,io=[];function aL(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(sL++)[0],a=p.useState($S)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=E3([e.lockRef.current],(e.shards||[]).map(O0),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=Dc(v),g=r.current,b="deltaX"in v?v.deltaX:g[0]-x[0],S="deltaY"in v?v.deltaY:g[1]-x[1],C,j=v.target,A=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in v&&A==="h"&&j.type==="range")return!1;var E=T0(A,j);if(!E)return!0;if(E?C=A:(C=A==="v"?"h":"v",E=T0(A,j)),!E)return!1;if(!n.current&&"changedTouches"in v&&(b||S)&&(n.current=C),!C)return!0;var O=n.current||C;return tL(O,y,v,O==="h"?b:S)},[]),c=p.useCallback(function(v){var y=v;if(!(!io.length||io[io.length-1]!==a)){var x="deltaY"in y?P0(y):Dc(y),g=t.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&rL(C.delta,x)})[0];if(g&&g.should){y.cancelable&&y.preventDefault();return}if(!g){var b=(o.current.shards||[]).map(O0).filter(Boolean).filter(function(C){return C.contains(y.target)}),S=b.length>0?l(y,b[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),u=p.useCallback(function(v,y,x,g){var b={name:v,delta:y,target:x,should:g,shadowParent:oL(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=p.useCallback(function(v){r.current=Dc(v),n.current=void 0},[]),f=p.useCallback(function(v){u(v.type,P0(v),v.target,l(v,e.lockRef.current))},[]),h=p.useCallback(function(v){u(v.type,Dc(v),v.target,l(v,e.lockRef.current))},[]);p.useEffect(function(){return io.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,oo),document.addEventListener("touchmove",c,oo),document.addEventListener("touchstart",d,oo),function(){io=io.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,oo),document.removeEventListener("touchmove",c,oo),document.removeEventListener("touchstart",d,oo)}},[]);var m=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(a,{styles:nL(s)}):null,m?p.createElement(K3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function oL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const iL=L3(LS,aL);var Hd=p.forwardRef(function(e,t){return p.createElement(Wd,cn({},e,{ref:t,sideCar:iL}))});Hd.classNames=Wd.classNames;var lL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},lo=new WeakMap,Fc=new WeakMap,Uc={},Xf=0,US=function(e){return e&&(e.host||US(e.parentNode))},cL=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=US(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},uL=function(e,t,r,n){var s=cL(t,Array.isArray(e)?e:[e]);Uc[r]||(Uc[r]=new WeakMap);var a=Uc[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),w=m!==null&&m!=="false",v=(lo.get(h)||0)+1,y=(a.get(h)||0)+1;lo.set(h,v),a.set(h,y),o.push(h),v===1&&w&&Fc.set(h,!0),y===1&&h.setAttribute(r,"true"),w||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),Xf++,function(){o.forEach(function(f){var h=lo.get(f)-1,m=a.get(f)-1;lo.set(f,h),a.set(f,m),h||(Fc.has(f)||f.removeAttribute(n),Fc.delete(f)),m||f.removeAttribute(r)}),Xf--,Xf||(lo=new WeakMap,lo=new WeakMap,Fc=new WeakMap,Uc={})}},Cg=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=lL(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),uL(n,s,r,"aria-hidden")):function(){return null}},Gd="Dialog",[zS,VS]=hr(Gd),[dL,Qr]=zS(Gd),BS=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=Ma({prop:n,defaultProp:s??!1,onChange:a,caller:Gd});return i.jsx(dL,{scope:t,triggerRef:l,contentRef:c,contentId:Aa(),titleId:Aa(),descriptionId:Aa(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};BS.displayName=Gd;var WS="DialogTrigger",HS=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qr(WS,r),a=Ce(t,s.triggerRef);return i.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jg(s.open),...n,ref:a,onClick:ue(e.onClick,s.onOpenToggle)})});HS.displayName=WS;var Ng="DialogPortal",[fL,GS]=zS(Ng,{forceMount:void 0}),qS=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Qr(Ng,t);return i.jsx(fL,{scope:t,forceMount:r,children:p.Children.map(n,o=>i.jsx(mr,{present:r||a.open,children:i.jsx(ql,{asChild:!0,container:s,children:o})}))})};qS.displayName=Ng;var Bu="DialogOverlay",KS=p.forwardRef((e,t)=>{const r=GS(Bu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Qr(Bu,e.__scopeDialog);return a.modal?i.jsx(mr,{present:n||a.open,children:i.jsx(mL,{...s,ref:t})}):null});KS.displayName=Bu;var hL=La("DialogOverlay.RemoveScroll"),mL=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qr(Bu,r);return i.jsx(Hd,{as:hL,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(fe.div,{"data-state":jg(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Da="DialogContent",YS=p.forwardRef((e,t)=>{const r=GS(Da,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Qr(Da,e.__scopeDialog);return i.jsx(mr,{present:n||a.open,children:a.modal?i.jsx(pL,{...s,ref:t}):i.jsx(gL,{...s,ref:t})})});YS.displayName=Da;var pL=p.forwardRef((e,t)=>{const r=Qr(Da,e.__scopeDialog),n=p.useRef(null),s=Ce(t,r.contentRef,n);return p.useEffect(()=>{const a=n.current;if(a)return Cg(a)},[]),i.jsx(QS,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:ue(e.onFocusOutside,a=>a.preventDefault())})}),gL=p.forwardRef((e,t)=>{const r=Qr(Da,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return i.jsx(QS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),QS=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Qr(Da,r),c=p.useRef(null),u=Ce(t,c);return Sg(),i.jsxs(i.Fragment,{children:[i.jsx(Bd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(gi,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":jg(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(yL,{titleId:l.titleId}),i.jsx(wL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Eg="DialogTitle",JS=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qr(Eg,r);return i.jsx(fe.h2,{id:s.titleId,...n,ref:t})});JS.displayName=Eg;var ZS="DialogDescription",XS=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qr(ZS,r);return i.jsx(fe.p,{id:s.descriptionId,...n,ref:t})});XS.displayName=ZS;var eC="DialogClose",tC=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qr(eC,r);return i.jsx(fe.button,{type:"button",...n,ref:t,onClick:ue(e.onClick,()=>s.onOpenChange(!1))})});tC.displayName=eC;function jg(e){return e?"open":"closed"}var rC="DialogTitleWarning",[vL,nC]=hA(rC,{contentName:Da,titleName:Eg,docsSlug:"dialog"}),yL=({titleId:e})=>{const t=nC(rC),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},xL="DialogDescriptionWarning",wL=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nC(xL).contentName}}.`;return p.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},sC=BS,bL=HS,aC=qS,kg=KS,Ag=YS,Tg=JS,Pg=XS,Og=tC,oC="AlertDialog",[_L,jU]=hr(oC,[VS]),rs=VS(),iC=e=>{const{__scopeAlertDialog:t,...r}=e,n=rs(t);return i.jsx(sC,{...n,...r,modal:!0})};iC.displayName=oC;var SL="AlertDialogTrigger",CL=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=rs(r);return i.jsx(bL,{...s,...n,ref:t})});CL.displayName=SL;var NL="AlertDialogPortal",lC=e=>{const{__scopeAlertDialog:t,...r}=e,n=rs(t);return i.jsx(aC,{...n,...r})};lC.displayName=NL;var EL="AlertDialogOverlay",cC=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=rs(r);return i.jsx(kg,{...s,...n,ref:t})});cC.displayName=EL;var Mo="AlertDialogContent",[jL,kL]=_L(Mo),AL=l1("AlertDialogContent"),uC=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=rs(r),o=p.useRef(null),l=Ce(t,o),c=p.useRef(null);return i.jsx(vL,{contentName:Mo,titleName:dC,docsSlug:"alert-dialog",children:i.jsx(jL,{scope:r,cancelRef:c,children:i.jsxs(Ag,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:ue(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(AL,{children:n}),i.jsx(PL,{contentRef:o})]})})})});uC.displayName=Mo;var dC="AlertDialogTitle",fC=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=rs(r);return i.jsx(Tg,{...s,...n,ref:t})});fC.displayName=dC;var hC="AlertDialogDescription",mC=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=rs(r);return i.jsx(Pg,{...s,...n,ref:t})});mC.displayName=hC;var TL="AlertDialogAction",pC=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=rs(r);return i.jsx(Og,{...s,...n,ref:t})});pC.displayName=TL;var gC="AlertDialogCancel",vC=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=kL(gC,r),a=rs(r),o=Ce(t,s);return i.jsx(Og,{...a,...n,ref:o})});vC.displayName=gC;var PL=({contentRef:e})=>{const t=`\`${Mo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Mo}\` by passing a \`${hC}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Mo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},OL=iC,RL=lC,yC=cC,xC=uC,wC=pC,bC=vC,_C=fC,SC=mC;const IL=OL,LL=RL,CC=p.forwardRef(({className:e,...t},r)=>i.jsx(yC,{className:_("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));CC.displayName=yC.displayName;const NC=p.forwardRef(({className:e,...t},r)=>i.jsxs(LL,{children:[i.jsx(CC,{}),i.jsx(xC,{ref:r,className:_("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));NC.displayName=xC.displayName;const EC=({className:e,...t})=>i.jsx("div",{className:_("flex flex-col space-y-2 text-center sm:text-left",e),...t});EC.displayName="AlertDialogHeader";const jC=({className:e,...t})=>i.jsx("div",{className:_("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});jC.displayName="AlertDialogFooter";const kC=p.forwardRef(({className:e,...t},r)=>i.jsx(_C,{ref:r,className:_("text-lg font-semibold",e),...t}));kC.displayName=_C.displayName;const AC=p.forwardRef(({className:e,...t},r)=>i.jsx(SC,{ref:r,className:_("text-sm text-muted-foreground",e),...t}));AC.displayName=SC.displayName;const TC=p.forwardRef(({className:e,...t},r)=>i.jsx(wC,{ref:r,className:_(Ol(),e),...t}));TC.displayName=wC.displayName;const PC=p.forwardRef(({className:e,...t},r)=>i.jsx(bC,{ref:r,className:_(Ol({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));PC.displayName=bC.displayName;const $L=({activeSection:e,onSectionChange:t,isDarkMode:r,toggleDarkMode:n,isVisible:s,isCollapsed:a,onToggleCollapse:o,showCollapseButton:l=!0})=>{const{user:c,logout:u}=ts(),{getProfileByUserId:d}=y3(),[f,h]=p.useState(!1),m=c?d(c.id):null,w=[{id:"dashboard",label:"Painel",icon:lg},{id:"mensagens",label:"Mensagens",icon:Qn},{id:"exams",label:"Exames",icon:vn},{id:"reports",label:"Relatrios",icon:O_},{id:"settings",label:"Configuraes",icon:yn}],v=async()=>{h(!1);try{await u()}catch(g){console.error("Erro ao fazer logout:",g)}},y=g=>g.split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2),x=()=>{t("settings")};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:_("h-full transition-all duration-300 flex flex-col",r?"bg-[#18181b] border-[#3f3f46]":"bg-white border-gray-200","border-r",s?"translate-x-0":"-translate-x-full md:translate-x-0",a?"w-16":"w-64"),children:[i.jsx("div",{className:"p-4 border-b border-inherit",children:i.jsxs("div",{className:"flex items-center justify-between",children:[a?l&&i.jsx(K,{variant:"ghost",size:"icon",onClick:o,className:_("h-8 w-8 mx-auto",r?"text-white hover:bg-[#b5103c]":"text-gray-600 hover:bg-gray-100"),children:i.jsx(e0,{size:24,className:"text-[#b5103c]",strokeWidth:1.5})}):i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",children:i.jsx("img",{src:"/lovable-uploads/2e823263-bd82-49e9-84f6-6327c136da53.png",alt:"Villa Glamour Logo",className:"w-8 h-8 object-contain",style:{background:"transparent"}})}),i.jsxs("div",{children:[i.jsx("span",{className:_("font-bold text-lg",r?"text-white":"text-gray-900"),children:"Villa Glamour"}),i.jsx("p",{className:_("text-xs",r?"text-[#a1a1aa]":"text-gray-600"),children:"Sistema de Atendimento"})]})]}),l&&!a&&i.jsx(K,{variant:"ghost",size:"icon",onClick:o,className:_("h-8 w-8",r?"text-white hover:bg-[#b5103c]":"text-gray-600 hover:bg-gray-100"),children:i.jsx(e0,{size:24,className:"text-[#b5103c]",strokeWidth:1.5})})]})}),i.jsx("nav",{className:"flex-1 p-4",children:i.jsx("div",{className:"space-y-2",children:w.map(g=>i.jsxs("button",{onClick:()=>t(g.id),className:_("w-full flex items-center space-x-3 px-3 py-3 rounded-xl text-left transition-all duration-200",e===g.id?"bg-[#b5103c] text-white shadow-lg":r?"text-white hover:bg-[#b5103c] hover:text-white":"text-gray-700 hover:bg-gray-100",a&&"justify-center px-2"),children:[i.jsx(g.icon,{size:a?28:20,className:e===g.id?"text-white":"text-[#b5103c]",strokeWidth:1.5}),!a&&i.jsx("span",{className:"font-medium",children:g.label})]},g.id))})}),i.jsxs("div",{className:"p-4 border-t border-inherit",children:[a&&c&&i.jsx("div",{className:"flex flex-col items-center space-y-3 mb-4",children:i.jsx("button",{onClick:x,children:i.jsxs(Am,{className:"w-12 h-12 hover:ring-2 hover:ring-[#b5103c]/50 transition-all",children:[i.jsx(Tm,{src:(m==null?void 0:m.avatar_url)||void 0,alt:c.name}),i.jsx(Pm,{className:"bg-[#b5103c] text-white text-sm font-semibold",children:y(c.name)})]})})}),!a&&c&&i.jsx("button",{onClick:x,className:"w-full mb-4 p-3 rounded-xl bg-[#b5103c]/5 border border-[#b5103c]/20 hover:bg-[#b5103c]/10 hover:border-[#b5103c]/30 transition-all duration-200",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs(Am,{className:"w-10 h-10",children:[i.jsx(Tm,{src:(m==null?void 0:m.avatar_url)||void 0,alt:c.name}),i.jsx(Pm,{className:"bg-[#b5103c] text-white text-sm font-semibold",children:y(c.name)})]}),i.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[i.jsx("p",{className:_("text-sm font-semibold truncate",r?"text-white":"text-gray-900"),children:c.name}),i.jsx("p",{className:_("text-xs truncate",r?"text-[#a1a1aa]":"text-gray-600"),children:c.role==="admin"?"Administrador":"Usurio"})]})]})}),i.jsxs("div",{className:_("space-y-2",a?"flex flex-col items-center space-y-3":""),children:[i.jsxs(K,{variant:"ghost",size:a?"icon":"sm",onClick:n,className:_(a?"w-10 h-10":"w-full justify-start",r?"text-[#a1a1aa] hover:bg-[#18181b]":"text-gray-600 hover:bg-gray-100"),children:[r?i.jsx(P_,{size:a?24:18,className:"text-[#b5103c]",strokeWidth:1.5}):i.jsx(E_,{size:a?24:18,className:"text-[#b5103c]",strokeWidth:1.5}),!a&&i.jsx("span",{className:"ml-3 font-medium",children:r?"Modo Claro":"Modo Escuro"})]}),i.jsxs(K,{variant:"ghost",size:a?"icon":"sm",onClick:()=>h(!0),className:_(a?"w-10 h-10":"w-full justify-start","text-red-600 hover:bg-red-50 hover:text-red-700",r&&"hover:bg-red-900/20"),children:[i.jsx(Pd,{size:a?24:18,strokeWidth:1.5}),!a&&i.jsx("span",{className:"ml-3 font-medium",children:"Sair"})]})]})]})]}),i.jsx(IL,{open:f,onOpenChange:h,children:i.jsxs(NC,{className:_(r?"bg-[#18181b] border-[#3f3f46]":"bg-white"),children:[i.jsxs(EC,{children:[i.jsx(kC,{className:_(r?"text-white":"text-gray-900"),children:"Confirmar Logout"}),i.jsx(AC,{className:_(r?"text-[#a1a1aa]":"text-gray-600"),children:"Tem certeza que deseja sair do sistema?"})]}),i.jsxs(jC,{children:[i.jsx(PC,{className:_(r?"border-[#3f3f46] text-[#a1a1aa] hover:bg-[#27272a]":""),children:"Cancelar"}),i.jsx(TC,{onClick:v,className:"bg-red-600 hover:bg-red-700 text-white",children:"Sair"})]})]})})]})},ML=({activeSection:e,onSectionChange:t,isDarkMode:r})=>{const n=[{id:"dashboard",icon:EO,label:"Painel"},{id:"mensagens",icon:Qn,label:"Mensagens"},{id:"exames",icon:vn,label:"Exames"},{id:"settings",icon:yn,label:"Config"}];return i.jsx("div",{className:_("md:hidden fixed bottom-0 left-0 right-0 z-50 border-t",r?"bg-[#09090b] border-[#3f3f46]":"bg-white border-gray-200"),children:i.jsx("div",{className:"flex items-center justify-around py-2 px-1 safe-area-bottom",children:n.map(s=>{const a=s.icon,o=e===s.id;return i.jsxs("button",{onClick:()=>t(s.id),className:_("flex flex-col items-center justify-center py-1 px-2 rounded-lg transition-colors min-h-[60px]",o?"text-[#b5103c]":r?"text-gray-400":"text-gray-600"),children:[i.jsx(a,{size:20,className:_("mb-1",o&&"text-[#b5103c]")}),i.jsx("span",{className:_("text-xs font-medium",o&&"text-[#b5103c]"),children:s.label})]},s.id)})})})},Ya=()=>{const{user:e}=ts(),t=()=>(e==null?void 0:e.role)==="admin",r=()=>(e==null?void 0:e.role)==="admin",n=()=>(e==null?void 0:e.role)==="admin",s=()=>!0,a=()=>(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="manager_external"||(e==null?void 0:e.role)==="manager_store",o=u=>c().includes(u),l=()=>!!e,c=()=>{var u,d,f,h;if(!e)return[];if(e.role==="admin"||e.role==="manager_external")return["chat","canarana","souto-soares","joao-dourado","america-dourada","gerente-lojas","gerente-externo"];if(e.role==="manager_store")return["canarana","souto-soares","joao-dourado","america-dourada","gerente-lojas"];if(e.role==="salesperson"){const m=["chat"];return(u=e.assignedCities)!=null&&u.includes("canarana")&&m.push("canarana"),(d=e.assignedCities)!=null&&d.includes("souto-soares")&&m.push("souto-soares"),(f=e.assignedCities)!=null&&f.includes("joao-dourado")&&m.push("joao-dourado"),(h=e.assignedCities)!=null&&h.includes("america-dourada")&&m.push("america-dourada"),m}return["chat"]};return{canManageUsers:t,canAccessAuditHistory:r,canManageTabs:n,canAccessCredentials:s,canAccessReports:a,canAccessChannel:o,canSendMessage:l,getAccessibleChannels:c}},Rg=()=>{const[e,t]=p.useState(!1),{toast:r}=Bt(),n=(d,f)=>`conversation_status_${d}_${f}`,s=p.useCallback((d,f)=>{const h=n(d,f),m=localStorage.getItem(h);if(m)try{const w=JSON.parse(m);return{status:w.status||"unread",lastActivity:w.lastActivity||new Date().toISOString(),lastViewed:w.lastViewed||new Date().toISOString()}}catch(w){console.error(" [STATUS] Error parsing saved status:",w)}return{status:"unread",lastActivity:new Date().toISOString(),lastViewed:new Date().toISOString()}},[]),a=p.useCallback((d,f,h)=>{const m=n(d,f);localStorage.setItem(m,JSON.stringify(h));const w="conversation_stats_cache",v=JSON.parse(localStorage.getItem(w)||"{}");v[d]||(v[d]={}),v[d][f]=h,localStorage.setItem(w,JSON.stringify(v))},[]);p.useEffect(()=>{const d=()=>{console.log(" [STATUS] Checking for auto-resolve candidates");const h=new Date,m=new Date(h.getTime()-24*60*60*1e3);Object.keys(localStorage).forEach(w=>{if(w.startsWith("conversation_status_"))try{const v=JSON.parse(localStorage.getItem(w)||"{}");if(v.status==="in_progress"&&v.lastActivity&&new Date(v.lastActivity)<m){const x={...v,status:"resolved"};localStorage.setItem(w,JSON.stringify(x)),console.log(` [STATUS] Auto-resolved conversation: ${w}`)}}catch(v){console.error(" [STATUS] Error in auto-resolve:",v)}})};d();const f=setInterval(d,60*60*1e3);return()=>clearInterval(f)},[]);const o=p.useCallback(async(d,f,h,m=!0)=>{if(!d||!f)return console.error(" [STATUS] Missing channelId or conversationId"),!1;try{t(!0),console.log(` [STATUS] Updating conversation ${f} in ${d} to ${h}`);const v={...s(d,f),status:h,lastActivity:new Date().toISOString()};if(a(d,f,v),h==="in_progress"||h==="resolved")try{const{error:y}=await ye.rpc("mark_messages_as_read",{table_name:`${d}_conversas`,p_session_id:f});y?console.error(" [STATUS] Error marking messages as read:",y):console.log(" [STATUS] Messages marked as read in database")}catch(y){console.error(" [STATUS] Database error:",y)}return m&&r({title:"Status atualizado",description:`Conversa marcada como ${{unread:"no lida",in_progress:"em andamento",resolved:"resolvida"}[h]}`}),console.log(" [STATUS] Status updated successfully"),!0}catch(w){return console.error(" [STATUS] Error updating conversation status:",w),m&&r({title:"Erro",description:"Erro ao atualizar status da conversa",variant:"destructive"}),!1}finally{t(!1)}},[r,s,a]),l=p.useCallback((d,f)=>s(d,f).status,[s]),c=p.useCallback(async(d,f)=>{console.log(` [STATUS] Marking conversation ${f} as viewed`);const h=s(d,f);if(h.status==="unread")await o(d,f,"in_progress",!1);else{const m={...h,lastViewed:new Date().toISOString()};a(d,f,m)}},[s,o,a]),u=p.useCallback(()=>JSON.parse(localStorage.getItem("conversation_stats_cache")||"{}"),[]);return{updateConversationStatus:o,getConversationStatus:l,markConversationAsViewed:c,getAllConversationStats:u,updating:e}};class DL{constructor(t){Re(this,"tableName");this.tableName=t}getTableName(){return this.tableName}async findAll(t){const r=ye.from(this.tableName).select("*").order("id",{ascending:!1});t&&r.limit(t);const{data:n,error:s}=await r;if(s)throw console.error(` [BASE_REPOSITORY] Error fetching from ${this.tableName}:`,s),s;return n||[]}async findById(t){const{data:r,error:n}=await ye.from(this.tableName).select("*").eq("id",t).maybeSingle();if(n)throw console.error(` [BASE_REPOSITORY] Error fetching by ID from ${this.tableName}:`,n),n;return r}async create(t){const{data:r,error:n}=await ye.from(this.tableName).insert(t).select().single();if(n)throw console.error(` [BASE_REPOSITORY] Error creating in ${this.tableName}:`,n),n;return r}async update(t,r){const{data:n,error:s}=await ye.from(this.tableName).update(r).eq("id",t).select().single();if(s)throw console.error(` [BASE_REPOSITORY] Error updating in ${this.tableName}:`,s),s;return n}async delete(t){const{error:r}=await ye.from(this.tableName).delete().eq("id",t);if(r)throw console.error(` [BASE_REPOSITORY] Error deleting from ${this.tableName}:`,r),r}}class FL extends DL{constructor(t){super(t)}mapDatabaseRowToRawMessage(t){var n;const r=t.Nome_do_contato||t.nome_do_contato||"Contato Annimo";return{id:((n=t.id)==null?void 0:n.toString())||"",session_id:t.session_id||"",message:t.message||"",sender:this.determineSender(t),timestamp:t.read_at||new Date().toISOString(),content:t.message||"",tipo_remetente:t.tipo_remetente,mensagemtype:t.mensagemtype,Nome_do_contato:r,nome_do_contato:r,media_base64:t.media_base64,read_at:t.read_at,is_read:t.is_read}}determineSender(t){return t.tipo_remetente==="USUARIO_INTERNO"||t.tipo_remetente==="Yelena-ai"?"agent":"customer"}async findAll(t=50){console.log(` [MESSAGE_REPOSITORY] Fetching ${t} messages from ${this.tableName}`);try{const{data:r,error:n}=await ye.from(this.tableName).select("*").order("id",{ascending:!1}).limit(Math.min(t,100));if(n)return console.error(` [MESSAGE_REPOSITORY] Error fetching from ${this.tableName}:`,n),[];const s=(r||[]).map(a=>this.mapDatabaseRowToRawMessage(a));return console.log(` [MESSAGE_REPOSITORY] Successfully fetched ${s.length} messages from ${this.tableName}`),s}catch(r){return console.error(` [MESSAGE_REPOSITORY] Error in findAll for ${this.tableName}:`,r),[]}}async findByPhoneNumber(t){console.log(` [MESSAGE_REPOSITORY] Finding messages by phone ${t} in ${this.tableName}`);try{const{data:r,error:n}=await ye.from(this.tableName).select("*").ilike("session_id",`%${t}%`).order("id",{ascending:!0}).limit(100);if(n)return console.error(` [MESSAGE_REPOSITORY] Error fetching by phone from ${this.tableName}:`,n),[];const s=(r||[]).map(a=>this.mapDatabaseRowToRawMessage(a));return console.log(` [MESSAGE_REPOSITORY] Found ${s.length} messages for phone ${t}`),s}catch(r){return console.error(" [MESSAGE_REPOSITORY] Error in findByPhoneNumber:",r),[]}}async insertMessage(t,r,n){const s={session_id:t,message:r,...this.tableName==="yelena_ai_conversas"||this.tableName==="gerente_externo_conversas"?{Nome_do_contato:n||"Contato Annimo"}:{nome_do_contato:n||"Contato Annimo"},read_at:new Date().toISOString(),mensagemtype:"conversation",tipo_remetente:"sistema"};console.log(` [MESSAGE_REPOSITORY] Inserting message into ${this.tableName}`);try{const a=await this.create(s);return this.mapDatabaseRowToRawMessage(a)}catch(a){throw console.error(" [MESSAGE_REPOSITORY] Error inserting message:",a),a}}async findMessagesAfterTimestamp(t){console.log(` [MESSAGE_REPOSITORY] Finding messages after ${t} in ${this.tableName}`);try{const{data:r,error:n}=await ye.from(this.tableName).select("*").gt("read_at",t).order("id",{ascending:!0}).limit(50);if(n)return console.error(` [MESSAGE_REPOSITORY] Error fetching messages after timestamp from ${this.tableName}:`,n),{data:null,error:n};const s=(r||[]).map(a=>this.mapDatabaseRowToRawMessage(a));return console.log(` [MESSAGE_REPOSITORY] Found ${s.length} new messages after ${t}`),{data:s,error:null}}catch(r){return console.error(" [MESSAGE_REPOSITORY] Error in findMessagesAfterTimestamp:",r),{data:null,error:r}}}async markAsRead(t){console.log(` [MESSAGE_REPOSITORY] Marking messages as read for session ${t}`);try{const r={read_at:new Date().toISOString()};this.tableName!=="yelena_ai_conversas"&&(r.is_read=!0);const{error:n}=await ye.from(this.tableName).update(r).eq("session_id",t);if(n)throw console.error(" [MESSAGE_REPOSITORY] Error marking messages as read:",n),n;console.log(` [MESSAGE_REPOSITORY] Successfully marked messages as read for session ${t}`)}catch(r){throw console.error(" [MESSAGE_REPOSITORY] Error in markAsRead:",r),r}}}const OC=e=>({chat:"yelena_ai_conversas","af1e5797-edc6-4ba3-a57a-25cf7297c4d6":"yelena_ai_conversas",canarana:"canarana_conversas","souto-soares":"souto_soares_conversas","joao-dourado":"joao_dourado_conversas","america-dourada":"america_dourada_conversas","gerente-lojas":"gerente_lojas_conversas","gerente-externo":"gerente_externo_conversas","d2892900-ca8f-4b08-a73f-6b7aa5866ff7":"gerente_externo_conversas"})[e]||"yelena_ai_conversas",RC=e=>({chat:"Yelena AI","af1e5797-edc6-4ba3-a57a-25cf7297c4d6":"Yelena AI",canarana:"Canarana","souto-soares":"Souto Soares","joao-dourado":"Joo Dourado","america-dourada":"Amrica Dourada","gerente-lojas":"Gerente Lojas","gerente-externo":"Gerente Externo","d2892900-ca8f-4b08-a73f-6b7aa5866ff7":"Gerente Externo"})[e]||"Canal Desconhecido",bt=class bt{constructor(t){Re(this,"repositories",new Map);Re(this,"channelId");this.channelId=t||""}getRepository(t){const r=t||this.channelId;if(!this.repositories.has(r)){const n=OC(r);this.repositories.set(r,new FL(n))}return this.repositories.get(r)}getCacheKey(t,r={}){return`${this.channelId}-${t}-${JSON.stringify(r)}`}getFromCache(t){const r=bt.queryCache.get(t);return r&&Date.now()-r.timestamp<bt.CACHE_DURATION?(console.log(` [MESSAGE_SERVICE] Cache hit for ${t}`),r.data):null}setCache(t,r){bt.queryCache.set(t,{data:r,timestamp:Date.now()})}async getMessagesForChannel(t=50){const r=this.getCacheKey("getMessages",{limit:t}),n=this.getFromCache(r);if(n)return n;const s=this.getRepository();console.log(` [MESSAGE_SERVICE] Getting messages for channel ${this.channelId} from table ${s.getTableName()}`);try{const a=await s.findAll(t);return this.setCache(r,a),a}catch(a){return console.error(` [MESSAGE_SERVICE] Error getting messages for channel ${this.channelId}:`,a),[]}}async saveMessage(t){const r=this.getRepository();console.log(` [MESSAGE_SERVICE] Saving message to channel ${this.channelId}`);try{const n=await r.create(t);return bt.queryCache.clear(),n}catch(n){throw console.error(` [MESSAGE_SERVICE] Error saving message to channel ${this.channelId}:`,n),n}}async getMessagesByPhoneNumber(t){const r=this.getCacheKey("getByPhone",{phoneNumber:t}),n=this.getFromCache(r);if(n)return n;const s=this.getRepository();console.log(` [MESSAGE_SERVICE] Getting messages by phone ${t} for channel ${this.channelId}`);try{const a=await s.findByPhoneNumber(t);return this.setCache(r,a),a}catch(a){return console.error(` [MESSAGE_SERVICE] Error getting messages by phone for channel ${this.channelId}:`,a),[]}}async getNewMessages(t){const r=this.getRepository();console.log(` [MESSAGE_SERVICE] Getting new messages after ${t} for channel ${this.channelId}`);try{const{data:n,error:s}=await r.findMessagesAfterTimestamp(t);return s?(console.error(" [MESSAGE_SERVICE] Error getting new messages:",s),[]):n||[]}catch(n){return console.error(` [MESSAGE_SERVICE] Error getting new messages for channel ${this.channelId}:`,n),[]}}async markConversationAsRead(t){const r=this.getRepository();console.log(` [MESSAGE_SERVICE] Marking conversation as read: ${t} in channel ${this.channelId}`);try{await r.markAsRead(t),bt.queryCache.clear()}catch(n){console.error(" [MESSAGE_SERVICE] Error marking conversation as read:",n)}}async getConversations(t=20){const r=this.getCacheKey("getConversations",{limit:t}),n=this.getFromCache(r);if(n)return n;const a=this.getRepository().getTableName();try{console.log(` [MESSAGE_SERVICE] Getting conversations from ${a} with limit ${t}`);const{data:o,error:l}=await ye.from(a).select("*").order("read_at",{ascending:!1}).limit(t);if(l)return console.error(" [MESSAGE_SERVICE] Database error:",l),[];const c=new Map;(o||[]).forEach(d=>{const f=d.session_id;c.has(f)||c.set(f,{id:f,contact_name:d.nome_do_contato||d.Nome_do_contato||"Unknown",contact_phone:this.extractPhoneFromSessionId(f),last_message:d.message,last_message_time:d.read_at||new Date().toISOString(),status:d.is_read?"resolved":"unread",updated_at:d.read_at||new Date().toISOString(),unread_count:d.is_read?0:1})});const u=Array.from(c.values());return console.log(` [MESSAGE_SERVICE] Loaded ${u.length} conversations from ${a}`),this.setCache(r,u),u}catch(o){return console.error(" [MESSAGE_SERVICE] Error getting conversations:",o),[]}}async getMessagesByConversation(t,r=50){const n=this.getCacheKey("getByConversation",{sessionId:t,limit:r}),s=this.getFromCache(n);if(s)return s;const a=this.getRepository(),o=a.getTableName();try{const{data:l,error:c}=await ye.from(o).select("*").eq("session_id",t).order("read_at",{ascending:!0}).limit(r);if(c)return console.error(" [MESSAGE_SERVICE] Error getting messages by conversation:",c),{data:[]};const d={data:(l||[]).map(f=>a.mapDatabaseRowToRawMessage(f))};return this.setCache(n,d),d}catch(l){return console.error(" [MESSAGE_SERVICE] Error getting messages by conversation:",l),{data:[]}}}async getAllMessages(t=50){return this.getMessagesForChannel(t)}extractPhoneFromSessionId(t){const r=t.match(/(\d+)@/);return r?r[1]:t}createRealtimeSubscription(t,r=""){const s=this.getRepository().getTableName(),a=`${s}-${r}`;if(bt.activeSubscriptions.has(a))return console.log(` [MESSAGE_SERVICE] Subscription already exists for ${a}, reusing`),bt.activeSubscriptions.get(a);const o=ye.channel(`${s}-changes${r}`).on("postgres_changes",{event:"*",schema:"public",table:s},l=>{console.log(` [MESSAGE_SERVICE] Realtime update for ${s}:`,l),bt.queryCache.clear(),t(l)});return bt.activeSubscriptions.set(a,o),o}static unsubscribeChannel(t,r){const n=`${r}-${t}`,s=bt.activeSubscriptions.get(n);s&&(console.log(` [MESSAGE_SERVICE] Unsubscribing from ${n}`),ye.removeChannel(s),bt.activeSubscriptions.delete(n))}static clearCache(){bt.queryCache.clear(),console.log(" [MESSAGE_SERVICE] Cache cleared")}async getChannelStats(){const t=this.getCacheKey("getStats"),r=this.getFromCache(t);if(r)return r;const n=this.getRepository();console.log(` [MESSAGE_SERVICE] Getting stats for channel ${this.channelId} from table ${n.getTableName()}`);try{const s=await this.getConversations(10),a={totalMessages:0,totalConversations:s.length,unreadMessages:s.filter(o=>o.status==="unread").length};return this.setCache(t,a),a}catch(s){return console.error(" [MESSAGE_SERVICE] Error getting channel stats:",s),{totalMessages:0,totalConversations:0,unreadMessages:0}}}async getNewMessagesAfterTimestamp(t){return this.getNewMessages(t)}async fetchMessages(t=50){return this.getMessagesForChannel(t)}};Re(bt,"activeSubscriptions",new Map),Re(bt,"queryCache",new Map),Re(bt,"CACHE_DURATION",3e4);let xn=bt;const UL=()=>{const[e,t]=p.useState({total:0,pending:0,inProgress:0,resolved:0,unreadMessages:0}),[r,n]=p.useState(!0),[s,a]=p.useState(null),{channels:o}=Ka(),{getAccessibleChannels:l}=Ya(),{getConversationStatus:c}=Rg(),u=async()=>{try{n(!0),console.log(" [REAL_STATS] Starting optimized conversation statistics calculation");const d=l();console.log(" [REAL_STATS] Accessible channels:",d);const f={"Yelena-AI":"chat",Canarana:"canarana","Souto Soares":"souto-soares","Joo Dourado":"joao-dourado","Amrica Dourada":"america-dourada","Gustavo Gerente das Lojas":"gerente-lojas","Andressa Gerente Externo":"gerente-externo"},h=[];let m=null;console.log(" [REAL_STATS] Processing channels with delay to avoid overwhelming database...");for(let S=0;S<o.length;S++){const C=o[S];if(!C.isActive)continue;const j=f[C.name];if(console.log(` [REAL_STATS] Processing channel ${S+1}/${o.length}: ${C.name} -> ${j}`),!j){console.log(` [REAL_STATS] Channel ${C.name} not found in mapping, skipping`);continue}if(!d.includes(j)){console.log(` [REAL_STATS] Channel ${j} not accessible, skipping`);continue}try{const E=await new xn(j).getConversations(15);console.log(` [REAL_STATS] Channel ${j}: found ${E.length} conversations`),E.forEach(O=>{const I=O.contact_phone;console.log(` [REAL_STATS] Processing conversation: ${I} - ${O.contact_name} in channel ${j}`);const P=c(j,O.id),R=`${j}-${O.id}`;O.last_message_time&&(!m||new Date(O.last_message_time)>new Date(m))&&(m=O.last_message_time),h.push({id:R,phone:I,name:O.contact_name||`Cliente ${I.slice(-4)}`,lastMessage:O.last_message||"Sem mensagem",lastMessageTime:O.last_message_time||"",channel:j,status:P}),console.log(` [REAL_STATS] Added conversation: ${R} for ${I} in ${j}`)}),S<o.length-1&&await new Promise(O=>setTimeout(O,500))}catch(A){console.error(` [REAL_STATS] Error loading stats for channel ${j}:`,A)}}let w=0,v=0,y=0,x=0;h.forEach(S=>{switch(console.log(` [REAL_STATS] Final processing for ${S.id}: phone=${S.phone}, status=${S.status}, channel=${S.channel}`),S.status){case"unread":w++,x++;break;case"in_progress":v++;break;case"resolved":y++;break;default:w++,x++;break}});const g=h.length;console.log(" [REAL_STATS] Final count summary:"),console.log(`   Total conversations across all channels: ${g}`),console.log(`   Pending: ${w}`),console.log(`   In Progress: ${v}`),console.log(`   Resolved: ${y}`),console.log(`   Unread Messages: ${x}`),console.log(`   Most recent activity: ${m}`);const b={total:g,pending:w,inProgress:v,resolved:y,unreadMessages:x};console.log(" [REAL_STATS] Final statistics:",b),t(b),a(m)}catch(d){console.error(" [REAL_STATS] Error loading real conversation statistics:",d),t({total:0,pending:0,inProgress:0,resolved:0,unreadMessages:0})}finally{n(!1)}};return p.useEffect(()=>{if(o.length>0){u();const d=setInterval(u,3e5);return()=>clearInterval(d)}},[o]),{stats:e,loading:r,lastActivity:s,refreshStats:u}},zL=({isDarkMode:e,onCardClick:t})=>{const{stats:r,loading:n}=UL();console.log(" [STATS_CARDS] Rendering with stats:",r);const s=[{title:"Total",value:r.total,filter:"total",icon:Qn,color:"bg-[#b5103c]"},{title:"Pendentes",value:r.pending,filter:"pending",icon:wO,color:"bg-red-500"},{title:"Em Andamento",value:r.inProgress,filter:"inProgress",icon:b_,color:"bg-yellow-500"},{title:"Resolvidas",value:r.resolved,filter:"resolved",icon:ug,color:"bg-green-500"}];return n?i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((a,o)=>i.jsxs("div",{className:_("rounded-lg border p-4 flex flex-col justify-between min-h-[100px] animate-pulse",e?"bg-[#18181b] border-[#3f3f46]":"bg-white border-gray-200"),children:[i.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),i.jsx("div",{className:"h-8 bg-gray-300 rounded"})]},o))}):i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:s.map((a,o)=>{const l=t&&a.filter!=="total",c=a.icon;return console.log(` [STATS_CARDS] Card ${a.title}: ${a.value}`),i.jsx("div",{onClick:()=>l&&t(a.filter),className:_("rounded-lg border p-4 flex flex-col justify-between min-h-[100px] transition-all duration-200",e?"bg-[#18181b] border-[#3f3f46]":"bg-white border-gray-200",l&&"cursor-pointer hover:shadow-lg transform hover:scale-105",l&&e&&"hover:bg-[#1f1f23]",l&&!e&&"hover:bg-gray-50"),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(c,{size:16,className:"text-[#b5103c]"}),i.jsx("h3",{className:_("text-xs font-medium",e?"text-gray-400":"text-gray-600"),children:a.title})]}),i.jsx("p",{className:_("text-2xl font-bold",e?"text-white":"text-gray-900"),children:a.value})]}),l&&i.jsx("div",{className:_("text-xs opacity-0 transition-opacity hover:opacity-100",e?"text-zinc-400":"text-gray-500"),children:"Clique para filtrar"})]})},o)})})})},VL=({isDarkMode:e,totalExams:t,examsThisMonth:r,examsThisWeek:n})=>{const s=[{title:"Total de Exames",value:t,icon:Ga,bgColor:"bg-[#b5103c]/10"},{title:"Este Ms",value:r,icon:O_,bgColor:"bg-[#b5103c]/10"},{title:"Esta Semana",value:n,icon:b_,bgColor:"bg-[#b5103c]/10"}];return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:s.map((a,o)=>i.jsx(me,{className:_("transition-all duration-200",e?"bg-zinc-800 border-zinc-700":"bg-white border-gray-200"),children:i.jsx(pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:_("p-2 rounded-lg",a.bgColor),children:i.jsx(a.icon,{className:"w-4 h-4 text-[#b5103c]"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:_("text-xs font-medium",e?"text-zinc-400":"text-gray-600"),children:a.title}),i.jsx("p",{className:_("text-lg font-bold",e?"text-zinc-100":"text-gray-900"),children:a.value})]})]})})},o))})},BL=Td("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function tr({className:e,variant:t,...r}){return i.jsx("div",{className:_(BL({variant:t}),e),...r})}class IC{constructor(t){Re(this,"messageService");Re(this,"channelId");this.channelId=t,this.messageService=new xn(t)}async getConversations(){try{return console.log(` [CHANNEL_SERVICE] Getting conversations for channel: ${this.channelId}`),await this.messageService.getConversations()}catch(t){throw console.error(` [CHANNEL_SERVICE] Error getting conversations for channel ${this.channelId}:`,t),t}}async getMessages(t){try{return console.log(` [CHANNEL_SERVICE] Getting messages for channel: ${this.channelId}`),await this.messageService.getMessagesForChannel(t)}catch(r){throw console.error(` [CHANNEL_SERVICE] Error getting messages for channel ${this.channelId}:`,r),r}}async fetchMessages(t){return this.getMessages(t)}async getNewMessagesAfterTimestamp(t){try{return await this.messageService.getNewMessagesAfterTimestamp(t)}catch(r){throw console.error(` [CHANNEL_SERVICE] Error getting new messages for channel ${this.channelId}:`,r),r}}async getChannelStats(){try{return await this.messageService.getChannelStats()}catch(t){throw console.error(` [CHANNEL_SERVICE] Error getting stats for channel ${this.channelId}:`,t),t}}}const Mn=class Mn{constructor(t){this.context=t}static log(t,r,n,s){const a={debug:0,info:1,warn:2,error:3};if(a[t]>=a[this.logLevel]){const o=new Date().toISOString(),l=`[${o}] [${t.toUpperCase()}] [${r}] ${n}`,c={timestamp:o,level:t,category:r,message:n,data:s};this.logs.push(c),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(-this.maxLogs)),s?console[t](l,s):console[t](l)}}static debug(t,r,n){this.log("debug",t,r,n)}static info(t,r,n){this.log("info",t,r,n)}static warn(t,r,n){this.log("warn",t,r,n)}static error(t,r,n){this.log("error",t,r,n)}debug(t,r){Mn.debug(this.context,t,r)}info(t,r){Mn.info(this.context,t,r)}warn(t,r){Mn.warn(this.context,t,r)}error(t,r){Mn.error(this.context,t,r)}static setLogLevel(t){this.logLevel=t}static getLogs(t){let r=[...this.logs];if(t){if(t.level){const n={debug:0,info:1,warn:2,error:3},s=n[t.level];r=r.filter(a=>n[a.level]>=s)}t.category&&(r=r.filter(n=>n.category.toLowerCase().includes(t.category.toLowerCase()))),t.channelId&&(r=r.filter(n=>n.channelId===t.channelId)),t.searchTerm&&(r=r.filter(n=>n.message.toLowerCase().includes(t.searchTerm.toLowerCase())||n.data&&JSON.stringify(n.data).toLowerCase().includes(t.searchTerm.toLowerCase())))}return r.reverse()}static exportLogs(t){const r=this.getLogs(t);return JSON.stringify(r,null,2)}static clearLogs(){this.logs=[]}};Re(Mn,"logs",[]),Re(Mn,"maxLogs",1e3),Re(Mn,"logLevel","info");let Or=Mn;const LC=e=>{const[t,r]=p.useState([]),[n,s]=p.useState(!0),[a,o]=p.useState(!1),[l,c]=p.useState(null),u=p.useCallback(async(f=!1)=>{if(!e){Or.warn("useChannelConversationsRefactored","Nenhum channelId fornecido"),r([]),s(!1);return}try{f?(o(!0),Or.info("useChannelConversationsRefactored",`Atualizao manual para o canal: ${e}`)):s(!0),c(null),Or.info("useChannelConversationsRefactored",`Carregando conversas para o canal: ${e}`);const m=await new IC(e).getConversations();Or.info("useChannelConversationsRefactored","Conversas carregadas com sucesso",{count:m.length}),r(m)}catch(h){Or.error("useChannelConversationsRefactored",`Erro ao carregar conversas para o canal ${e}`,{error:h}),c(h instanceof Error?h.message:"Erro desconhecido"),r([])}finally{s(!1),o(!1)}},[e]),d=p.useCallback(()=>{Or.info("useChannelConversationsRefactored",`Atualizao manual acionada para o canal: ${e}`),u(!0)},[e,u]);return p.useEffect(()=>{u();let f=null;if(e){const h=new xn(e),m=`-conversations-${Date.now()}`;f=h.createRealtimeSubscription(w=>{Or.info("useChannelConversationsRefactored","Nova mensagem via realtime:",w),u()},m),f.subscribe(),Or.info("useChannelConversationsRefactored",`Realtime subscription iniciado para o canal ${e}`)}return()=>{if(f&&e){Or.info("useChannelConversationsRefactored",`Realtime subscription interrompido para o canal ${e}`);const w=new xn(e).getRepository().getTableName();xn.unsubscribeChannel(`-conversations-${Date.now()}`,w)}}},[e,u]),{conversations:t,loading:n,refreshing:a,error:l,refreshConversations:d}},WL=()=>{const[e,t]=p.useState(!1),{toast:r}=Bt();p.useEffect(()=>{const a=()=>{["af1e5797-edc6-4ba3-a57a-25cf7297c4d6","011b69ba-cf25-4f63-af2e-4ad0260d9516","b7996f75-41a7-4725-8229-564f31868027","621abb21-60b2-4ff2-a0a6-172a94b4b65c","64d8acad-c645-4544-a1e6-2f0825fae00b","d8087e7b-5b06-4e26-aa05-6fc51fd4cdce","d2892900-ca8f-4b08-a73f-6b7aa5866ff7","1e233898-5235-40d7-bf9c-55d46e4c16a1"].forEach(c=>{Object.keys(localStorage).forEach(u=>{if(u.startsWith(`conversation_status_${c}_`)){const d=u.split("_").pop();if(localStorage.getItem(u)!=="resolved"&&d){const h=`last_activity_${c}_${d}`,m=localStorage.getItem(h);if(m){const w=new Date(m),v=new Date;v.setHours(v.getHours()-24),w<v&&(localStorage.setItem(u,"resolved"),console.log(` Auto-resolved conversation ${d} after 24h`))}}}})})};a();const o=setInterval(a,60*60*1e3);return()=>clearInterval(o)},[]);const n=p.useCallback(async(a,o,l,c=!0)=>{if(!a||!o)return console.error(" [CONVERSATION_STATUS] Missing channelId or conversationId"),!1;try{t(!0);const u=OC(a);if(l==="in_progress"||l==="resolved"){const{error:h}=await ye.rpc("mark_messages_as_read",{table_name:u,p_session_id:o});h&&console.error(" [CONVERSATION_STATUS] Error marking messages as read:",h)}const d=`conversation_status_${a}_${o}`;localStorage.setItem(d,l);const f=`last_activity_${a}_${o}`;return localStorage.setItem(f,new Date().toISOString()),c&&r({title:"Status atualizado",description:`Conversa marcada como ${{unread:"no lida",in_progress:"em andamento",resolved:"resolvida"}[l]}`}),!0}catch(u){return console.error(" [CONVERSATION_STATUS] Error updating conversation status:",u),r({title:"Erro",description:"Erro ao atualizar status da conversa",variant:"destructive"}),!1}finally{t(!1)}},[r]),s=p.useCallback((a,o)=>{const l=`conversation_status_${a}_${o}`;return localStorage.getItem(l)||"unread"},[]);return{updateConversationStatus:n,getConversationStatus:s,updating:e}},HL=e=>{const{conversations:t,loading:r}=LC(e),{getConversationStatus:n}=WL(),[s,a]=p.useState({total:0,pending:0,inProgress:0,resolved:0});return p.useEffect(()=>{if(!r&&t.length>0){let o=0,l=0,c=0;t.forEach(u=>{switch(n(e,u.id)){case"unread":o++;break;case"in_progress":l++;break;case"resolved":c++;break}}),a({total:t.length,pending:o,inProgress:l,resolved:c})}else r||a({total:0,pending:0,inProgress:0,resolved:0})},[t,r,e,n]),{counts:s,loading:r}},GL=e=>{const[t,r]=p.useState(null),[n,s]=p.useState(!0);return p.useEffect(()=>{(async()=>{if(!e){r(null),s(!1);return}try{s(!0),console.log(` [CHANNEL_ACTIVITY] Loading last activity for channel: ${e}`);const c=await new xn(e).getConversations();let u=null;c.forEach(d=>{d.last_message_time&&(!u||new Date(d.last_message_time)>new Date(u))&&(u=d.last_message_time)}),console.log(` [CHANNEL_ACTIVITY] Channel ${e} last activity: ${u}`),r(u)}catch(l){console.error(` [CHANNEL_ACTIVITY] Error loading last activity for channel ${e}:`,l),r(null)}finally{s(!1)}})()},[e]),{lastActivity:t,lastActivityText:(()=>{if(!t)return"Sem atividade recente";try{const o=new Date,l=new Date(t),c=Math.floor((o.getTime()-l.getTime())/(1e3*60));if(c<1)return"Agora mesmo";if(c===1)return"1 minuto atrs";if(c<60)return`${c} minutos atrs`;const u=Math.floor(c/60);if(u===1)return"1 hora atrs";if(u<24)return`${u} horas atrs`;const d=Math.floor(u/24);return d===1?"1 dia atrs":`${d} dias atrs`}catch{return"Sem atividade recente"}})(),loading:n}},qL=()=>{const[e,t]=p.useState([]);return p.useEffect(()=>{const s=localStorage.getItem("pinnedChannels");s&&t(JSON.parse(s))},[]),{pinnedChannels:e,togglePin:s=>{const a=e.includes(s)?e.filter(o=>o!==s):[...e,s];t(a),localStorage.setItem("pinnedChannels",JSON.stringify(a))},isPinned:s=>e.includes(s)}},KL=({channelId:e,name:t,type:r,isDarkMode:n,onClick:s})=>{const{counts:a,loading:o}=HL(e),{lastActivityText:l,loading:c}=GL(e),{isPinned:u,togglePin:d}=qL(),f=o||c,h=u(e),m=a.pending+a.inProgress,w=S=>S.includes("Yelena")||S.includes("AI")?Du:S.includes("Andressa")||S.includes("Gustavo")?_n:S.includes("Canarana")||S.includes("Souto Soares")||S.includes("Joo Dourado")||S.includes("Amrica Dourada")?T_:Du,v=S=>S.includes("Yelena")||S.includes("AI")?"Yelena-AI":S.includes("Canarana")?"Canarana":S.includes("Souto Soares")?"Souto Soares":S.includes("Joo Dourado")?"Joo Dourado":S.includes("Amrica Dourada")?"Amrica Dourada":S.includes("Andressa")||S.includes("Gerente do Externo")?"Andressa Gerente Externo":S.includes("Gustavo")||S.includes("Gerente das Lojas")?"Gustavo Gerente das Lojas":S,y=S=>S.includes("Yelena")||S.includes("AI")?"IA Assistant":S.includes("Canarana")||S.includes("Souto Soares")||S.includes("Joo Dourado")||S.includes("Amrica Dourada")?"Loja":S.includes("Andressa")?"Gerente Externo":S.includes("Gustavo")?"Gerente":r,x=w(t),g=v(t),b=y(t);return f?i.jsx(me,{className:_("cursor-pointer transition-all hover:shadow-md animate-pulse",n?"bg-[#18181b] border-[#3f3f46]":"bg-white border-gray-200"),children:i.jsx(pe,{className:"p-4",children:i.jsx("div",{className:"h-20 bg-gray-300 rounded"})})}):i.jsx(me,{className:_("cursor-pointer transition-all hover:shadow-md hover:scale-[1.01] relative group",n?"bg-[#18181b] border-[#3f3f46] hover:bg-[#27272a]":"bg-white border-gray-200 hover:bg-gray-50",h&&"ring-2 ring-[#b5103c]/30"),onClick:()=>s(e),children:i.jsxs(pe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:_("p-2 rounded-md relative",n?"bg-[#27272a]":"bg-gray-100"),children:[i.jsx(x,{size:18,className:"text-[#b5103c]"}),m>0&&i.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:m>99?"99+":m})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("h3",{className:_("font-medium text-sm truncate flex items-center gap-1",n?"text-white":"text-gray-900"),children:[g,h&&i.jsx(Uu,{size:12,className:"text-[#b5103c] fill-current"})]}),i.jsx("p",{className:_("text-xs",n?"text-gray-400":"text-gray-600"),children:b})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[a.total>0&&i.jsx(tr,{className:"bg-[#b5103c] text-white text-xs px-2 py-1",children:a.total}),i.jsx("button",{onClick:S=>{S.stopPropagation(),d(e)},className:_("opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded-md",h&&"opacity-100",n?"hover:bg-zinc-700":"hover:bg-gray-200"),children:i.jsx(Uu,{size:14,className:_(h?"text-[#b5103c] fill-current":n?"text-gray-400":"text-gray-600")})})]})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("p",{className:_("text-xs","text-gray-500"),children:f?"Carregando...":l})})]})})},YL=({isDarkMode:e,onChannelClick:t})=>{const{channels:r,loading:n}=Ka(),{getAccessibleChannels:s}=Ya(),a=d=>({"Yelena-AI":"chat","ticas Villa Glamour":"chat",Canarana:"canarana","Souto Soares":"souto-soares","Joo Dourado":"joao-dourado","Amrica Dourada":"america-dourada","Andressa Gerente Externo":"gerente-externo","Gustavo Gerente das Lojas":"gerente-lojas"})[d.name]||d.id,o=d=>({"Andressa Gerente Externo":"Andressa","Gustavo Gerente das Lojas":"Gustavo","Yelena-AI":"ticas Villa Glamour"})[d.name]||d.name,l=s(),c=r.filter(d=>d.isActive&&d.name!=="Pedro"&&d.name).map(d=>({...d,legacyId:a(d),displayName:o(d)})).filter(d=>l.includes(d.legacyId)),u=d=>{console.log(" Dashboard channel clicked:",d),t(d)};return n?i.jsx("div",{className:"space-y-4",children:[...Array(3)].map((d,f)=>i.jsx("div",{className:_("h-24 rounded-xl animate-pulse",e?"bg-[#18181b]":"bg-white")},f))}):i.jsxs(me,{className:_("border-0 shadow-sm",e?"bg-[#18181b] border-[#3f3f46]":"bg-white border-gray-200"),children:[i.jsx(at,{children:i.jsxs(ot,{className:_("text-xl flex items-center gap-3",e?"text-white":"text-gray-900"),children:[i.jsx(S_,{className:"text-[#b5103c]",size:24}),"Canais de Atendimento"]})}),i.jsx(pe,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(d=>i.jsx(KL,{channelId:d.legacyId,name:d.displayName,type:"Canal de atendimento",isDarkMode:e,onClick:u},d.id))})})]})};class QL{static extractPhoneFromSessionId(t){if(!t)return"";const r=t.split("-");if(r.length>1&&/^\d{10,15}$/.test(r[0]))return r[0];const n=t.match(/(\d{10,15})/);return n?n[1]:t}static isValidPhoneNumber(t){return/^\d{10,15}$/.test(t)}}class Rm{static resolveContactName(t,r,n,s=new Date().toISOString()){console.log(` [CONTACT_RESOLVER] Resolving name for phone: ${t}, provided: ${n}`);const a=this.contactCache.get(t);if(a)return console.log(` [CONTACT_RESOLVER] Using cached name: ${a.finalName} for ${t}`),a.finalName;if(n&&n.trim()){const l=n.trim(),c={phone:t,finalName:l,timestamp:s};return this.contactCache.set(t,c),this.pendingContacts.delete(t),console.log(` [CONTACT_RESOLVER] Name fixed from database for ${t}: ${l}`),l}const o=t.length>4?t.slice(-4):t;return console.log(` [CONTACT_RESOLVER] No name available, showing phone: ${o} for ${t}`),o}static forceResolveName(t,r){if(!r||!r.trim())return;const n=r.trim(),s={phone:t,finalName:n,timestamp:new Date().toISOString()};this.contactCache.set(t,s),this.pendingContacts.delete(t),console.log(` [CONTACT_RESOLVER] Forced name resolution for ${t}: ${n}`)}static getResolvedName(t){const r=this.contactCache.get(t);return r?r.finalName:null}static isPending(t){return this.pendingContacts.has(t)}static getStats(){return{resolved:this.contactCache.size,pending:this.pendingContacts.size}}static clearCache(){this.contactCache.clear(),this.pendingContacts.clear(),console.log(" [CONTACT_RESOLVER] Cache cleared")}static processPendingMessages(t){const r=this.pendingContacts.get(t)||[];return this.pendingContacts.delete(t),r}}Re(Rm,"contactCache",new Map),Re(Rm,"pendingContacts",new Map);class JL{static groupMessagesByPhone(t,r){console.log(` [CONVERSATION_GROUPER] Grouping messages by phone for channel: ${r}`);const n=new Map;t.forEach(a=>{if(!a.session_id)return;const o=QL.extractPhoneFromSessionId(a.session_id);if(!o)return;const l=Rm.getResolvedName(o)||a.Nome_do_contato||`Cliente ${o.slice(-4)}`,c=a.read_at||null,u=`${o}_${l}`;if(n.has(u)){const d=n.get(u);c&&(!d.last_message_time||c>d.last_message_time)&&n.set(u,{...d,last_message:a.message,last_message_time:c,updated_at:c})}else n.set(u,{id:u,contact_name:l,contact_phone:o,last_message:a.message,last_message_time:c,status:"unread",updated_at:c||new Date().toISOString(),unread_count:0})});const s=Array.from(n.values());return console.log(` [CONVERSATION_GROUPER] Grouped into ${s.length} conversations`),s}}const ZL=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!0),{channels:s}=Ka(),{getAccessibleChannels:a}=Ya(),o=async()=>{try{n(!0);const l=a(),c={"Yelena-AI":"chat",Canarana:"canarana","Souto Soares":"souto-soares","Joo Dourado":"joao-dourado","Amrica Dourada":"america-dourada","Gerente das Lojas":"gerente-lojas","Gerente do Externo":"gerente-externo"},u=[];for(const f of s.filter(h=>h.isActive)){const h=c[f.name];if(!(!h||!l.includes(h)))try{const w=await new IC(h).fetchMessages();w.length>0&&JL.groupMessagesByPhone(w,h).forEach(y=>{const x=new Date(y.last_message_time||0),b=(new Date().getTime()-x.getTime())/(1e3*60*60);if(b<=24){let S="";b<1?S=`${Math.floor(b*60)}min`:b<24?S=`${Math.floor(b)}h`:S=`${Math.floor(b/24)}d`,u.push({id:`${h}-${y.contact_phone}-${x.getTime()}`,type:"new_message",title:"Nova mensagem",description:`${y.contact_name} enviou uma mensagem`,time:S,channelName:f.name,contactName:y.contact_name})}})}catch(m){console.error(`Erro ao carregar atividades do canal ${h}:`,m)}}const d=u.sort((f,h)=>{const m=parseInt(f.time),w=parseInt(h.time);return m-w}).slice(0,10);t(d)}catch(l){console.error("Erro ao carregar atividades recentes:",l)}finally{n(!1)}};return p.useEffect(()=>{if(s.length>0){o();const l=setInterval(o,12e4);return()=>clearInterval(l)}},[s]),{activities:e,loading:r,refreshActivities:o}},XL=({isDarkMode:e})=>{const{activities:t,loading:r}=ZL(),n=s=>{switch(s){case"new_message":return N_;case"status_change":return FO;case"new_conversation":return _n;default:return wa}};return r?i.jsxs(me,{className:_("border-0 shadow-sm",e?"bg-[#18181b] border-[#3f3f46]":"bg-white border-gray-200"),children:[i.jsx(at,{children:i.jsxs(ot,{className:_("text-xl flex items-center gap-3",e?"text-white":"text-gray-900"),children:[i.jsx(wa,{className:"text-[#b5103c]",size:24}),"Atividades Recentes"]})}),i.jsx(pe,{children:i.jsx("div",{className:"space-y-3",children:[...Array(5)].map((s,a)=>i.jsxs("div",{className:"flex items-center space-x-3 animate-pulse",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"h-4 bg-gray-300 rounded mb-1"}),i.jsx("div",{className:"h-3 bg-gray-300 rounded w-2/3"})]}),i.jsx("div",{className:"w-12 h-3 bg-gray-300 rounded"})]},a))})})]}):i.jsxs(me,{className:_("border-0 shadow-sm",e?"bg-[#18181b] border-[#3f3f46]":"bg-white border-gray-200"),children:[i.jsx(at,{children:i.jsxs(ot,{className:_("text-xl flex items-center gap-3",e?"text-white":"text-gray-900"),children:[i.jsx(wa,{className:"text-[#b5103c]",size:24}),"Atividades Recentes"]})}),i.jsx(pe,{children:t.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(wa,{className:_("mx-auto mb-4",e?"text-gray-600":"text-gray-400"),size:48}),i.jsx("p",{className:_("text-sm",e?"text-gray-400":"text-gray-500"),children:"Nenhuma atividade recente encontrada"})]}):i.jsx("div",{className:"space-y-3",children:t.map(s=>{const a=n(s.type);return i.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-red-50 transition-colors",children:[i.jsx("div",{className:"p-2 rounded-full bg-[#b5103c]/10 text-[#b5103c]",children:i.jsx(a,{size:16})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:_("text-sm font-medium truncate",e?"text-white":"text-gray-900"),children:s.title}),i.jsxs("p",{className:_("text-xs truncate",e?"text-gray-400":"text-gray-500"),children:[s.description,"  ",s.channelName]})]}),i.jsx("div",{className:_("text-xs flex-shrink-0",e?"text-gray-400":"text-gray-500"),children:s.time})]},s.id)})})})]})},e5=({channelId:e,conversations:t=[],isDarkMode:r,onClose:n,onSidebarToggle:s,onRefresh:a})=>(Rg(),i.jsxs("div",{className:_("p-4 border-b flex items-center justify-between",r?"border-[#3f3f46]":"border-gray-200"),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:n,children:i.jsx(v_,{size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:_("font-semibold",r?"text-white":"text-gray-900"),children:RC(e)}),i.jsxs("p",{className:_("text-sm",r?"text-gray-400":"text-gray-600"),children:[(t==null?void 0:t.length)||0," conversas"]})]})]}),i.jsx("div",{className:"flex items-center gap-1",children:i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>s(!1),children:i.jsx(Vn,{size:20})})})]}));var t5=p.createContext(void 0);function $C(e){const t=p.useContext(t5);return e||t||"ltr"}function Im(e,[t,r]){return Math.min(r,Math.max(t,e))}function r5(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var Ig="ScrollArea",[MC,kU]=hr(Ig),[n5,Cr]=MC(Ig),DC=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,w]=p.useState(null),[v,y]=p.useState(null),[x,g]=p.useState(0),[b,S]=p.useState(0),[C,j]=p.useState(!1),[A,E]=p.useState(!1),O=Ce(t,P=>c(P)),I=$C(s);return i.jsx(n5,{scope:r,type:n,dir:I,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:C,onScrollbarXEnabledChange:j,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:A,onScrollbarYEnabledChange:E,onCornerWidthChange:g,onCornerHeightChange:S,children:i.jsx(fe.div,{dir:I,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});DC.displayName=Ig;var FC="ScrollAreaViewport",UC=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=e,o=Cr(FC,r),l=p.useRef(null),c=Ce(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(fe.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});UC.displayName=FC;var Nn="ScrollAreaScrollbar",Lg=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Cr(Nn,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return p.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(s5,{...n,ref:t,forceMount:r}):s.type==="scroll"?i.jsx(a5,{...n,ref:t,forceMount:r}):s.type==="auto"?i.jsx(zC,{...n,ref:t,forceMount:r}):s.type==="always"?i.jsx($g,{...n,ref:t}):null});Lg.displayName=Nn;var s5=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Cr(Nn,e.__scopeScrollArea),[a,o]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(mr,{present:r||a,children:i.jsx(zC,{"data-state":a?"visible":"hidden",...n,ref:t})})}),a5=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Cr(Nn,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Kd(()=>c("SCROLL_END"),100),[l,c]=r5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,o]),i.jsx(mr,{present:r||l!=="hidden",children:i.jsx($g,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ue(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ue(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),zC=p.forwardRef((e,t)=>{const r=Cr(Nn,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,o]=p.useState(!1),l=e.orientation==="horizontal",c=Kd(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return ai(r.viewport,c),ai(r.content,c),i.jsx(mr,{present:n||a,children:i.jsx($g,{"data-state":a?"visible":"hidden",...s,ref:t})})}),$g=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Cr(Nn,e.__scopeScrollArea),a=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=GC(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return d5(h,o.current,l,m)}return r==="horizontal"?i.jsx(o5,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,m=R0(h,l,s.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?i.jsx(i5,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,m=R0(h,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),o5=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Cr(Nn,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Ce(t,c,a.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(BC,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":qd(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),KC(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Hu(o.paddingLeft),paddingEnd:Hu(o.paddingRight)}})}})}),i5=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Cr(Nn,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Ce(t,c,a.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(BC,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":qd(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),KC(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Hu(o.paddingTop),paddingEnd:Hu(o.paddingBottom)}})}})}),[l5,VC]=MC(Nn),BC=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Cr(Nn,r),[w,v]=p.useState(null),y=Ce(t,O=>v(O)),x=p.useRef(null),g=p.useRef(""),b=m.viewport,S=n.content-n.viewport,C=pt(d),j=pt(c),A=Kd(f,10);function E(O){if(x.current){const I=O.clientX-x.current.left,P=O.clientY-x.current.top;u({x:I,y:P})}}return p.useEffect(()=>{const O=I=>{const P=I.target;(w==null?void 0:w.contains(P))&&C(I,S)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[b,w,S,C]),p.useEffect(j,[n,j]),ai(w,A),ai(m.content,A),i.jsx(l5,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:pt(a),onThumbPointerUp:pt(o),onThumbPositionChange:j,onThumbPointerDown:pt(l),children:i.jsx(fe.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:ue(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),x.current=w.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(O))}),onPointerMove:ue(e.onPointerMove,E),onPointerUp:ue(e.onPointerUp,O=>{const I=O.target;I.hasPointerCapture(O.pointerId)&&I.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=g.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Wu="ScrollAreaThumb",WC=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=VC(Wu,e.__scopeScrollArea);return i.jsx(mr,{present:r||s.hasThumb,children:i.jsx(c5,{ref:t,...n})})}),c5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=Cr(Wu,r),o=VC(Wu,r),{onThumbPositionChange:l}=o,c=Ce(t,f=>o.onThumbChange(f)),u=p.useRef(void 0),d=Kd(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const m=f5(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),i.jsx(fe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ue(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),w=f.clientX-m.left,v=f.clientY-m.top;o.onThumbPointerDown({x:w,y:v})}),onPointerUp:ue(e.onPointerUp,o.onThumbPointerUp)})});WC.displayName=Wu;var Mg="ScrollAreaCorner",HC=p.forwardRef((e,t)=>{const r=Cr(Mg,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(u5,{...e,ref:t}):null});HC.displayName=Mg;var u5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Cr(Mg,r),[a,o]=p.useState(0),[l,c]=p.useState(0),u=!!(a&&l);return ai(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),ai(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(fe.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Hu(e){return e?parseInt(e,10):0}function GC(e,t){const r=e/t;return isNaN(r)?0:r}function qd(e){const t=GC(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function d5(e,t,r,n="ltr"){const s=qd(r),a=s/2,o=t||a,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return qC([c,u],f)(e)}function R0(e,t,r="ltr"){const n=qd(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Im(e,c);return qC([0,o],[0,l])(u)}function qC(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function KC(e,t){return e>0&&e<t}var f5=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Kd(e,t){const r=pt(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function ai(e,t){const r=pt(t);ct(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var YC=DC,h5=UC,m5=HC;const QC=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(YC,{ref:n,className:_("relative overflow-hidden",e),...r,children:[i.jsx(h5,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(JC,{}),i.jsx(m5,{})]}));QC.displayName=YC.displayName;const JC=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(Lg,{ref:n,orientation:t,className:_("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(WC,{className:"relative flex-1 rounded-full bg-border"})}));JC.displayName=Lg.displayName;const p5=({conversation:e,channelId:t,selectedConversation:r,isDarkMode:n,status:s,onConversationSelect:a,getStatusColor:o,getStatusLabel:l})=>i.jsx(me,{className:_("cursor-pointer transition-all relative",r===e.id?n?"bg-red-100/10 border-red-400/50":"bg-red-50 border-red-200":n?"bg-[#18181b] border-[#3f3f46] hover:bg-[#27272a]":"bg-white border-gray-200 hover:bg-gray-50"),onClick:()=>a(e.id),children:i.jsxs(pe,{className:"p-3",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h4",{className:_("font-medium text-sm truncate",r===e.id?"text-red-600":n?"text-white":"text-gray-900"),children:e.contact_name}),e.unread_count&&e.unread_count>0&&s!=="resolved"&&i.jsx(tr,{className:"bg-[#b5103c] text-white text-xs ml-2",children:e.unread_count})]}),i.jsx("p",{className:_("text-xs truncate mb-2",n?"text-gray-400":"text-gray-600"),children:e.last_message}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:_("text-xs","text-gray-500"),children:e.last_message_time&&new Date(e.last_message_time).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:_("w-2 h-2 rounded-full",o(s))}),i.jsx("span",{className:_("text-xs",n?"text-gray-400":"text-gray-500"),children:l(s)})]})]})]})},e.id),g5=({channelId:e,conversations:t,selectedConversation:r,isDarkMode:n,onConversationSelect:s})=>{const{getConversationStatus:a}=Rg(),o=c=>{switch(c){case"unread":return"bg-red-500";case"in_progress":return"bg-yellow-500";case"resolved":return"bg-green-500";default:return"bg-gray-500"}},l=c=>{switch(c){case"unread":return"Pendente";case"in_progress":return"Em Andamento";case"resolved":return"Resolvida";default:return"Desconhecido"}};return i.jsx("div",{className:"flex-1 overflow-hidden",children:i.jsx(QC,{className:"h-full",children:i.jsx("div",{className:"p-2 space-y-1",children:t.map(c=>{const u=a(e,c.id);return i.jsx(p5,{conversation:c,channelId:e,selectedConversation:r,isDarkMode:n,status:u,onConversationSelect:s,getStatusColor:o,getStatusLabel:l},c.id)})})})})},v5=({channelId:e,conversations:t=[],selectedConversation:r,isSidebarOpen:n,isDarkMode:s,onClose:a,onConversationSelect:o,onSidebarToggle:l,onRefresh:c})=>n?i.jsxs("div",{className:_("w-80 border-r flex flex-col",s?"bg-[#18181b] border-[#3f3f46]":"bg-white border-gray-200"),children:[i.jsx(e5,{channelId:e,conversations:t,isDarkMode:s,onClose:a,onSidebarToggle:l,onRefresh:c}),i.jsx(g5,{channelId:e,conversations:t,selectedConversation:r,onConversationSelect:o,isDarkMode:s})]}):null,Rl=p.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:_("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Rl.displayName="Textarea";const I0={Frequentes:["","","","","","","","","","","",""],Rostos:["","","","","","","","","","","","","","","","","","","","","","","",""],Gestos:["","","","","","","","","","","","","","","","","","",""],Objetos:["","","","","","","","","","","","","","","","","","",""]},y5=({onEmojiSelect:e,isDarkMode:t})=>{const[r,n]=p.useState(!1),[s,a]=p.useState("Frequentes");return i.jsxs("div",{className:"relative",children:[i.jsx(K,{type:"button",variant:"ghost",size:"icon",onClick:()=>n(!r),className:_("h-9 w-9",t?"text-gray-400 hover:bg-[#27272a]":"text-gray-600 hover:bg-gray-100"),children:i.jsx(MO,{size:20})}),r&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),i.jsxs("div",{className:_("absolute bottom-12 left-0 z-50 w-80 rounded-lg border shadow-lg",t?"bg-[#27272a] border-[#3f3f46]":"bg-white border-gray-200"),children:[i.jsx("div",{className:_("flex border-b",t?"border-[#3f3f46]":"border-gray-200"),children:Object.keys(I0).map(o=>i.jsx("button",{onClick:()=>a(o),className:_("flex-1 px-2 py-2 text-xs font-medium transition-colors",s===o?t?"bg-[#3f3f46] text-white":"bg-gray-100 text-gray-900":t?"text-gray-400 hover:bg-[#3f3f46]":"text-gray-600 hover:bg-gray-50"),children:o},o))}),i.jsx("div",{className:"p-3 max-h-48 overflow-y-auto",children:i.jsx("div",{className:"grid grid-cols-8 gap-1",children:I0[s].map((o,l)=>i.jsx("button",{onClick:()=>{e(o),n(!1)},className:_("p-2 rounded text-lg hover:scale-110 transition-transform text-center",t?"hover:bg-[#3f3f46]":"hover:bg-gray-100"),children:o},l))})})]})]})]})},x5=["Ol! Como posso ajud-lo hoje?","Obrigado pelo contato. Vou verificar essa informao para voc.","Perfeito! Vou agendar isso para voc agora mesmo.","Entendi sua solicitao. Preciso de alguns dados adicionais.","Muito obrigado! Seu atendimento foi finalizado com sucesso.","Vou transferir voc para o setor responsvel."],w5=({isDarkMode:e,onSendMessage:t,onSendFile:r,onSendAudio:n})=>{const[s,a]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState(0),[h,m]=p.useState(!1),[w,v]=p.useState(!1),y=p.useRef(null),x=p.useRef(null),g=p.useRef(null),b=p.useRef([]),S=p.useRef(0),C=()=>{(s.trim()||o)&&(o?(console.log("Sending file:",o.file.name),r==null||r(o.file,s.trim()||void 0),l(null),m(!1),a("")):s.trim()&&(t(s.trim()),a("")))},j=T=>{a(T),v(!1)},A=()=>{console.log(" [AI_QUICK_RESPONSE] Gerando resposta rpida com IA...");const T=["Com base na conversa, sugiro: 'Vou verificar a disponibilidade de horrios para voc e retorno em instantes.'","Resposta sugerida pela IA: 'Entendi sua necessidade. Vou encaminhar sua solicitao para o setor especializado.'","IA sugere: 'Obrigado pelas informaes. Vou processar seu pedido e enviar a confirmao por email.'","Sugesto inteligente: 'Perfeito! Seu agendamento foi confirmado. Voc receber um lembrete 24h antes.'"],N=T[Math.floor(Math.random()*T.length)];a(N),console.log(" [AI_QUICK_RESPONSE] Resposta gerada:",N)},E=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),o&&(o.type==="image"||o.type==="video"||o.type==="audio")?m(!0):C())},O=T=>{var oe;const N=(oe=T.target.files)==null?void 0:oe[0];if(!N)return;const $=URL.createObjectURL(N);let W="document";N.type.startsWith("image/")?W="image":N.type.startsWith("video/")?W="video":N.type.startsWith("audio/")&&(W="audio"),l({file:N,url:$,type:W}),(W==="image"||W==="video"||W==="audio")&&m(!0),T.target.value=""},I=async()=>{try{console.log(" [AUDIO_RECORDING] Iniciando gravao de udio...");const T=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:44100}});b.current=[];const N=new MediaRecorder(T,{mimeType:"audio/webm;codecs=opus"});N.ondataavailable=$=>{$.data.size>0&&b.current.push($.data)},N.onstop=()=>{const $=new Blob(b.current,{type:"audio/webm;codecs=opus"}),W=(Date.now()-S.current)/1e3;console.log(" [AUDIO_RECORDING] Gravao finalizada:",{size:$.size,duration:W,type:$.type}),T.getTracks().forEach(oe=>oe.stop()),n==null||n($,W)},g.current=N,S.current=Date.now(),N.start(100),u(!0),f(0),x.current=setInterval(()=>{f($=>$+1)},1e3),console.log(" [AUDIO_RECORDING] Gravao iniciada com sucesso")}catch(T){console.error(" [AUDIO_RECORDING] Erro ao iniciar gravao:",T),alert("Erro ao acessar o microfone. Verifique as permisses.")}},P=()=>{console.log(" [AUDIO_RECORDING] Parando gravao..."),g.current&&g.current.state==="recording"&&g.current.stop(),u(!1),x.current&&clearInterval(x.current)},R=()=>{console.log(" [AUDIO_RECORDING] Cancelando gravao..."),g.current&&g.current.state==="recording"&&g.current.stop(),b.current=[],u(!1),f(0),x.current&&clearInterval(x.current)},V=T=>{const N=Math.floor(T/60),$=T%60;return`${N}:${$.toString().padStart(2,"0")}`},D=T=>{switch(T){case"image":return i.jsx(CO,{size:20});case"video":return i.jsx(zO,{size:20});case"audio":return i.jsx(OO,{size:20});default:return i.jsx(vn,{size:20})}},J=T=>{a(N=>N+T)},G=()=>o?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:i.jsxs("div",{className:_("w-full max-w-lg mx-4 rounded-lg shadow-xl",e?"bg-[#27272a]":"bg-white"),children:[i.jsxs("div",{className:_("flex items-center justify-between p-4 border-b",e?"border-[#3f3f46]":"border-gray-200"),children:[i.jsx("h3",{className:_("text-lg font-semibold",e?"text-white":"text-gray-900"),children:"Enviar Arquivo"}),i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>{m(!1),l(null)},children:i.jsx(Vn,{size:18})})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-4 flex justify-center",children:[o.type==="image"&&i.jsx("img",{src:o.url,alt:"Preview",className:"max-w-full max-h-64 object-contain rounded-lg"}),o.type==="video"&&i.jsx("video",{src:o.url,className:"max-w-full max-h-64 rounded-lg",controls:!0}),o.type==="audio"&&i.jsx("div",{className:"w-full p-4 bg-gray-100 rounded-lg",children:i.jsx("audio",{src:o.url,className:"w-full",controls:!0})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:_("text-sm font-medium",e?"text-white":"text-gray-900"),children:o.file.name}),i.jsxs("p",{className:_("text-xs",e?"text-gray-400":"text-gray-600"),children:[(o.file.size/1024/1024).toFixed(2)," MB"]})]}),i.jsx(Rl,{value:s,onChange:T=>a(T.target.value),placeholder:"Adicione uma legenda...",className:_("mb-4 resize-none",e?"bg-[#18181b] border-[#3f3f46] text-white":"bg-white border-gray-300"),rows:3})]}),i.jsxs("div",{className:_("flex justify-end gap-2 p-4 border-t",e?"border-[#3f3f46]":"border-gray-200"),children:[i.jsx(K,{variant:"outline",onClick:()=>{m(!1),l(null)},children:"Cancelar"}),i.jsxs(K,{onClick:C,className:"bg-[#b5103c] hover:bg-[#9d0e34] text-white",children:[i.jsx(t0,{size:16,className:"mr-2"}),"Enviar"]})]})]})}):null;return c?i.jsx("div",{className:_("p-4 border-t",e?"border-[#3f3f46] bg-[#18181b]":"border-gray-200 bg-white"),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),i.jsxs("span",{className:_("text-sm",e?"text-white":"text-gray-900"),children:["Gravando udio... ",V(d)]})]}),i.jsx(K,{onClick:R,variant:"ghost",size:"icon",className:"text-red-500 hover:bg-red-100",children:i.jsx(Vn,{size:18})}),i.jsx(K,{onClick:P,className:"bg-[#b5103c] hover:bg-[#9d0e34] text-white",children:i.jsx(cg,{size:18})})]})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:_("border-t",e?"border-[#3f3f46] bg-[#18181b]":"border-gray-200 bg-white"),children:[w&&i.jsxs("div",{className:_("p-3 border-b",e?"border-[#3f3f46] bg-[#27272a]":"border-gray-200 bg-gray-50"),children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:_("text-sm font-medium",e?"text-white":"text-gray-900"),children:"Respostas Rpidas"}),i.jsx(K,{onClick:()=>v(!1),variant:"ghost",size:"icon",className:"h-6 w-6",children:i.jsx(Vn,{size:14})})]}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:x5.map((T,N)=>i.jsx("button",{onClick:()=>j(T),className:_("text-left text-sm p-2 rounded-lg transition-colors",e?"bg-[#3f3f46] text-white hover:bg-[#52525b]":"bg-white text-gray-900 hover:bg-gray-100"),children:T},N))})]}),o&&o.type==="document"&&i.jsxs("div",{className:_("p-3 border-b flex items-center gap-3",e?"border-[#3f3f46] bg-[#27272a]":"border-gray-200 bg-gray-50"),children:[i.jsx("div",{className:_("w-12 h-12 rounded-lg flex items-center justify-center",e?"bg-[#3f3f46]":"bg-gray-200"),children:D(o.type)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:_("text-sm font-medium",e?"text-white":"text-gray-900"),children:o.file.name}),i.jsxs("p",{className:_("text-xs",e?"text-gray-400":"text-gray-600"),children:[(o.file.size/1024/1024).toFixed(2)," MB"]})]}),i.jsx(K,{onClick:()=>l(null),variant:"ghost",size:"icon",className:"text-red-500",children:i.jsx(Vn,{size:16})})]}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-end gap-3",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>{var T;return(T=y.current)==null?void 0:T.click()},className:_("h-9 w-9",e?"text-gray-400 hover:bg-[#27272a]":"text-gray-600 hover:bg-gray-100"),children:i.jsx(RO,{size:20})}),i.jsx(y5,{onEmojiSelect:J,isDarkMode:e}),i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>v(!w),className:_("h-9 w-9",e?"text-gray-400 hover:bg-[#27272a]":"text-gray-600 hover:bg-gray-100"),children:i.jsx(VO,{size:20})}),i.jsx(K,{variant:"ghost",size:"icon",onClick:A,className:_("h-9 w-9",e?"text-purple-400 hover:bg-[#27272a]":"text-purple-600 hover:bg-purple-50"),title:"Gerar resposta com IA",children:i.jsx(A_,{size:20})})]}),i.jsx("div",{className:"flex-1",children:i.jsx(Rl,{value:s,onChange:T=>a(T.target.value),onKeyPress:E,placeholder:"Digite sua mensagem...",className:_("min-h-[40px] max-h-32 resize-none border rounded-xl",e?"bg-[#27272a] border-[#3f3f46] text-white placeholder:text-gray-500":"bg-white border-gray-300 text-gray-900 placeholder:text-gray-500"),rows:1})}),i.jsx(K,{onClick:s.trim()||o?C:I,className:"bg-[#b5103c] hover:bg-[#9d0e34] text-white h-10 w-10 flex-shrink-0",children:s.trim()||o?i.jsx(t0,{size:18}):i.jsx(PO,{size:18})})]})}),i.jsx("input",{ref:y,type:"file",onChange:O,className:"hidden",accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.txt"})]}),h&&G()]})},b5=({selectedConv:e,conversationForHeader:t,messages:r,messagesLoading:n,isSidebarOpen:s,isDarkMode:a,channelId:o,onSidebarToggle:l,onMarkAsResolved:c,onSendMessage:u,onSendFile:d,onSendAudio:f})=>{console.log(" [ChatMainArea] Renderizando. selectedConv:",e,"conversationForHeader:",t);const h=()=>{console.log(" [AI_SUMMARY] Gerando resumo da conversa...");const m=`Resumo da conversa com ${(t==null?void 0:t.contactName)||(e==null?void 0:e.contact_name)}:
    
 Cliente solicitou informaes sobre agendamento de exame
 Atendente forneceu opes de horrios disponveis
 Cliente confirmou interesse em agendar para prxima semana
 Pendente: confirmao final do agendamento

Prximos passos sugeridos:
- Enviar confirmao de agendamento
- Lembrete 24h antes do exame`;new Date().toISOString(),console.log(" [AI_SUMMARY] Resumo gerado:",m),alert("Resumo da conversa gerado! (Em uma implementao real, seria exibido na interface)")};return e?i.jsxs("div",{className:_("flex-1 flex flex-col",a?"bg-[#09090b]":"bg-white"),children:[i.jsxs("div",{className:_("p-4 border-b flex items-center justify-between",a?"border-[#3f3f46] bg-[#18181b]":"border-gray-200 bg-white"),children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h2",{className:_("font-semibold",a?"text-white":"text-gray-900"),children:(t==null?void 0:t.contactName)||e.contact_name}),i.jsx("span",{className:_("text-sm",a?"text-gray-400":"text-gray-500"),children:(t==null?void 0:t.contactNumber)||e.contact_phone})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(K,{onClick:h,variant:"outline",size:"sm",className:_("flex items-center space-x-2",a?"border-[#3f3f46] text-white hover:bg-[#27272a]":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:[i.jsx(ri,{size:16}),i.jsx("span",{children:"Resumo IA"})]}),i.jsx(K,{onClick:c,size:"sm",className:"bg-green-600 text-white hover:bg-green-700",children:"Marcar como Resolvido"})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-4",children:n?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#b5103c]"})}):i.jsx("div",{className:"space-y-4",children:r.map(m=>i.jsx("div",{className:_("flex",m.sender==="agent"?"justify-end":"justify-start"),children:i.jsxs("div",{className:_("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",m.sender==="agent"?"bg-[#b5103c] text-white":a?"bg-[#3f3f46] text-white":"bg-gray-200 text-gray-900"),children:[i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:m.content}),i.jsx("p",{className:"text-xs opacity-70 mt-1",children:new Date(m.timestamp).toLocaleTimeString()})]})},m.id))})}),i.jsx(w5,{isDarkMode:a,onSendMessage:u,onSendFile:d,onSendAudio:f})]}):i.jsx("div",{className:_("flex-1 flex items-center justify-center",a?"bg-[#09090b] text-white":"bg-gray-50 text-gray-900"),children:i.jsx("p",{className:"text-lg",children:"Selecione uma conversa para comear"})})},_5=(e,t)=>{const[r,n]=p.useState([]),[s,a]=p.useState(!0),[o,l]=p.useState(null),c=f=>({id:f.id.toString(),content:f.content,sender:f.sender,timestamp:f.timestamp,type:"text",isFromUser:f.sender==="customer",session_id:f.session_id,tipo_remetente:f.tipo_remetente,mensagemtype:f.mensagemtype,Nome_do_contato:f.Nome_do_contato,nome_do_contato:f.nome_do_contato}),u=p.useCallback(async()=>{if(e)try{a(!0);const f=new xn(e);let h;t?h=await f.getMessagesByConversation(t)||[]:h=await f.getAllMessages()||[];const w=(Array.isArray(h)?h:(h==null?void 0:h.data)||[]).map(c);n(w),l(null)}catch(f){console.error("Error loading messages:",f),l(f instanceof Error?f.message:"Unknown error")}finally{a(!1)}},[e,t]);p.useEffect(()=>{u();const f=setInterval(u,5e3);return()=>clearInterval(f)},[u]);const d=p.useCallback(f=>{const h=c(f);n(m=>[...m,h])},[]);return{messages:r,loading:s,error:o,refetch:u,addMessage:d}},ZC=({channelId:e,isDarkMode:t,onClose:r})=>{const[n,s]=p.useState(null),[a,o]=p.useState(!0);console.log(" [ChatOverlayRefactored] Renderizando. isSidebarOpen:",a,"selectedConversation:",n);const{conversations:l,refreshConversations:c}=LC(e),{messages:u,sendMessage:d}=_5(e,n||"");p.useEffect(()=>{if(l.length>0&&!n){const g=l[0];console.log(" [CHAT_OVERLAY] Auto-selecting first conversation:",g.id),s(g.id)}else n||(console.log(" [CHAT_OVERLAY] No conversations found, selecting a mock conversation for rendering."),s("1"))},[l,n]);const f=g=>{console.log(" [CHAT_OVERLAY] Conversation selected:",g),s(g)},h=()=>{n&&console.log(" [CHAT_OVERLAY] Marking conversation as resolved:",n)},m=async g=>{!n||!g.trim()||await d(g)},w=()=>{c()},v=l.find(g=>g.id===n),y=u.map(g=>{let b;return e==="d2892900-ca8f-4b08-a73f-6b7aa5866ff7"||e==="gerente-externo"?g.tipo_remetente==="USUARIO_INTERNO"?b="agent":b="customer":e==="chat"||e==="af1e5797-edc6-4ba3-a57a-25cf7297c4d6"?g.tipo_remetente==="Yelena-ai"||g.tipo_remetente==="USUARIO_INTERNO"?b="agent":b="customer":g.tipo_remetente?g.tipo_remetente==="USUARIO_INTERNO"?b="agent":b="customer":b=g.sender==="agent"?"agent":"customer",console.log(` [MESSAGE_PROCESSING] Channel: ${e}, Message ${g.id}: tipo_remetente="${g.tipo_remetente}", mensagemtype="${g.mensagemtype}", determined sender="${b}"`),{id:g.id,content:g.content,timestamp:g.timestamp,sender:b,tipo_remetente:g.tipo_remetente,type:"text",read:!0,Nome_do_contato:g.Nome_do_contato,mensagemtype:g.mensagemtype}}),x=v?{contactName:v.contact_name,contactNumber:v.contact_phone}:null;return i.jsxs("div",{className:_("fixed inset-0 z-50 flex",t?"bg-[#09090b]":"bg-gray-50"),children:[i.jsx(v5,{channelId:e,conversations:l,selectedConversation:n,isSidebarOpen:a,isDarkMode:t,onClose:r,onConversationSelect:f,onSidebarToggle:o,onRefresh:w}),i.jsx("div",{className:"flex-1 flex flex-col",children:i.jsx(b5,{selectedConv:v,conversationForHeader:x,messages:y,messagesLoading:!1,isSidebarOpen:a,isDarkMode:t,channelId:e,onSidebarToggle:o,onMarkAsResolved:h,onSendMessage:m})})]})},S5=e=>{const t=async(n,s)=>{console.log("File send not implemented in this wrapper")},r=async(n,s)=>{console.log("Audio send not implemented in this wrapper")};return i.jsx(ZC,{...e,onSendFile:t,onSendAudio:r})},XC=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!0),s=async()=>{try{n(!0);const{data:f,error:h}=await ye.from("exams").select("*").order("created_at",{ascending:!1});if(h){console.error("Erro ao carregar exames:",h);return}const m=(f||[]).map(w=>({id:w.id,name:w.patient_name,phone:w.phone,instagram:w.instagram,city:w.city,appointmentDate:w.appointment_date,status:w.status,examType:w.exam_type,observations:w.observations,createdAt:w.created_at,updatedAt:w.updated_at}));t(m)}catch(f){console.error("Erro ao carregar exames:",f)}finally{n(!1)}};p.useEffect(()=>{s()},[]);const a=async f=>{try{const{data:h,error:m}=await ye.from("exams").insert({patient_name:f.name,phone:f.phone,instagram:f.instagram,city:f.city,appointment_date:f.appointmentDate,status:f.status,exam_type:f.examType,observations:f.observations}).select().single();if(m)throw console.error("Erro ao criar exame:",m),m;return await s(),h}catch(h){throw console.error("Erro ao criar exame:",h),h}};return{exams:e,loading:r,createExam:a,addExam:a,updateExam:async(f,h)=>{try{const m={};h.name&&(m.patient_name=h.name),h.phone&&(m.phone=h.phone),h.instagram!==void 0&&(m.instagram=h.instagram),h.city&&(m.city=h.city),h.appointmentDate&&(m.appointment_date=h.appointmentDate),h.status&&(m.status=h.status),h.examType&&(m.exam_type=h.examType),h.observations!==void 0&&(m.observations=h.observations);const{error:w}=await ye.from("exams").update(m).eq("id",f);if(w)throw console.error("Erro ao atualizar exame:",w),w;await s()}catch(m){throw console.error("Erro ao atualizar exame:",m),m}},deleteExam:async f=>{try{const{error:h}=await ye.from("exams").delete().eq("id",f);if(h)throw console.error("Erro ao excluir exame:",h),h;await s()}catch(h){throw console.error("Erro ao excluir exame:",h),h}},deleteExams:async f=>{try{const{error:h}=await ye.from("exams").delete().in("id",f);if(h)throw console.error("Erro ao excluir exames:",h),h;await s()}catch(h){throw console.error("Erro ao excluir exames:",h),h}},getExamStats:()=>{const f=new Date,h=new Date(f);h.setDate(f.getDate()-f.getDay());const m=new Date(h);m.setDate(h.getDate()+6);const w=new Date(f.getFullYear(),f.getMonth(),1),v=new Date(f.getFullYear(),f.getMonth()+1,0),y=e.filter(b=>{const S=new Date(b.appointmentDate);return S>=h&&S<=m}).length,x=e.filter(b=>{const S=new Date(b.appointmentDate);return S>=w&&S<=v}).length,g=e.reduce((b,S)=>(b[S.city]=(b[S.city]||0)+1,b),{});return{total:e.length,thisWeek:y,thisMonth:x,byCity:g}},refreshExams:s}},L0=({isDarkMode:e,onSectionSelect:t})=>{const{exams:r}=XC(),[n,s]=p.useState(null),a=c=>{console.log(" Dashboard channel clicked:",c),s(c)},o=()=>{s(null)},l={totalExams:r.length,examsThisMonth:r.filter(c=>{const u=new Date(c.appointmentDate),d=new Date;return u.getMonth()===d.getMonth()&&u.getFullYear()===d.getFullYear()}).length,examsThisWeek:r.filter(c=>{const u=new Date(c.appointmentDate),d=new Date,f=new Date(d.getTime()-7*24*60*60*1e3);return u>=f&&u<=d}).length};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:_("h-full flex flex-col",e?"bg-[#09090b]":"bg-gray-50"),children:[i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 rounded-full bg-[#b5103c]/10",children:i.jsx(lg,{size:32,className:"text-[#b5103c]",strokeWidth:1.5})}),i.jsxs("div",{children:[i.jsx("h1",{className:_("text-3xl font-bold",e?"text-white":"text-gray-900"),children:"Painel de Controle"}),i.jsx("p",{className:_("text-lg",e?"text-[#a1a1aa]":"text-gray-600"),children:"Gerencie suas conversas e acompanhe mtricas importantes"})]})]})}),i.jsx("div",{className:"flex-1 p-6 pt-0 space-y-6 overflow-auto",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx(zL,{isDarkMode:e}),i.jsx(VL,{isDarkMode:e,totalExams:l.totalExams,examsThisMonth:l.examsThisMonth,examsThisWeek:l.examsThisWeek}),i.jsx(YL,{isDarkMode:e,onChannelClick:a}),i.jsx(XL,{isDarkMode:e})]})})]}),n&&i.jsx(S5,{channelId:n,isDarkMode:e,onClose:o})]})};var Xl=e=>e.type==="checkbox",ba=e=>e instanceof Date,$t=e=>e==null;const eN=e=>typeof e=="object";var lt=e=>!$t(e)&&!Array.isArray(e)&&eN(e)&&!ba(e),C5=e=>lt(e)&&e.target?Xl(e.target)?e.target.checked:e.target.value:e,N5=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,E5=(e,t)=>e.has(N5(t)),j5=e=>{const t=e.constructor&&e.constructor.prototype;return lt(t)&&t.hasOwnProperty("isPrototypeOf")},Dg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function kt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Dg&&(e instanceof Blob||n))&&(r||lt(e)))if(t=r?[]:{},!r&&!j5(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=kt(e[s]));else return e;return t}var Yd=e=>Array.isArray(e)?e.filter(Boolean):[],dt=e=>e===void 0,ae=(e,t,r)=>{if(!t||!lt(e))return r;const n=Yd(t.split(/[,[\].]+?/)).reduce((s,a)=>$t(s)?s:s[a],e);return dt(n)||n===e?dt(e[t])?r:e[t]:n},nn=e=>typeof e=="boolean",Fg=e=>/^\w*$/.test(e),tN=e=>Yd(e.replace(/["|']|\]/g,"").split(/\.|\[/)),We=(e,t,r)=>{let n=-1;const s=Fg(t)?[t]:tN(t),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=lt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const $0={BLUR:"blur",FOCUS_OUT:"focusout"},zr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};B.createContext(null);var k5=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==zr.all&&(t._proxyFormState[o]=!n||zr.all),e[o]}});return s};const A5=typeof window<"u"?p.useLayoutEffect:p.useEffect;var dn=e=>typeof e=="string",T5=(e,t,r,n,s)=>dn(e)?(n&&t.watch.add(e),ae(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),ae(r,a))):(n&&(t.watchAll=!0),r),rN=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},ll=e=>Array.isArray(e)?e:[e],M0=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},Lm=e=>$t(e)||!eN(e);function _s(e,t){if(Lm(e)||Lm(t))return e===t;if(ba(e)&&ba(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const a=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(ba(a)&&ba(o)||lt(a)&&lt(o)||Array.isArray(a)&&Array.isArray(o)?!_s(a,o):a!==o)return!1}}return!0}var Gt=e=>lt(e)&&!Object.keys(e).length,Ug=e=>e.type==="file",Vr=e=>typeof e=="function",Gu=e=>{if(!Dg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},nN=e=>e.type==="select-multiple",zg=e=>e.type==="radio",P5=e=>zg(e)||Xl(e),eh=e=>Gu(e)&&e.isConnected;function O5(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=dt(e)?n++:e[t[n++]];return e}function R5(e){for(const t in e)if(e.hasOwnProperty(t)&&!dt(e[t]))return!1;return!0}function ht(e,t){const r=Array.isArray(t)?t:Fg(t)?[t]:tN(t),n=r.length===1?e:O5(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(lt(n)&&Gt(n)||Array.isArray(n)&&R5(n))&&ht(e,r.slice(0,-1)),e}var sN=e=>{for(const t in e)if(Vr(e[t]))return!0;return!1};function qu(e,t={}){const r=Array.isArray(e);if(lt(e)||r)for(const n in e)Array.isArray(e[n])||lt(e[n])&&!sN(e[n])?(t[n]=Array.isArray(e[n])?[]:{},qu(e[n],t[n])):$t(e[n])||(t[n]=!0);return t}function aN(e,t,r){const n=Array.isArray(e);if(lt(e)||n)for(const s in e)Array.isArray(e[s])||lt(e[s])&&!sN(e[s])?dt(t)||Lm(r[s])?r[s]=Array.isArray(e[s])?qu(e[s],[]):{...qu(e[s])}:aN(e[s],$t(t)?{}:t[s],r[s]):r[s]=!_s(e[s],t[s]);return r}var Di=(e,t)=>aN(e,t,qu(t));const D0={value:!1,isValid:!1},F0={value:!0,isValid:!0};var oN=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!dt(e[0].attributes.value)?dt(e[0].value)||e[0].value===""?F0:{value:e[0].value,isValid:!0}:F0:D0}return D0},iN=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>dt(e)?e:t?e===""?NaN:e&&+e:r&&dn(e)?new Date(e):n?n(e):e;const U0={isValid:!1,value:null};var lN=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,U0):U0;function z0(e){const t=e.ref;return Ug(t)?t.files:zg(t)?lN(e.refs).value:nN(t)?[...t.selectedOptions].map(({value:r})=>r):Xl(t)?oN(e.refs).value:iN(dt(t.value)?e.ref.value:t.value,e)}var I5=(e,t,r,n)=>{const s={};for(const a of e){const o=ae(t,a);o&&We(s,a,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Ku=e=>e instanceof RegExp,Fi=e=>dt(e)?e:Ku(e)?e.source:lt(e)?Ku(e.value)?e.value.source:e.value:e,V0=e=>({isOnSubmit:!e||e===zr.onSubmit,isOnBlur:e===zr.onBlur,isOnChange:e===zr.onChange,isOnAll:e===zr.all,isOnTouch:e===zr.onTouched});const B0="AsyncFunction";var L5=e=>!!e&&!!e.validate&&!!(Vr(e.validate)&&e.validate.constructor.name===B0||lt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===B0)),$5=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),W0=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const cl=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=ae(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(cl(l,t))break}else if(lt(l)&&cl(l,t))break}}};function H0(e,t,r){const n=ae(e,r);if(n||Fg(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=ae(t,a),l=ae(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:r}}var M5=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return Gt(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||zr.all))},D5=(e,t,r)=>!e||!t||e===t||ll(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),F5=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,U5=(e,t)=>!Yd(ae(e,t)).length&&ht(e,t),z5=(e,t,r)=>{const n=ll(ae(e,r));return We(n,"root",t[r]),We(e,r,n),e},au=e=>dn(e);function G0(e,t,r="validate"){if(au(e)||Array.isArray(e)&&e.every(au)||nn(e)&&!e)return{type:r,message:au(e)?e:"",ref:t}}var co=e=>lt(e)&&!Ku(e)?e:{value:e,message:""},q0=async(e,t,r,n,s,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:w,name:v,valueAsNumber:y,mount:x}=e._f,g=ae(r,v);if(!x||t.has(v))return{};const b=l?l[0]:o,S=R=>{s&&b.reportValidity&&(b.setCustomValidity(nn(R)?"":R||""),b.reportValidity())},C={},j=zg(o),A=Xl(o),E=j||A,O=(y||Ug(o))&&dt(o.value)&&dt(g)||Gu(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,I=rN.bind(null,v,n,C),P=(R,V,D,J=Pn.maxLength,G=Pn.minLength)=>{const T=R?V:D;C[v]={type:R?J:G,message:T,ref:o,...I(R?J:G,T)}};if(a?!Array.isArray(g)||!g.length:c&&(!E&&(O||$t(g))||nn(g)&&!g||A&&!oN(l).isValid||j&&!lN(l).isValid)){const{value:R,message:V}=au(c)?{value:!!c,message:c}:co(c);if(R&&(C[v]={type:Pn.required,message:V,ref:b,...I(Pn.required,V)},!n))return S(V),C}if(!O&&(!$t(f)||!$t(h))){let R,V;const D=co(h),J=co(f);if(!$t(g)&&!isNaN(g)){const G=o.valueAsNumber||g&&+g;$t(D.value)||(R=G>D.value),$t(J.value)||(V=G<J.value)}else{const G=o.valueAsDate||new Date(g),T=W=>new Date(new Date().toDateString()+" "+W),N=o.type=="time",$=o.type=="week";dn(D.value)&&g&&(R=N?T(g)>T(D.value):$?g>D.value:G>new Date(D.value)),dn(J.value)&&g&&(V=N?T(g)<T(J.value):$?g<J.value:G<new Date(J.value))}if((R||V)&&(P(!!R,D.message,J.message,Pn.max,Pn.min),!n))return S(C[v].message),C}if((u||d)&&!O&&(dn(g)||a&&Array.isArray(g))){const R=co(u),V=co(d),D=!$t(R.value)&&g.length>+R.value,J=!$t(V.value)&&g.length<+V.value;if((D||J)&&(P(D,R.message,V.message),!n))return S(C[v].message),C}if(m&&!O&&dn(g)){const{value:R,message:V}=co(m);if(Ku(R)&&!g.match(R)&&(C[v]={type:Pn.pattern,message:V,ref:o,...I(Pn.pattern,V)},!n))return S(V),C}if(w){if(Vr(w)){const R=await w(g,r),V=G0(R,b);if(V&&(C[v]={...V,...I(Pn.validate,V.message)},!n))return S(V.message),C}else if(lt(w)){let R={};for(const V in w){if(!Gt(R)&&!n)break;const D=G0(await w[V](g,r),b,V);D&&(R={...D,...I(V,D.message)},S(D.message),n&&(C[v]=R))}if(!Gt(R)&&(C[v]={ref:b,...R},!n))return C}}return S(!0),C};const V5={mode:zr.onSubmit,reValidateMode:zr.onChange,shouldFocusError:!0};function B5(e={}){let t={...V5,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Vr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let s=lt(t.defaultValues)||lt(t.values)?kt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:kt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:M0(),state:M0()},m=t.criteriaMode===zr.all,w=k=>L=>{clearTimeout(u),u=setTimeout(k,L)},v=async k=>{if(!t.disabled&&(d.isValid||f.isValid||k)){const L=t.resolver?Gt((await A()).errors):await O(n,!0);L!==r.isValid&&h.state.next({isValid:L})}},y=(k,L)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((k||Array.from(l.mount)).forEach(F=>{F&&(L?We(r.validatingFields,F,L):ht(r.validatingFields,F))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Gt(r.validatingFields)}))},x=(k,L=[],F,X,Z=!0,Y=!0)=>{if(X&&F&&!t.disabled){if(o.action=!0,Y&&Array.isArray(ae(n,k))){const ne=F(ae(n,k),X.argA,X.argB);Z&&We(n,k,ne)}if(Y&&Array.isArray(ae(r.errors,k))){const ne=F(ae(r.errors,k),X.argA,X.argB);Z&&We(r.errors,k,ne),U5(r.errors,k)}if((d.touchedFields||f.touchedFields)&&Y&&Array.isArray(ae(r.touchedFields,k))){const ne=F(ae(r.touchedFields,k),X.argA,X.argB);Z&&We(r.touchedFields,k,ne)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Di(s,a)),h.state.next({name:k,isDirty:P(k,L),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else We(a,k,L)},g=(k,L)=>{We(r.errors,k,L),h.state.next({errors:r.errors})},b=k=>{r.errors=k,h.state.next({errors:r.errors,isValid:!1})},S=(k,L,F,X)=>{const Z=ae(n,k);if(Z){const Y=ae(a,k,dt(F)?ae(s,k):F);dt(Y)||X&&X.defaultChecked||L?We(a,k,L?Y:z0(Z._f)):D(k,Y),o.mount&&v()}},C=(k,L,F,X,Z)=>{let Y=!1,ne=!1;const Ae={name:k};if(!t.disabled){if(!F||X){(d.isDirty||f.isDirty)&&(ne=r.isDirty,r.isDirty=Ae.isDirty=P(),Y=ne!==Ae.isDirty);const Ve=_s(ae(s,k),L);ne=!!ae(r.dirtyFields,k),Ve?ht(r.dirtyFields,k):We(r.dirtyFields,k,!0),Ae.dirtyFields=r.dirtyFields,Y=Y||(d.dirtyFields||f.dirtyFields)&&ne!==!Ve}if(F){const Ve=ae(r.touchedFields,k);Ve||(We(r.touchedFields,k,F),Ae.touchedFields=r.touchedFields,Y=Y||(d.touchedFields||f.touchedFields)&&Ve!==F)}Y&&Z&&h.state.next(Ae)}return Y?Ae:{}},j=(k,L,F,X)=>{const Z=ae(r.errors,k),Y=(d.isValid||f.isValid)&&nn(L)&&r.isValid!==L;if(t.delayError&&F?(c=w(()=>g(k,F)),c(t.delayError)):(clearTimeout(u),c=null,F?We(r.errors,k,F):ht(r.errors,k)),(F?!_s(Z,F):Z)||!Gt(X)||Y){const ne={...X,...Y&&nn(L)?{isValid:L}:{},errors:r.errors,name:k};r={...r,...ne},h.state.next(ne)}},A=async k=>{y(k,!0);const L=await t.resolver(a,t.context,I5(k||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(k),L},E=async k=>{const{errors:L}=await A(k);if(k)for(const F of k){const X=ae(L,F);X?We(r.errors,F,X):ht(r.errors,F)}else r.errors=L;return L},O=async(k,L,F={valid:!0})=>{for(const X in k){const Z=k[X];if(Z){const{_f:Y,...ne}=Z;if(Y){const Ae=l.array.has(Y.name),Ve=Z._f&&L5(Z._f);Ve&&d.validatingFields&&y([X],!0);const Wt=await q0(Z,l.disabled,a,m,t.shouldUseNativeValidation&&!L,Ae);if(Ve&&d.validatingFields&&y([X]),Wt[Y.name]&&(F.valid=!1,L))break;!L&&(ae(Wt,Y.name)?Ae?z5(r.errors,Wt,Y.name):We(r.errors,Y.name,Wt[Y.name]):ht(r.errors,Y.name))}!Gt(ne)&&await O(ne,L,F)}}return F.valid},I=()=>{for(const k of l.unMount){const L=ae(n,k);L&&(L._f.refs?L._f.refs.every(F=>!eh(F)):!eh(L._f.ref))&&Q(k)}l.unMount=new Set},P=(k,L)=>!t.disabled&&(k&&L&&We(a,k,L),!_s(W(),s)),R=(k,L,F)=>T5(k,l,{...o.mount?a:dt(L)?s:dn(k)?{[k]:L}:L},F,L),V=k=>Yd(ae(o.mount?a:s,k,t.shouldUnregister?ae(s,k,[]):[])),D=(k,L,F={})=>{const X=ae(n,k);let Z=L;if(X){const Y=X._f;Y&&(!Y.disabled&&We(a,k,iN(L,Y)),Z=Gu(Y.ref)&&$t(L)?"":L,nN(Y.ref)?[...Y.ref.options].forEach(ne=>ne.selected=Z.includes(ne.value)):Y.refs?Xl(Y.ref)?Y.refs.forEach(ne=>{(!ne.defaultChecked||!ne.disabled)&&(Array.isArray(Z)?ne.checked=!!Z.find(Ae=>Ae===ne.value):ne.checked=Z===ne.value||!!Z)}):Y.refs.forEach(ne=>ne.checked=ne.value===Z):Ug(Y.ref)?Y.ref.value="":(Y.ref.value=Z,Y.ref.type||h.state.next({name:k,values:kt(a)})))}(F.shouldDirty||F.shouldTouch)&&C(k,Z,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&$(k)},J=(k,L,F)=>{for(const X in L){if(!L.hasOwnProperty(X))return;const Z=L[X],Y=k+"."+X,ne=ae(n,Y);(l.array.has(k)||lt(Z)||ne&&!ne._f)&&!ba(Z)?J(Y,Z,F):D(Y,Z,F)}},G=(k,L,F={})=>{const X=ae(n,k),Z=l.array.has(k),Y=kt(L);We(a,k,Y),Z?(h.array.next({name:k,values:kt(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&h.state.next({name:k,dirtyFields:Di(s,a),isDirty:P(k,Y)})):X&&!X._f&&!$t(Y)?J(k,Y,F):D(k,Y,F),W0(k,l)&&h.state.next({...r}),h.state.next({name:o.mount?k:void 0,values:kt(a)})},T=async k=>{o.mount=!0;const L=k.target;let F=L.name,X=!0;const Z=ae(n,F),Y=Ve=>{X=Number.isNaN(Ve)||ba(Ve)&&isNaN(Ve.getTime())||_s(Ve,ae(a,F,Ve))},ne=V0(t.mode),Ae=V0(t.reValidateMode);if(Z){let Ve,Wt;const kn=L.type?z0(Z._f):C5(k),Xr=k.type===$0.BLUR||k.type===$0.FOCUS_OUT,ac=!$5(Z._f)&&!t.resolver&&!ae(r.errors,F)&&!Z._f.deps||F5(Xr,ae(r.touchedFields,F),r.isSubmitted,Ae,ne),oa=W0(F,l,Xr);We(a,F,kn),Xr?(Z._f.onBlur&&Z._f.onBlur(k),c&&c(0)):Z._f.onChange&&Z._f.onChange(k);const en=C(F,kn,Xr),oc=!Gt(en)||oa;if(!Xr&&h.state.next({name:F,type:k.type,values:kt(a)}),ac)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Xr&&v():Xr||v()),oc&&h.state.next({name:F,...oa?{}:en});if(!Xr&&oa&&h.state.next({...r}),t.resolver){const{errors:An}=await A([F]);if(Y(kn),X){const rf=H0(r.errors,n,F),ic=H0(An,n,rf.name||F);Ve=ic.error,F=ic.name,Wt=Gt(An)}}else y([F],!0),Ve=(await q0(Z,l.disabled,a,m,t.shouldUseNativeValidation))[F],y([F]),Y(kn),X&&(Ve?Wt=!1:(d.isValid||f.isValid)&&(Wt=await O(n,!0)));X&&(Z._f.deps&&$(Z._f.deps),j(F,Wt,Ve,en))}},N=(k,L)=>{if(ae(r.errors,L)&&k.focus)return k.focus(),1},$=async(k,L={})=>{let F,X;const Z=ll(k);if(t.resolver){const Y=await E(dt(k)?k:Z);F=Gt(Y),X=k?!Z.some(ne=>ae(Y,ne)):F}else k?(X=(await Promise.all(Z.map(async Y=>{const ne=ae(n,Y);return await O(ne&&ne._f?{[Y]:ne}:ne)}))).every(Boolean),!(!X&&!r.isValid)&&v()):X=F=await O(n);return h.state.next({...!dn(k)||(d.isValid||f.isValid)&&F!==r.isValid?{}:{name:k},...t.resolver||!k?{isValid:F}:{},errors:r.errors}),L.shouldFocus&&!X&&cl(n,N,k?Z:l.mount),X},W=k=>{const L={...o.mount?a:s};return dt(k)?L:dn(k)?ae(L,k):k.map(F=>ae(L,F))},oe=(k,L)=>({invalid:!!ae((L||r).errors,k),isDirty:!!ae((L||r).dirtyFields,k),error:ae((L||r).errors,k),isValidating:!!ae(r.validatingFields,k),isTouched:!!ae((L||r).touchedFields,k)}),ie=k=>{k&&ll(k).forEach(L=>ht(r.errors,L)),h.state.next({errors:k?r.errors:{}})},M=(k,L,F)=>{const X=(ae(n,k,{_f:{}})._f||{}).ref,Z=ae(r.errors,k)||{},{ref:Y,message:ne,type:Ae,...Ve}=Z;We(r.errors,k,{...Ve,...L,ref:X}),h.state.next({name:k,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&X&&X.focus&&X.focus()},z=(k,L)=>Vr(k)?h.state.subscribe({next:F=>k(R(void 0,L),F)}):R(k,L,!0),te=k=>h.state.subscribe({next:L=>{D5(k.name,L.name,k.exact)&&M5(L,k.formState||d,En,k.reRenderRoot)&&k.callback({values:{...a},...r,...L})}}).unsubscribe,ge=k=>(o.mount=!0,f={...f,...k.formState},te({...k,formState:f})),Q=(k,L={})=>{for(const F of k?ll(k):l.mount)l.mount.delete(F),l.array.delete(F),L.keepValue||(ht(n,F),ht(a,F)),!L.keepError&&ht(r.errors,F),!L.keepDirty&&ht(r.dirtyFields,F),!L.keepTouched&&ht(r.touchedFields,F),!L.keepIsValidating&&ht(r.validatingFields,F),!t.shouldUnregister&&!L.keepDefaultValue&&ht(s,F);h.state.next({values:kt(a)}),h.state.next({...r,...L.keepDirty?{isDirty:P()}:{}}),!L.keepIsValid&&v()},Te=({disabled:k,name:L})=>{(nn(k)&&o.mount||k||l.disabled.has(L))&&(k?l.disabled.add(L):l.disabled.delete(L))},He=(k,L={})=>{let F=ae(n,k);const X=nn(L.disabled)||nn(t.disabled);return We(n,k,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:k}},name:k,mount:!0,...L}}),l.mount.add(k),F?Te({disabled:nn(L.disabled)?L.disabled:t.disabled,name:k}):S(k,!0,L.value),{...X?{disabled:L.disabled||t.disabled}:{},...t.progressive?{required:!!L.required,min:Fi(L.min),max:Fi(L.max),minLength:Fi(L.minLength),maxLength:Fi(L.maxLength),pattern:Fi(L.pattern)}:{},name:k,onChange:T,onBlur:T,ref:Z=>{if(Z){He(k,L),F=ae(n,k);const Y=dt(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,ne=P5(Y),Ae=F._f.refs||[];if(ne?Ae.find(Ve=>Ve===Y):Y===F._f.ref)return;We(n,k,{_f:{...F._f,...ne?{refs:[...Ae.filter(eh),Y,...Array.isArray(ae(s,k))?[{}]:[]],ref:{type:Y.type,name:k}}:{ref:Y}}}),S(k,!1,void 0,Y)}else F=ae(n,k,{}),F._f&&(F._f.mount=!1),(t.shouldUnregister||L.shouldUnregister)&&!(E5(l.array,k)&&o.action)&&l.unMount.add(k)}}},Pe=()=>t.shouldFocusError&&cl(n,N,l.mount),ke=k=>{nn(k)&&(h.state.next({disabled:k}),cl(n,(L,F)=>{const X=ae(n,F);X&&(L.disabled=X._f.disabled||k,Array.isArray(X._f.refs)&&X._f.refs.forEach(Z=>{Z.disabled=X._f.disabled||k}))},0,!1))},Oe=(k,L)=>async F=>{let X;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let Z=kt(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Y,values:ne}=await A();r.errors=Y,Z=ne}else await O(n);if(l.disabled.size)for(const Y of l.disabled)We(Z,Y,void 0);if(ht(r.errors,"root"),Gt(r.errors)){h.state.next({errors:{}});try{await k(Z,F)}catch(Y){X=Y}}else L&&await L({...r.errors},F),Pe(),setTimeout(Pe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gt(r.errors)&&!X,submitCount:r.submitCount+1,errors:r.errors}),X)throw X},vt=(k,L={})=>{ae(n,k)&&(dt(L.defaultValue)?G(k,kt(ae(s,k))):(G(k,L.defaultValue),We(s,k,kt(L.defaultValue))),L.keepTouched||ht(r.touchedFields,k),L.keepDirty||(ht(r.dirtyFields,k),r.isDirty=L.defaultValue?P(k,kt(ae(s,k))):P()),L.keepError||(ht(r.errors,k),d.isValid&&v()),h.state.next({...r}))},Ot=(k,L={})=>{const F=k?kt(k):s,X=kt(F),Z=Gt(k),Y=Z?s:X;if(L.keepDefaultValues||(s=F),!L.keepValues){if(L.keepDirtyValues){const ne=new Set([...l.mount,...Object.keys(Di(s,a))]);for(const Ae of Array.from(ne))ae(r.dirtyFields,Ae)?We(Y,Ae,ae(a,Ae)):G(Ae,ae(Y,Ae))}else{if(Dg&&dt(k))for(const ne of l.mount){const Ae=ae(n,ne);if(Ae&&Ae._f){const Ve=Array.isArray(Ae._f.refs)?Ae._f.refs[0]:Ae._f.ref;if(Gu(Ve)){const Wt=Ve.closest("form");if(Wt){Wt.reset();break}}}}for(const ne of l.mount)G(ne,ae(Y,ne))}a=kt(Y),h.array.next({values:{...Y}}),h.state.next({values:{...Y}})}l={mount:L.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!L.keepIsValid||!!L.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:L.keepSubmitCount?r.submitCount:0,isDirty:Z?!1:L.keepDirty?r.isDirty:!!(L.keepDefaultValues&&!_s(k,s)),isSubmitted:L.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Z?{}:L.keepDirtyValues?L.keepDefaultValues&&a?Di(s,a):r.dirtyFields:L.keepDefaultValues&&k?Di(s,k):L.keepDirty?r.dirtyFields:{},touchedFields:L.keepTouched?r.touchedFields:{},errors:L.keepErrors?r.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Jr=(k,L)=>Ot(Vr(k)?k(a):k,L),Zr=(k,L={})=>{const F=ae(n,k),X=F&&F._f;if(X){const Z=X.refs?X.refs[0]:X.ref;Z.focus&&(Z.focus(),L.shouldSelect&&Vr(Z.select)&&Z.select())}},En=k=>{r={...r,...k}},jn={control:{register:He,unregister:Q,getFieldState:oe,handleSubmit:Oe,setError:M,_subscribe:te,_runSchema:A,_focusError:Pe,_getWatch:R,_getDirty:P,_setValid:v,_setFieldArray:x,_setDisabledField:Te,_setErrors:b,_getFieldArray:V,_reset:Ot,_resetDefaultValues:()=>Vr(t.defaultValues)&&t.defaultValues().then(k=>{Jr(k,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:ke,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(k){o=k},get _defaultValues(){return s},get _names(){return l},set _names(k){l=k},get _formState(){return r},get _options(){return t},set _options(k){t={...t,...k}}},subscribe:ge,trigger:$,register:He,handleSubmit:Oe,watch:z,setValue:G,getValues:W,reset:Jr,resetField:vt,clearErrors:ie,unregister:Q,setError:M,setFocus:Zr,getFieldState:oe};return{...jn,formControl:jn}}function cN(e={}){const t=B.useRef(void 0),r=B.useRef(void 0),[n,s]=B.useState({isDirty:!1,isValidating:!1,isLoading:Vr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Vr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:B5(e),formState:n},e.formControl&&e.defaultValues&&!Vr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,A5(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),B.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),B.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),B.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),B.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),B.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),B.useEffect(()=>{e.values&&!_s(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),B.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=k5(n,a),t.current}const K0=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ae(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},uN=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?K0(n.ref,r,e):n.refs&&n.refs.forEach(s=>K0(s,r,e))}},W5=(e,t)=>{t.shouldUseNativeValidation&&uN(e,t);const r={};for(const n in e){const s=ae(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(H5(t.names||Object.keys(e),n)){const o=Object.assign({},ae(r,n));We(o,"root",a),We(r,n,o)}else We(r,n,a)}return r},H5=(e,t)=>e.some(r=>r.startsWith(t+"."));var G5=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=rN(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},dN=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&uN({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:W5(G5(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},De;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(De||(De={}));var Y0;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Y0||(Y0={}));const le=De.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ys=e=>{switch(typeof e){case"undefined":return le.undefined;case"string":return le.string;case"number":return Number.isNaN(e)?le.nan:le.number;case"boolean":return le.boolean;case"function":return le.function;case"bigint":return le.bigint;case"symbol":return le.symbol;case"object":return Array.isArray(e)?le.array:e===null?le.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?le.promise:typeof Map<"u"&&e instanceof Map?le.map:typeof Set<"u"&&e instanceof Set?le.set:typeof Date<"u"&&e instanceof Date?le.date:le.object;default:return le.unknown}},q=De.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Jn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Jn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,De.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Jn.create=e=>new Jn(e);const $m=(e,t)=>{let r;switch(e.code){case q.invalid_type:e.received===le.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case q.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,De.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:r=`Unrecognized key(s) in object: ${De.joinValues(e.keys,", ")}`;break;case q.invalid_union:r="Invalid input";break;case q.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${De.joinValues(e.options)}`;break;case q.invalid_enum_value:r=`Invalid enum value. Expected ${De.joinValues(e.options)}, received '${e.received}'`;break;case q.invalid_arguments:r="Invalid function arguments";break;case q.invalid_return_type:r="Invalid function return type";break;case q.invalid_date:r="Invalid date";break;case q.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:De.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case q.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case q.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case q.custom:r="Invalid input";break;case q.invalid_intersection_types:r="Intersection results could not be merged";break;case q.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case q.not_finite:r="Number must be finite";break;default:r=t.defaultError,De.assertNever(e)}return{message:r}};let q5=$m;function K5(){return q5}const Y5=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}};function re(e,t){const r=K5(),n=Y5({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===$m?void 0:$m].filter(s=>!!s)});e.common.issues.push(n)}class cr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ve;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return cr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return ve;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const ve=Object.freeze({status:"aborted"}),qi=e=>({status:"dirty",value:e}),Nr=e=>({status:"valid",value:e}),Q0=e=>e.status==="aborted",J0=e=>e.status==="dirty",oi=e=>e.status==="valid",Yu=e=>typeof Promise<"u"&&e instanceof Promise;var ce;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ce||(ce={}));class Ks{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Z0=(e,t)=>{if(oi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Jn(e.common.issues);return this._error=r,this._error}}};function Ne(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class $e{get description(){return this._def.description}_getType(t){return ys(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ys(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new cr,ctx:{common:t.parent.common,data:t.data,parsedType:ys(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Yu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ys(t)},s=this._parseSync({data:t,path:n.path,parent:n});return Z0(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ys(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return oi(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>oi(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ys(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(Yu(s)?s:Promise.resolve(s));return Z0(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:q.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new li({schema:this,typeName:xe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Vs.create(this,this._def)}nullable(){return ci.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wn.create(this)}promise(){return Zu.create(this,this._def)}or(t){return Qu.create([this,t],this._def)}and(t){return Ju.create(this,t,this._def)}transform(t){return new li({...Ne(this._def),schema:this,typeName:xe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Dm({...Ne(this._def),innerType:this,defaultValue:r,typeName:xe.ZodDefault})}brand(){return new y$({typeName:xe.ZodBranded,type:this,...Ne(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Fm({...Ne(this._def),innerType:this,catchValue:r,typeName:xe.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Vg.create(this,t)}readonly(){return Um.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Q5=/^c[^\s-]{8,}$/i,J5=/^[0-9a-z]+$/,Z5=/^[0-9A-HJKMNP-TV-Z]{26}$/i,X5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,e$=/^[a-z0-9_-]{21}$/i,t$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,r$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,n$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,s$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let th;const a$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,o$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,i$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,l$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,c$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,u$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",d$=new RegExp(`^${fN}$`);function hN(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function f$(e){return new RegExp(`^${hN(e)}$`)}function h$(e){let t=`${fN}T${hN(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function m$(e,t){return!!((t==="v4"||!t)&&a$.test(e)||(t==="v6"||!t)&&i$.test(e))}function p$(e,t){if(!t$.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function g$(e,t){return!!((t==="v4"||!t)&&o$.test(e)||(t==="v6"||!t)&&l$.test(e))}class Ps extends $e{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==le.string){const a=this._getOrReturnCtx(t);return re(a,{code:q.invalid_type,expected:le.string,received:a.parsedType}),ve}const n=new cr;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:q.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:q.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?re(s,{code:q.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&re(s,{code:q.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")n$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"email",code:q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")th||(th=new RegExp(s$,"u")),th.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"emoji",code:q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")X5.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"uuid",code:q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")e$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"nanoid",code:q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Q5.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"cuid",code:q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")J5.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"cuid2",code:q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Z5.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"ulid",code:q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),re(s,{validation:"url",code:q.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"regex",code:q.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),re(s,{code:q.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),re(s,{code:q.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),re(s,{code:q.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?h$(a).test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{code:q.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?d$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{code:q.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?f$(a).test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{code:q.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?r$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"duration",code:q.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?m$(t.data,a.version)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"ip",code:q.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?p$(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"jwt",code:q.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?g$(t.data,a.version)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"cidr",code:q.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?c$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"base64",code:q.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?u$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"base64url",code:q.invalid_string,message:a.message}),n.dirty()):De.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:q.invalid_string,...ce.errToObj(n)})}_addCheck(t){return new Ps({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ce.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ce.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ce.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ce.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ce.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ce.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ce.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ce.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ce.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ce.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ce.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ce.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ce.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ce.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ce.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ce.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ce.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ce.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ce.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ce.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ce.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ce.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ce.errToObj(r)})}nonempty(t){return this.min(1,ce.errToObj(t))}trim(){return new Ps({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ps({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ps({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ps.create=e=>new Ps({checks:[],typeName:xe.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ne(e)});function v$(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return a%o/10**s}class Il extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==le.number){const a=this._getOrReturnCtx(t);return re(a,{code:q.invalid_type,expected:le.number,received:a.parsedType}),ve}let n;const s=new cr;for(const a of this._def.checks)a.kind==="int"?De.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{code:q.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),re(n,{code:q.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),re(n,{code:q.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?v$(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),re(n,{code:q.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{code:q.not_finite,message:a.message}),s.dirty()):De.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ce.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ce.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ce.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ce.toString(r))}setLimit(t,r,n,s){return new Il({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ce.toString(s)}]})}_addCheck(t){return new Il({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ce.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ce.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ce.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ce.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ce.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&De.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Il.create=e=>new Il({checks:[],typeName:xe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ne(e)});class Ll extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==le.bigint)return this._getInvalidInput(t);let n;const s=new cr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),re(n,{code:q.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),re(n,{code:q.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),re(n,{code:q.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):De.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return re(r,{code:q.invalid_type,expected:le.bigint,received:r.parsedType}),ve}gte(t,r){return this.setLimit("min",t,!0,ce.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ce.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ce.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ce.toString(r))}setLimit(t,r,n,s){return new Ll({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ce.toString(s)}]})}_addCheck(t){return new Ll({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ce.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ce.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ll.create=e=>new Ll({checks:[],typeName:xe.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ne(e)});class X0 extends $e{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==le.boolean){const n=this._getOrReturnCtx(t);return re(n,{code:q.invalid_type,expected:le.boolean,received:n.parsedType}),ve}return Nr(t.data)}}X0.create=e=>new X0({typeName:xe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ne(e)});class $l extends $e{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==le.date){const a=this._getOrReturnCtx(t);return re(a,{code:q.invalid_type,expected:le.date,received:a.parsedType}),ve}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return re(a,{code:q.invalid_date}),ve}const n=new cr;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:q.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:q.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):De.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new $l({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ce.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ce.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}$l.create=e=>new $l({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:xe.ZodDate,...Ne(e)});class ex extends $e{_parse(t){if(this._getType(t)!==le.symbol){const n=this._getOrReturnCtx(t);return re(n,{code:q.invalid_type,expected:le.symbol,received:n.parsedType}),ve}return Nr(t.data)}}ex.create=e=>new ex({typeName:xe.ZodSymbol,...Ne(e)});class tx extends $e{_parse(t){if(this._getType(t)!==le.undefined){const n=this._getOrReturnCtx(t);return re(n,{code:q.invalid_type,expected:le.undefined,received:n.parsedType}),ve}return Nr(t.data)}}tx.create=e=>new tx({typeName:xe.ZodUndefined,...Ne(e)});class rx extends $e{_parse(t){if(this._getType(t)!==le.null){const n=this._getOrReturnCtx(t);return re(n,{code:q.invalid_type,expected:le.null,received:n.parsedType}),ve}return Nr(t.data)}}rx.create=e=>new rx({typeName:xe.ZodNull,...Ne(e)});class nx extends $e{constructor(){super(...arguments),this._any=!0}_parse(t){return Nr(t.data)}}nx.create=e=>new nx({typeName:xe.ZodAny,...Ne(e)});class sx extends $e{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Nr(t.data)}}sx.create=e=>new sx({typeName:xe.ZodUnknown,...Ne(e)});class Ys extends $e{_parse(t){const r=this._getOrReturnCtx(t);return re(r,{code:q.invalid_type,expected:le.never,received:r.parsedType}),ve}}Ys.create=e=>new Ys({typeName:xe.ZodNever,...Ne(e)});class ax extends $e{_parse(t){if(this._getType(t)!==le.undefined){const n=this._getOrReturnCtx(t);return re(n,{code:q.invalid_type,expected:le.void,received:n.parsedType}),ve}return Nr(t.data)}}ax.create=e=>new ax({typeName:xe.ZodVoid,...Ne(e)});class wn extends $e{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==le.array)return re(r,{code:q.invalid_type,expected:le.array,received:r.parsedType}),ve;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(re(r,{code:o?q.too_big:q.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(re(r,{code:q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(re(r,{code:q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Ks(r,o,r.path,l)))).then(o=>cr.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new Ks(r,o,r.path,l)));return cr.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new wn({...this._def,minLength:{value:t,message:ce.toString(r)}})}max(t,r){return new wn({...this._def,maxLength:{value:t,message:ce.toString(r)}})}length(t,r){return new wn({...this._def,exactLength:{value:t,message:ce.toString(r)}})}nonempty(t){return this.min(1,t)}}wn.create=(e,t)=>new wn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:xe.ZodArray,...Ne(t)});function ho(e){if(e instanceof ut){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Vs.create(ho(n))}return new ut({...e._def,shape:()=>t})}else return e instanceof wn?new wn({...e._def,type:ho(e.element)}):e instanceof Vs?Vs.create(ho(e.unwrap())):e instanceof ci?ci.create(ho(e.unwrap())):e instanceof Fa?Fa.create(e.items.map(t=>ho(t))):e}class ut extends $e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=De.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==le.object){const u=this._getOrReturnCtx(t);return re(u,{code:q.invalid_type,expected:le.object,received:u.parsedType}),ve}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ys&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ks(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ys){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(re(s,{code:q.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ks(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>cr.mergeObjectSync(n,u)):cr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ce.errToObj,new ut({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ce.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new ut({...this._def,unknownKeys:"strip"})}passthrough(){return new ut({...this._def,unknownKeys:"passthrough"})}extend(t){return new ut({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ut({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:xe.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ut({...this._def,catchall:t})}pick(t){const r={};for(const n of De.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new ut({...this._def,shape:()=>r})}omit(t){const r={};for(const n of De.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new ut({...this._def,shape:()=>r})}deepPartial(){return ho(this)}partial(t){const r={};for(const n of De.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new ut({...this._def,shape:()=>r})}required(t){const r={};for(const n of De.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Vs;)a=a._def.innerType;r[n]=a}return new ut({...this._def,shape:()=>r})}keyof(){return mN(De.objectKeys(this.shape))}}ut.create=(e,t)=>new ut({shape:()=>e,unknownKeys:"strip",catchall:Ys.create(),typeName:xe.ZodObject,...Ne(t)});ut.strictCreate=(e,t)=>new ut({shape:()=>e,unknownKeys:"strict",catchall:Ys.create(),typeName:xe.ZodObject,...Ne(t)});ut.lazycreate=(e,t)=>new ut({shape:e,unknownKeys:"strip",catchall:Ys.create(),typeName:xe.ZodObject,...Ne(t)});class Qu extends $e{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Jn(l.ctx.common.issues));return re(r,{code:q.invalid_union,unionErrors:o}),ve}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Jn(c));return re(r,{code:q.invalid_union,unionErrors:l}),ve}}get options(){return this._def.options}}Qu.create=(e,t)=>new Qu({options:e,typeName:xe.ZodUnion,...Ne(t)});function Mm(e,t){const r=ys(e),n=ys(t);if(e===t)return{valid:!0,data:e};if(r===le.object&&n===le.object){const s=De.objectKeys(t),a=De.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=Mm(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===le.array&&n===le.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=Mm(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===le.date&&n===le.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ju extends $e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,o)=>{if(Q0(a)||Q0(o))return ve;const l=Mm(a.value,o.value);return l.valid?((J0(a)||J0(o))&&r.dirty(),{status:r.value,value:l.data}):(re(n,{code:q.invalid_intersection_types}),ve)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ju.create=(e,t,r)=>new Ju({left:e,right:t,typeName:xe.ZodIntersection,...Ne(r)});class Fa extends $e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==le.array)return re(n,{code:q.invalid_type,expected:le.array,received:n.parsedType}),ve;if(n.data.length<this._def.items.length)return re(n,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ve;!this._def.rest&&n.data.length>this._def.items.length&&(re(n,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ks(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>cr.mergeArray(r,o)):cr.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Fa({...this._def,rest:t})}}Fa.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fa({items:e,typeName:xe.ZodTuple,rest:null,...Ne(t)})};class ox extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==le.map)return re(n,{code:q.invalid_type,expected:le.map,received:n.parsedType}),ve;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Ks(n,l,n.path,[u,"key"])),value:a._parse(new Ks(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ve;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ve;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}ox.create=(e,t,r)=>new ox({valueType:t,keyType:e,typeName:xe.ZodMap,...Ne(r)});class Ml extends $e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==le.set)return re(n,{code:q.invalid_type,expected:le.set,received:n.parsedType}),ve;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(re(n,{code:q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(re(n,{code:q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ve;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new Ks(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Ml({...this._def,minSize:{value:t,message:ce.toString(r)}})}max(t,r){return new Ml({...this._def,maxSize:{value:t,message:ce.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ml.create=(e,t)=>new Ml({valueType:e,minSize:null,maxSize:null,typeName:xe.ZodSet,...Ne(t)});class ix extends $e{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ix.create=(e,t)=>new ix({getter:e,typeName:xe.ZodLazy,...Ne(t)});class lx extends $e{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return re(r,{received:r.data,code:q.invalid_literal,expected:this._def.value}),ve}return{status:"valid",value:t.data}}get value(){return this._def.value}}lx.create=(e,t)=>new lx({value:e,typeName:xe.ZodLiteral,...Ne(t)});function mN(e,t){return new ii({values:e,typeName:xe.ZodEnum,...Ne(t)})}class ii extends $e{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return re(r,{expected:De.joinValues(n),received:r.parsedType,code:q.invalid_type}),ve}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return re(r,{received:r.data,code:q.invalid_enum_value,options:n}),ve}return Nr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ii.create(t,{...this._def,...r})}exclude(t,r=this._def){return ii.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ii.create=mN;class cx extends $e{_parse(t){const r=De.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==le.string&&n.parsedType!==le.number){const s=De.objectValues(r);return re(n,{expected:De.joinValues(s),received:n.parsedType,code:q.invalid_type}),ve}if(this._cache||(this._cache=new Set(De.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=De.objectValues(r);return re(n,{received:n.data,code:q.invalid_enum_value,options:s}),ve}return Nr(t.data)}get enum(){return this._def.values}}cx.create=(e,t)=>new cx({values:e,typeName:xe.ZodNativeEnum,...Ne(t)});class Zu extends $e{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==le.promise&&r.common.async===!1)return re(r,{code:q.invalid_type,expected:le.promise,received:r.parsedType}),ve;const n=r.parsedType===le.promise?r.data:Promise.resolve(r.data);return Nr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Zu.create=(e,t)=>new Zu({type:e,typeName:xe.ZodPromise,...Ne(t)});class li extends $e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{re(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ve;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ve:c.status==="dirty"||r.value==="dirty"?qi(c.value):c});{if(r.value==="aborted")return ve;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ve:l.status==="dirty"||r.value==="dirty"?qi(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ve:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ve:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!oi(o))return ve;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>oi(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):ve);De.assertNever(s)}}li.create=(e,t,r)=>new li({schema:e,typeName:xe.ZodEffects,effect:t,...Ne(r)});li.createWithPreprocess=(e,t,r)=>new li({schema:t,effect:{type:"preprocess",transform:e},typeName:xe.ZodEffects,...Ne(r)});class Vs extends $e{_parse(t){return this._getType(t)===le.undefined?Nr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Vs.create=(e,t)=>new Vs({innerType:e,typeName:xe.ZodOptional,...Ne(t)});class ci extends $e{_parse(t){return this._getType(t)===le.null?Nr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ci.create=(e,t)=>new ci({innerType:e,typeName:xe.ZodNullable,...Ne(t)});class Dm extends $e{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===le.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Dm.create=(e,t)=>new Dm({innerType:e,typeName:xe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ne(t)});class Fm extends $e{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Yu(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Jn(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Jn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Fm.create=(e,t)=>new Fm({innerType:e,typeName:xe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ne(t)});class ux extends $e{_parse(t){if(this._getType(t)!==le.nan){const n=this._getOrReturnCtx(t);return re(n,{code:q.invalid_type,expected:le.nan,received:n.parsedType}),ve}return{status:"valid",value:t.data}}}ux.create=e=>new ux({typeName:xe.ZodNaN,...Ne(e)});class y$ extends $e{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Vg extends $e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ve:a.status==="dirty"?(r.dirty(),qi(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ve:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Vg({in:t,out:r,typeName:xe.ZodPipeline})}}class Um extends $e{_parse(t){const r=this._def.innerType._parse(t),n=s=>(oi(s)&&(s.value=Object.freeze(s.value)),s);return Yu(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Um.create=(e,t)=>new Um({innerType:e,typeName:xe.ZodReadonly,...Ne(t)});var xe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(xe||(xe={}));const Ss=Ps.create,pN=$l.create;Ys.create;wn.create;const gN=ut.create;Qu.create;Ju.create;Fa.create;const vN=ii.create;Zu.create;Vs.create;ci.create;function Le(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ur(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Mt(e,t){const r=Le(e);return isNaN(t)?ur(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Kr(e,t){const r=Le(e);if(isNaN(t))return ur(e,NaN);if(!t)return r;const n=r.getDate(),s=ur(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const a=s.getDate();return n>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const Bg=6048e5,x$=864e5;let w$={};function ec(){return w$}function Sn(e,t){var l,c,u,d;const r=ec(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Le(e),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ua(e){return Sn(e,{weekStartsOn:1})}function yN(e){const t=Le(e),r=t.getFullYear(),n=ur(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Ua(n),a=ur(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Ua(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function ui(e){const t=Le(e);return t.setHours(0,0,0,0),t}function Xu(e){const t=Le(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function fn(e,t){const r=ui(e),n=ui(t),s=+r-Xu(r),a=+n-Xu(n);return Math.round((s-a)/x$)}function b$(e){const t=yN(e),r=ur(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ua(r)}function zm(e,t){const r=t*7;return Mt(e,r)}function _$(e,t){return Kr(e,t*12)}function S$(e){let t;return e.forEach(function(r){const n=Le(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function C$(e){let t;return e.forEach(r=>{const n=Le(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Jt(e,t){const r=ui(e),n=ui(t);return+r==+n}function Wg(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function N$(e){if(!Wg(e)&&typeof e!="number")return!1;const t=Le(e);return!isNaN(Number(t))}function Dl(e,t){const r=Le(e),n=Le(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function E$(e,t,r){const n=Sn(e,r),s=Sn(t,r),a=+n-Xu(n),o=+s-Xu(s);return Math.round((a-o)/Bg)}function Hg(e){const t=Le(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function rr(e){const t=Le(e);return t.setDate(1),t.setHours(0,0,0,0),t}function xN(e){const t=Le(e),r=ur(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Gg(e,t){var l,c,u,d;const r=ec(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Le(e),a=s.getDay(),o=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function wN(e){return Gg(e,{weekStartsOn:1})}const j$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},k$=(e,t,r)=>{let n;const s=j$[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function rh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const A$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},T$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},P$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},O$={date:rh({formats:A$,defaultWidth:"full"}),time:rh({formats:T$,defaultWidth:"full"}),dateTime:rh({formats:P$,defaultWidth:"full"})},R$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},I$=(e,t,r,n)=>R$[e];function Ui(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const L$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},M$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},D$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},F$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},z$=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},V$={ordinalNumber:z$,era:Ui({values:L$,defaultWidth:"wide"}),quarter:Ui({values:$$,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ui({values:M$,defaultWidth:"wide"}),day:Ui({values:D$,defaultWidth:"wide"}),dayPeriod:Ui({values:F$,defaultWidth:"wide",formattingValues:U$,defaultFormattingWidth:"wide"})};function zi(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?W$(l,f=>f.test(o)):B$(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function B$(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function W$(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function H$(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const G$=/^(\d+)(th|st|nd|rd)?/i,q$=/\d+/i,K$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Y$={any:[/^b/i,/^(a|c)/i]},Q$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},J$={any:[/1/i,/2/i,/3/i,/4/i]},Z$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},X$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sM={ordinalNumber:H$({matchPattern:G$,parsePattern:q$,valueCallback:e=>parseInt(e,10)}),era:zi({matchPatterns:K$,defaultMatchWidth:"wide",parsePatterns:Y$,defaultParseWidth:"any"}),quarter:zi({matchPatterns:Q$,defaultMatchWidth:"wide",parsePatterns:J$,defaultParseWidth:"any",valueCallback:e=>e+1}),month:zi({matchPatterns:Z$,defaultMatchWidth:"wide",parsePatterns:X$,defaultParseWidth:"any"}),day:zi({matchPatterns:eM,defaultMatchWidth:"wide",parsePatterns:tM,defaultParseWidth:"any"}),dayPeriod:zi({matchPatterns:rM,defaultMatchWidth:"any",parsePatterns:nM,defaultParseWidth:"any"})},bN={code:"en-US",formatDistance:k$,formatLong:O$,formatRelative:I$,localize:V$,match:sM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aM(e){const t=Le(e);return fn(t,xN(t))+1}function _N(e){const t=Le(e),r=+Ua(t)-+b$(t);return Math.round(r/Bg)+1}function SN(e,t){var d,f,h,m;const r=Le(e),n=r.getFullYear(),s=ec(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=ur(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=Sn(o,t),c=ur(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=Sn(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function oM(e,t){var l,c,u,d;const r=ec(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=SN(e,t),a=ur(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),Sn(a,t)}function CN(e,t){const r=Le(e),n=+Sn(r,t)-+oM(r,t);return Math.round(n/Bg)+1}function Ue(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const us={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ue(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ue(r+1,2)},d(e,t){return Ue(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ue(e.getHours()%12||12,t.length)},H(e,t){return Ue(e.getHours(),t.length)},m(e,t){return Ue(e.getMinutes(),t.length)},s(e,t){return Ue(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ue(s,t.length)}},uo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dx={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return us.y(e,t)},Y:function(e,t,r,n){const s=SN(e,n),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return Ue(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ue(a,t.length)},R:function(e,t){const r=yN(e);return Ue(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ue(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ue(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ue(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return us.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ue(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=CN(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ue(s,t.length)},I:function(e,t,r){const n=_N(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ue(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):us.d(e,t)},D:function(e,t,r){const n=aM(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ue(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ue(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ue(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ue(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=uo.noon:n===0?s=uo.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=uo.evening:n>=12?s=uo.afternoon:n>=4?s=uo.morning:s=uo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return us.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):us.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ue(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ue(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):us.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):us.s(e,t)},S:function(e,t){return us.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return hx(n);case"XXXX":case"XX":return ha(n);case"XXXXX":case"XXX":default:return ha(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return hx(n);case"xxxx":case"xx":return ha(n);case"xxxxx":case"xxx":default:return ha(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+fx(n,":");case"OOOO":default:return"GMT"+ha(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+fx(n,":");case"zzzz":default:return"GMT"+ha(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ue(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ue(n,t.length)}};function fx(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+Ue(a,2)}function hx(e,t){return e%60===0?(e>0?"-":"+")+Ue(Math.abs(e)/60,2):ha(e,t)}function ha(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ue(Math.trunc(n/60),2),a=Ue(n%60,2);return r+s+t+a}const mx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},NN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},iM=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return mx(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",mx(n,t)).replace("{{time}}",NN(s,t))},lM={p:NN,P:iM},cM=/^D+$/,uM=/^Y+$/,dM=["D","DD","YY","YYYY"];function fM(e){return cM.test(e)}function hM(e){return uM.test(e)}function mM(e,t,r){const n=pM(e,t,r);if(console.warn(n),dM.includes(e))throw new RangeError(n)}function pM(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const gM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yM=/^'([^]*?)'?$/,xM=/''/g,wM=/[a-zA-Z]/;function ns(e,t,r){var d,f,h,m,w,v,y,x;const n=ec(),s=(r==null?void 0:r.locale)??n.locale??bN,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((x=(y=n.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,l=Le(e);if(!N$(l))throw new RangeError("Invalid time value");let c=t.match(vM).map(g=>{const b=g[0];if(b==="p"||b==="P"){const S=lM[b];return S(g,s.formatLong)}return g}).join("").match(gM).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const b=g[0];if(b==="'")return{isToken:!1,value:bM(g)};if(dx[b])return{isToken:!0,value:g};if(b.match(wM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const b=g.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&hM(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&fM(b))&&mM(b,t,String(e));const S=dx[b[0]];return S(l,b,s.localize,u)}).join("")}function bM(e){const t=e.match(yM);return t?t[1].replace(xM,"'"):e}function _M(e){const t=Le(e),r=t.getFullYear(),n=t.getMonth(),s=ur(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function SM(e){return Math.trunc(+Le(e)/1e3)}function CM(e){const t=Le(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function NM(e,t){return E$(CM(e),rr(e),t)+1}function Vm(e,t){const r=Le(e),n=Le(t);return r.getTime()>n.getTime()}function EN(e,t){const r=Le(e),n=Le(t);return+r<+n}function qg(e,t){const r=Le(e),n=Le(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function EM(e,t){const r=Le(e),n=Le(t);return r.getFullYear()===n.getFullYear()}function nh(e,t){return Mt(e,-t)}function sh(e,t){const r=Le(e),n=r.getFullYear(),s=r.getDate(),a=ur(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const o=_M(a);return r.setMonth(t,Math.min(s,o)),r}function px(e,t){const r=Le(e);return isNaN(+r)?ur(e,NaN):(r.setFullYear(t),r)}var he=function(){return he=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},he.apply(this,arguments)};function jM(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function jN(e,t,r){for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function tc(e){return e.mode==="multiple"}function rc(e){return e.mode==="range"}function Qd(e){return e.mode==="single"}var kM={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function AM(e,t){return ns(e,"LLLL y",t)}function TM(e,t){return ns(e,"d",t)}function PM(e,t){return ns(e,"LLLL",t)}function OM(e){return"".concat(e)}function RM(e,t){return ns(e,"cccccc",t)}function IM(e,t){return ns(e,"yyyy",t)}var LM=Object.freeze({__proto__:null,formatCaption:AM,formatDay:TM,formatMonthCaption:PM,formatWeekNumber:OM,formatWeekdayName:RM,formatYearCaption:IM}),$M=function(e,t,r){return ns(e,"do MMMM (EEEE)",r)},MM=function(){return"Month: "},DM=function(){return"Go to next month"},FM=function(){return"Go to previous month"},UM=function(e,t){return ns(e,"cccc",t)},zM=function(e){return"Week n. ".concat(e)},VM=function(){return"Year: "},BM=Object.freeze({__proto__:null,labelDay:$M,labelMonthDropdown:MM,labelNext:DM,labelPrevious:FM,labelWeekNumber:zM,labelWeekday:UM,labelYearDropdown:VM});function WM(){var e="buttons",t=kM,r=bN,n={},s={},a=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:LM,labels:BM,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:a,styles:o,today:l,mode:"default"}}function HM(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,a=e.fromDate,o=e.toDate;return n?a=rr(n):t&&(a=new Date(t,0,1)),s?o=Hg(s):r&&(o=new Date(r,11,31)),{fromDate:a?ui(a):void 0,toDate:o?ui(o):void 0}}var kN=p.createContext(void 0);function GM(e){var t,r=e.initialProps,n=WM(),s=HM(r),a=s.fromDate,o=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(Qd(r)||tc(r)||rc(r))&&(c=r.onSelect);var u=he(he(he({},n),r),{captionLayout:l,classNames:he(he({},n.classNames),r.classNames),components:he({},r.components),formatters:he(he({},n.formatters),r.formatters),fromDate:a,labels:he(he({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:he(he({},n.modifiers),r.modifiers),modifiersClassNames:he(he({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:he(he({},n.styles),r.styles),toDate:o});return i.jsx(kN.Provider,{value:u,children:e.children})}function Ke(){var e=p.useContext(kN);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function AN(e){var t=Ke(),r=t.locale,n=t.classNames,s=t.styles,a=t.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function qM(e){return i.jsx("svg",he({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function TN(e){var t,r,n=e.onChange,s=e.value,a=e.children,o=e.caption,l=e.className,c=e.style,u=Ke(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:qM;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:a}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function KM(e){var t,r=Ke(),n=r.fromDate,s=r.toDate,a=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});var f=[];if(EM(n,s))for(var h=rr(n),m=n.getMonth();m<=s.getMonth();m++)f.push(sh(h,m));else for(var h=rr(new Date),m=0;m<=11;m++)f.push(sh(h,m));var w=function(y){var x=Number(y.target.value),g=sh(rr(e.displayMonth),x);e.onChange(g)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:TN;return i.jsx(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(y){return i.jsx("option",{value:y.getMonth(),children:l(y,{locale:o})},y.getMonth())})})}function YM(e){var t,r=e.displayMonth,n=Ke(),s=n.fromDate,a=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!s)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});for(var m=s.getFullYear(),w=a.getFullYear(),v=m;v<=w;v++)h.push(px(xN(new Date),v));var y=function(g){var b=px(rr(r),Number(g.target.value));e.onChange(b)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:TN;return i.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:y,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(g){return i.jsx("option",{value:g.getFullYear(),children:d(g,{locale:o})},g.getFullYear())})})}function QM(e,t){var r=p.useState(e),n=r[0],s=r[1],a=t===void 0?n:t;return[a,s]}function JM(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,a=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&Dl(a,s)<0){var u=-1*(c-1);s=Kr(a,u)}return o&&Dl(s,o)<0&&(s=o),rr(s)}function ZM(){var e=Ke(),t=JM(e),r=QM(t,e.month),n=r[0],s=r[1],a=function(o){var l;if(!e.disableNavigation){var c=rr(o);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,a]}function XM(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=rr(e),a=rr(Kr(s,n)),o=Dl(a,s),l=[],c=0;c<o;c++){var u=Kr(s,c);l.push(u)}return r&&(l=l.reverse()),l}function eD(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,o=n?a:1,l=rr(e);if(!r)return Kr(l,o);var c=Dl(r,e);if(!(c<a))return Kr(l,o)}}function tD(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,o=n?a:1,l=rr(e);if(!r)return Kr(l,-o);var c=Dl(l,r);if(!(c<=0))return Kr(l,-o)}}var PN=p.createContext(void 0);function rD(e){var t=Ke(),r=ZM(),n=r[0],s=r[1],a=XM(n,t),o=eD(n,t),l=tD(n,t),c=function(f){return a.some(function(h){return qg(f,h)})},u=function(f,h){c(f)||(h&&EN(f,h)?s(Kr(f,1+t.numberOfMonths*-1)):s(f))},d={currentMonth:n,displayMonths:a,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return i.jsx(PN.Provider,{value:d,children:e.children})}function nc(){var e=p.useContext(PN);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function gx(e){var t,r=Ke(),n=r.classNames,s=r.styles,a=r.components,o=nc().goToMonth,l=function(d){o(Kr(d,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:AN,u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:u}),i.jsx(KM,{onChange:l,displayMonth:e.displayMonth}),i.jsx(YM,{onChange:l,displayMonth:e.displayMonth})]})}function nD(e){return i.jsx("svg",he({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function sD(e){return i.jsx("svg",he({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ed=p.forwardRef(function(e,t){var r=Ke(),n=r.classNames,s=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var o=a.join(" "),l=he(he({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),i.jsx("button",he({},e,{ref:t,type:"button",className:o,style:l}))});function aD(e){var t,r,n=Ke(),s=n.dir,a=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var h=u(e.previousMonth,{locale:a}),m=[o.nav_button,o.nav_button_previous].join(" "),w=d(e.nextMonth,{locale:a}),v=[o.nav_button,o.nav_button_next].join(" "),y=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:sD,x=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:nD;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&i.jsx(ed,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?i.jsx(y,{className:o.nav_icon,style:l.nav_icon}):i.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&i.jsx(ed,{name:"next-month","aria-label":w,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?i.jsx(x,{className:o.nav_icon,style:l.nav_icon}):i.jsx(y,{className:o.nav_icon,style:l.nav_icon})})]})}function vx(e){var t=Ke().numberOfMonths,r=nc(),n=r.previousMonth,s=r.nextMonth,a=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(w){return qg(e.displayMonth,w)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&a(n)},m=function(){s&&a(s)};return i.jsx(aD,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:n,onPreviousClick:h,onNextClick:m})}function oD(e){var t,r=Ke(),n=r.classNames,s=r.disableNavigation,a=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:AN,u;return s?u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=i.jsx(gx,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(gx,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(vx,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(vx,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:n.caption,style:a.caption,children:u})}function iD(e){var t=Ke(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?i.jsx("tfoot",{className:s,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function lD(e,t,r){for(var n=r?Ua(new Date):Sn(new Date,{locale:e,weekStartsOn:t}),s=[],a=0;a<7;a++){var o=Mt(n,a);s.push(o)}return s}function cD(){var e=Ke(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,a=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=lD(s,a,o);return i.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return i.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function uD(){var e,t=Ke(),r=t.classNames,n=t.styles,s=t.components,a=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:cD;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(a,{})})}function dD(e){var t=Ke(),r=t.locale,n=t.formatters.formatDay;return i.jsx(i.Fragment,{children:n(e.date,{locale:r})})}var Kg=p.createContext(void 0);function fD(e){if(!tc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx(Kg.Provider,{value:t,children:e.children})}return i.jsx(hD,{initialProps:e.initialProps,children:e.children})}function hD(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,a=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var w=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!w){var v=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!v){var y=n?jN([],n):[];if(d.selected){var x=y.findIndex(function(g){return Jt(u,g)});y.splice(x,1)}else y.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,y,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=a&&n.length>a-1,f=n.some(function(h){return Jt(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return i.jsx(Kg.Provider,{value:c,children:r})}function Yg(){var e=p.useContext(Kg);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function mD(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?Jt(s,e)&&Jt(n,e)?void 0:Jt(s,e)?{from:s,to:void 0}:Jt(n,e)?void 0:Vm(n,e)?{from:e,to:s}:{from:n,to:e}:s?Vm(e,s)?{from:s,to:e}:{from:e,to:s}:n?EN(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Qg=p.createContext(void 0);function pD(e){if(!rc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(Qg.Provider,{value:t,children:e.children})}return i.jsx(gD,{initialProps:e.initialProps,children:e.children})}function gD(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},a=s.from,o=s.to,l=t.min,c=t.max,u=function(m,w,v){var y,x;(y=t.onDayClick)===null||y===void 0||y.call(t,m,w,v);var g=mD(m,n);(x=t.onSelect)===null||x===void 0||x.call(t,g,m,w,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],o?(d.range_end=[o],Jt(a,o)||(d.range_middle=[{after:a,before:o}])):d.range_end=[a]):o&&(d.range_start=[o],d.range_end=[o]),l&&(a&&!o&&d.disabled.push({after:nh(a,l-1),before:Mt(a,l-1)}),a&&o&&d.disabled.push({after:a,before:Mt(a,l-1)}),!a&&o&&d.disabled.push({after:nh(o,l-1),before:Mt(o,l-1)})),c){if(a&&!o&&(d.disabled.push({before:Mt(a,-c+1)}),d.disabled.push({after:Mt(a,c-1)})),a&&o){var f=fn(o,a)+1,h=c-f;d.disabled.push({before:nh(a,h)}),d.disabled.push({after:Mt(o,h)})}!a&&o&&(d.disabled.push({before:Mt(o,-c+1)}),d.disabled.push({after:Mt(o,c-1)}))}return i.jsx(Qg.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function Jg(){var e=p.useContext(Qg);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ou(e){return Array.isArray(e)?jN([],e):e!==void 0?[e]:[]}function vD(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=ou(s)}),t}var Yr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Yr||(Yr={}));var yD=Yr.Selected,On=Yr.Disabled,xD=Yr.Hidden,wD=Yr.Today,ah=Yr.RangeEnd,oh=Yr.RangeMiddle,ih=Yr.RangeStart,bD=Yr.Outside;function _D(e,t,r){var n,s=(n={},n[yD]=ou(e.selected),n[On]=ou(e.disabled),n[xD]=ou(e.hidden),n[wD]=[e.today],n[ah]=[],n[oh]=[],n[ih]=[],n[bD]=[],n);return e.fromDate&&s[On].push({before:e.fromDate}),e.toDate&&s[On].push({after:e.toDate}),tc(e)?s[On]=s[On].concat(t.modifiers[On]):rc(e)&&(s[On]=s[On].concat(r.modifiers[On]),s[ih]=r.modifiers[ih],s[oh]=r.modifiers[oh],s[ah]=r.modifiers[ah]),s}var ON=p.createContext(void 0);function SD(e){var t=Ke(),r=Yg(),n=Jg(),s=_D(t,r,n),a=vD(t.modifiers),o=he(he({},s),a);return i.jsx(ON.Provider,{value:o,children:e.children})}function RN(){var e=p.useContext(ON);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function CD(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function ND(e){return!!(e&&typeof e=="object"&&"from"in e)}function ED(e){return!!(e&&typeof e=="object"&&"after"in e)}function jD(e){return!!(e&&typeof e=="object"&&"before"in e)}function kD(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function AD(e,t){var r,n=t.from,s=t.to;if(n&&s){var a=fn(s,n)<0;a&&(r=[s,n],n=r[0],s=r[1]);var o=fn(e,n)>=0&&fn(s,e)>=0;return o}return s?Jt(s,e):n?Jt(n,e):!1}function TD(e){return Wg(e)}function PD(e){return Array.isArray(e)&&e.every(Wg)}function OD(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(TD(r))return Jt(e,r);if(PD(r))return r.includes(e);if(ND(r))return AD(e,r);if(kD(r))return r.dayOfWeek.includes(e.getDay());if(CD(r)){var n=fn(r.before,e),s=fn(r.after,e),a=n>0,o=s<0,l=Vm(r.before,r.after);return l?o&&a:a||o}return ED(r)?fn(e,r.after)>0:jD(r)?fn(r.before,e)>0:typeof r=="function"?r(e):!1})}function Zg(e,t,r){var n=Object.keys(t).reduce(function(a,o){var l=t[o];return OD(e,l)&&a.push(o),a},[]),s={};return n.forEach(function(a){return s[a]=!0}),r&&!qg(e,r)&&(s.outside=!0),s}function RD(e,t){for(var r=rr(e[0]),n=Hg(e[e.length-1]),s,a,o=r;o<=n;){var l=Zg(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Mt(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),s||(s=o),o=Mt(o,1)}return a||s}var ID=365;function IN(e,t){var r=t.moveBy,n=t.direction,s=t.context,a=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,h={day:Mt,week:zm,month:Kr,year:_$,startOfWeek:function(y){return s.ISOWeek?Ua(y):Sn(y,{locale:f,weekStartsOn:c})},endOfWeek:function(y){return s.ISOWeek?wN(y):Gg(y,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=S$([u,m]):n==="after"&&d&&(m=C$([d,m]));var w=!0;if(a){var v=Zg(m,a);w=!v.disabled&&!v.hidden}return w?m:l.count>ID?l.lastFocused:IN(m,{moveBy:r,direction:n,context:s,modifiers:a,retry:he(he({},l),{count:l.count+1})})}var LN=p.createContext(void 0);function LD(e){var t=nc(),r=RN(),n=p.useState(),s=n[0],a=n[1],o=p.useState(),l=o[0],c=o[1],u=RD(t.displayMonths,r),d=s??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(s),a(void 0)},h=function(y){a(y)},m=Ke(),w=function(y,x){if(s){var g=IN(s,{moveBy:y,direction:x,context:m,modifiers:r});Jt(s,g)||(t.goToDate(g,s),h(g))}},v={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return i.jsx(LN.Provider,{value:v,children:e.children})}function Xg(){var e=p.useContext(LN);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function $D(e,t){var r=RN(),n=Zg(e,r,t);return n}var ev=p.createContext(void 0);function MD(e){if(!Qd(e.initialProps)){var t={selected:void 0};return i.jsx(ev.Provider,{value:t,children:e.children})}return i.jsx(DD,{initialProps:e.initialProps,children:e.children})}function DD(e){var t=e.initialProps,r=e.children,n=function(a,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,o,l)},s={selected:t.selected,onDayClick:n};return i.jsx(ev.Provider,{value:s,children:r})}function $N(){var e=p.useContext(ev);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function FD(e,t){var r=Ke(),n=$N(),s=Yg(),a=Jg(),o=Xg(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,w=o.focusMonthAfter,v=o.focusYearBefore,y=o.focusYearAfter,x=o.focusStartOfWeek,g=o.focusEndOfWeek,b=function(T){var N,$,W,oe;Qd(r)?(N=n.onDayClick)===null||N===void 0||N.call(n,e,t,T):tc(r)?($=s.onDayClick)===null||$===void 0||$.call(s,e,t,T):rc(r)?(W=a.onDayClick)===null||W===void 0||W.call(a,e,t,T):(oe=r.onDayClick)===null||oe===void 0||oe.call(r,e,t,T)},S=function(T){var N;h(e),(N=r.onDayFocus)===null||N===void 0||N.call(r,e,t,T)},C=function(T){var N;f(),(N=r.onDayBlur)===null||N===void 0||N.call(r,e,t,T)},j=function(T){var N;(N=r.onDayMouseEnter)===null||N===void 0||N.call(r,e,t,T)},A=function(T){var N;(N=r.onDayMouseLeave)===null||N===void 0||N.call(r,e,t,T)},E=function(T){var N;(N=r.onDayPointerEnter)===null||N===void 0||N.call(r,e,t,T)},O=function(T){var N;(N=r.onDayPointerLeave)===null||N===void 0||N.call(r,e,t,T)},I=function(T){var N;(N=r.onDayTouchCancel)===null||N===void 0||N.call(r,e,t,T)},P=function(T){var N;(N=r.onDayTouchEnd)===null||N===void 0||N.call(r,e,t,T)},R=function(T){var N;(N=r.onDayTouchMove)===null||N===void 0||N.call(r,e,t,T)},V=function(T){var N;(N=r.onDayTouchStart)===null||N===void 0||N.call(r,e,t,T)},D=function(T){var N;(N=r.onDayKeyUp)===null||N===void 0||N.call(r,e,t,T)},J=function(T){var N;switch(T.key){case"ArrowLeft":T.preventDefault(),T.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":T.preventDefault(),T.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":T.preventDefault(),T.stopPropagation(),u();break;case"ArrowUp":T.preventDefault(),T.stopPropagation(),d();break;case"PageUp":T.preventDefault(),T.stopPropagation(),T.shiftKey?v():m();break;case"PageDown":T.preventDefault(),T.stopPropagation(),T.shiftKey?y():w();break;case"Home":T.preventDefault(),T.stopPropagation(),x();break;case"End":T.preventDefault(),T.stopPropagation(),g();break}(N=r.onDayKeyDown)===null||N===void 0||N.call(r,e,t,T)},G={onClick:b,onFocus:S,onBlur:C,onKeyDown:J,onKeyUp:D,onMouseEnter:j,onMouseLeave:A,onPointerEnter:E,onPointerLeave:O,onTouchCancel:I,onTouchEnd:P,onTouchMove:R,onTouchStart:V};return G}function UD(){var e=Ke(),t=$N(),r=Yg(),n=Jg(),s=Qd(e)?t.selected:tc(e)?r.selected:rc(e)?n.selected:void 0;return s}function zD(e){return Object.values(Yr).includes(e)}function VD(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(zD(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function BD(e,t){var r=he({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=he(he({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function WD(e,t,r){var n,s,a,o=Ke(),l=Xg(),c=$D(e,t),u=FD(e,c),d=UD(),f=!!(o.onDayClick||o.mode!=="default");p.useEffect(function(){var j;c.outside||l.focusedDay&&f&&Jt(l.focusedDay,e)&&((j=r.current)===null||j===void 0||j.focus())},[l.focusedDay,e,r,f,c.outside]);var h=VD(o,c).join(" "),m=BD(o,c),w=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(a=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:dD,y=i.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),x={style:m,className:h,children:y,role:"gridcell"},g=l.focusTarget&&Jt(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&Jt(l.focusedDay,e),S=he(he(he({},x),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||g?0:-1,n)),u),C={isButton:f,isHidden:w,activeModifiers:c,selectedDays:d,buttonProps:S,divProps:x};return C}function HD(e){var t=p.useRef(null),r=WD(e.date,e.displayMonth,t);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(ed,he({name:"day",ref:t},r.buttonProps)):i.jsx("div",he({},r.divProps))}function GD(e){var t=e.number,r=e.dates,n=Ke(),s=n.onWeekNumberClick,a=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return i.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){s(t,r,m)};return i.jsx(ed,{name:"week-number","aria-label":f,className:o.weeknumber,style:a.weeknumber,onClick:h,children:d})}function qD(e){var t,r,n=Ke(),s=n.styles,a=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:HD,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:GD,d;return o&&(d=i.jsx("td",{className:a.cell,style:s.cell,children:i.jsx(u,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:a.row,style:s.row,children:[d,e.dates.map(function(f){return i.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:i.jsx(c,{displayMonth:e.displayMonth,date:f})},SM(f))})]})}function yx(e,t,r){for(var n=r!=null&&r.ISOWeek?wN(t):Gg(t,r),s=r!=null&&r.ISOWeek?Ua(e):Sn(e,r),a=fn(n,s),o=[],l=0;l<=a;l++)o.push(Mt(s,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?_N(d):CN(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function KD(e,t){var r=yx(rr(e),Hg(e),t);if(t!=null&&t.useFixedWeeks){var n=NM(e,t);if(n<6){var s=r[r.length-1],a=s.dates[s.dates.length-1],o=zm(a,6-n),l=yx(zm(a,1),o,t);r.push.apply(r,l)}}return r}function YD(e){var t,r,n,s=Ke(),a=s.locale,o=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,m=s.ISOWeek,w=KD(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:a,weekStartsOn:f,firstWeekContainsDate:h}),v=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:uD,y=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:qD,x=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:iD;return i.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&i.jsx(v,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:w.map(function(g){return i.jsx(y,{displayMonth:e.displayMonth,dates:g.dates,weekNumber:g.weekNumber},g.weekNumber)})}),i.jsx(x,{displayMonth:e.displayMonth})]})}function QD(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var JD=QD()?p.useLayoutEffect:p.useEffect,lh=!1,ZD=0;function xx(){return"react-day-picker-".concat(++ZD)}function XD(e){var t,r=e??(lh?xx():null),n=p.useState(r),s=n[0],a=n[1];return JD(function(){s===null&&a(xx())},[]),p.useEffect(function(){lh===!1&&(lh=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function e6(e){var t,r,n=Ke(),s=n.dir,a=n.classNames,o=n.styles,l=n.components,c=nc().displayMonths,u=XD(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[a.month],h=o.month,m=e.displayIndex===0,w=e.displayIndex===c.length-1,v=!m&&!w;s==="rtl"&&(t=[m,w],w=t[0],m=t[1]),m&&(f.push(a.caption_start),h=he(he({},h),o.caption_start)),w&&(f.push(a.caption_end),h=he(he({},h),o.caption_end)),v&&(f.push(a.caption_between),h=he(he({},h),o.caption_between));var y=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:oD;return i.jsxs("div",{className:f.join(" "),style:h,children:[i.jsx(y,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(YD,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function t6(e){var t=Ke(),r=t.classNames,n=t.styles;return i.jsx("div",{className:r.months,style:n.months,children:e.children})}function r6(e){var t,r,n=e.initialProps,s=Ke(),a=Xg(),o=nc(),l=p.useState(!1),c=l[0],u=l[1];p.useEffect(function(){s.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[s.initialFocus,c,a.focus,a.focusTarget,a]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=he(he({},s.styles.root),s.style),h=Object.keys(n).filter(function(w){return w.startsWith("data-")}).reduce(function(w,v){var y;return he(he({},w),(y={},y[v]=n[v],y))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:t6;return i.jsx("div",he({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:i.jsx(m,{children:o.displayMonths.map(function(w,v){return i.jsx(e6,{displayIndex:v,displayMonth:w},v)})})}))}function n6(e){var t=e.children,r=jM(e,["children"]);return i.jsx(GM,{initialProps:r,children:i.jsx(rD,{children:i.jsx(MD,{initialProps:r,children:i.jsx(fD,{initialProps:r,children:i.jsx(pD,{initialProps:r,children:i.jsx(SD,{children:i.jsx(LD,{children:t})})})})})})})}function s6(e){return i.jsx(n6,he({},e,{children:i.jsx(r6,{initialProps:e})}))}function tv({className:e,classNames:t,showOutsideDays:r=!0,...n}){return i.jsx(s6,{showOutsideDays:r,className:_("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:_(Ol({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:_(Ol({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>i.jsx(vO,{className:"h-4 w-4"}),IconRight:({...s})=>i.jsx(yO,{className:"h-4 w-4"})},...n})}tv.displayName="Calendar";var Jd="Popover",[MN,AU]=hr(Jd,[xi]),sc=xi(),[a6,ra]=MN(Jd),DN=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=e,l=sc(t),c=p.useRef(null),[u,d]=p.useState(!1),[f,h]=Ma({prop:n,defaultProp:s??!1,onChange:a,caller:Jd});return i.jsx(R1,{...l,children:i.jsx(a6,{scope:t,contentId:Aa(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:o,children:r})})};DN.displayName=Jd;var FN="PopoverAnchor",o6=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=ra(FN,r),a=sc(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return p.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(Nd,{...a,...n,ref:t})});o6.displayName=FN;var UN="PopoverTrigger",zN=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=ra(UN,r),a=sc(r),o=Ce(t,s.triggerRef),l=i.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":GN(s.open),...n,ref:o,onClick:ue(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(Nd,{asChild:!0,...a,children:l})});zN.displayName=UN;var rv="PopoverPortal",[i6,l6]=MN(rv,{forceMount:void 0}),VN=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,a=ra(rv,t);return i.jsx(i6,{scope:t,forceMount:r,children:i.jsx(mr,{present:r||a.open,children:i.jsx(ql,{asChild:!0,container:s,children:n})})})};VN.displayName=rv;var di="PopoverContent",BN=p.forwardRef((e,t)=>{const r=l6(di,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,a=ra(di,e.__scopePopover);return i.jsx(mr,{present:n||a.open,children:a.modal?i.jsx(u6,{...s,ref:t}):i.jsx(d6,{...s,ref:t})})});BN.displayName=di;var c6=La("PopoverContent.RemoveScroll"),u6=p.forwardRef((e,t)=>{const r=ra(di,e.__scopePopover),n=p.useRef(null),s=Ce(t,n),a=p.useRef(!1);return p.useEffect(()=>{const o=n.current;if(o)return Cg(o)},[]),i.jsx(Hd,{as:c6,allowPinchZoom:!0,children:i.jsx(WN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ue(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),d6=p.forwardRef((e,t)=>{const r=ra(di,e.__scopePopover),n=p.useRef(!1),s=p.useRef(!1);return i.jsx(WN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),WN=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=ra(di,r),m=sc(r);return Sg(),i.jsx(Bd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(gi,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(tg,{"data-state":GN(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),HN="PopoverClose",f6=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=ra(HN,r);return i.jsx(fe.button,{type:"button",...n,ref:t,onClick:ue(e.onClick,()=>s.onOpenChange(!1))})});f6.displayName=HN;var h6="PopoverArrow",m6=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=sc(r);return i.jsx(rg,{...s,...n,ref:t})});m6.displayName=h6;function GN(e){return e?"open":"closed"}var p6=DN,g6=zN,v6=VN,qN=BN;const KN=p6,YN=g6,nv=p.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>i.jsx(v6,{children:i.jsx(qN,{ref:s,align:t,sideOffset:r,className:_("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));nv.displayName=qN.displayName;const Ci=sC,y6=aC,QN=p.forwardRef(({className:e,...t},r)=>i.jsx(kg,{ref:r,className:_("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));QN.displayName=kg.displayName;const Qa=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(y6,{children:[i.jsx(QN,{}),i.jsxs(Ag,{ref:n,className:_("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(Og,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Vn,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qa.displayName=Ag.displayName;const Ja=({className:e,...t})=>i.jsx("div",{className:_("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ja.displayName="DialogHeader";const Za=p.forwardRef(({className:e,...t},r)=>i.jsx(Tg,{ref:r,className:_("text-lg font-semibold leading-none tracking-tight",e),...t}));Za.displayName=Tg.displayName;const x6=p.forwardRef(({className:e,...t},r)=>i.jsx(Pg,{ref:r,className:_("text-sm text-muted-foreground",e),...t}));x6.displayName=Pg.displayName;const w6=gN({pacienteName:Ss().min(2,"Nome deve ter pelo menos 2 caracteres"),celular:Ss().min(10,"Celular deve ter pelo menos 10 dgitos"),instagram:Ss().optional(),cidade:vN(["Canarana","Souto Soares","Joo Dourado","Amrica Dourada"]),dataAgendamento:pN({required_error:"Data de agendamento  obrigatria"}),tipoExame:Ss().min(1,"Tipo de exame  obrigatrio"),observacoes:Ss().optional()}),b6=({isOpen:e,onClose:t,onSubmit:r,isDarkMode:n})=>{const{register:s,handleSubmit:a,setValue:o,watch:l,formState:{errors:c},reset:u}=cN({resolver:dN(w6),defaultValues:{tipoExame:"Exame de Vista"}}),d=l("dataAgendamento"),f=m=>{r({name:m.pacienteName,phone:m.celular,instagram:m.instagram,city:m.cidade,appointmentDate:m.dataAgendamento.toISOString().split("T")[0]}),u(),t()},h=m=>{const w=m.replace(/\D/g,"");return w.length<=11?w.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):m};return i.jsx(Ci,{open:e,onOpenChange:t,children:i.jsxs(Qa,{className:_("sm:max-w-md"),style:{backgroundColor:n?"#1a1a1a":"#ffffff",borderColor:n?"#404040":"#e5e7eb"},children:[i.jsx(Ja,{children:i.jsx(Za,{className:_("text-xl font-semibold",n?"text-white":"text-gray-900"),children:"Novo Exame"})}),i.jsxs("form",{onSubmit:a(f),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{htmlFor:"pacienteName",className:_(n?"text-gray-200":"text-gray-700"),children:"Nome do Paciente"}),i.jsx(Fe,{id:"pacienteName",...s("pacienteName"),style:{backgroundColor:n?"#0f0f0f":"#ffffff",borderColor:n?"#404040":"#d1d5db",color:n?"#ffffff":"#111827"}}),c.pacienteName&&i.jsx("p",{className:"text-sm",style:{color:"#b5103c"},children:c.pacienteName.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{htmlFor:"celular",className:_(n?"text-gray-200":"text-gray-700"),children:"Celular"}),i.jsx(Fe,{id:"celular",...s("celular"),onChange:m=>{const w=h(m.target.value);m.target.value=w,s("celular").onChange(m)},placeholder:"(77) 99999-9999",style:{backgroundColor:n?"#0f0f0f":"#ffffff",borderColor:n?"#404040":"#d1d5db",color:n?"#ffffff":"#111827"}}),c.celular&&i.jsx("p",{className:"text-sm",style:{color:"#b5103c"},children:c.celular.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{htmlFor:"instagram",className:_(n?"text-gray-200":"text-gray-700"),children:"Instagram (Opcional)"}),i.jsx(Fe,{id:"instagram",...s("instagram"),placeholder:"@nomedeusuario",style:{backgroundColor:n?"#0f0f0f":"#ffffff",borderColor:n?"#404040":"#d1d5db",color:n?"#ffffff":"#111827"}}),c.instagram&&i.jsx("p",{className:"text-sm",style:{color:"#b5103c"},children:c.instagram.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{htmlFor:"cidade",className:_(n?"text-gray-200":"text-gray-700"),children:"Cidade"}),i.jsxs("select",{...s("cidade"),className:"w-full rounded-md border px-3 py-2 text-sm",style:{backgroundColor:n?"#0f0f0f":"#ffffff",borderColor:n?"#404040":"#d1d5db",color:n?"#ffffff":"#111827"},children:[i.jsx("option",{value:"",children:"Selecione uma cidade"}),i.jsx("option",{value:"Canarana",children:"Canarana"}),i.jsx("option",{value:"Souto Soares",children:"Souto Soares"}),i.jsx("option",{value:"Joo Dourado",children:"Joo Dourado"}),i.jsx("option",{value:"Amrica Dourada",children:"Amrica Dourada"})]}),c.cidade&&i.jsx("p",{className:"text-sm",style:{color:"#b5103c"},children:c.cidade.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{className:_(n?"text-gray-200":"text-gray-700"),children:"Data de Agendamento"}),i.jsxs(KN,{children:[i.jsx(YN,{asChild:!0,children:i.jsxs(K,{variant:"outline",className:_("w-full justify-start text-left font-normal",!d&&"text-muted-foreground"),style:{backgroundColor:n?"#0f0f0f":"#ffffff",borderColor:n?"#404040":"#d1d5db",color:n?"#ffffff":"#111827"},children:[i.jsx(Ga,{className:"mr-2 h-4 w-4"}),d?ns(d,"dd/MM/yyyy"):"Selecione uma data"]})}),i.jsx(nv,{className:"w-auto p-0",align:"start",children:i.jsx(tv,{mode:"single",selected:d,onSelect:m=>o("dataAgendamento",m),initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),c.dataAgendamento&&i.jsx("p",{className:"text-sm",style:{color:"#b5103c"},children:c.dataAgendamento.message})]}),i.jsx("input",{type:"hidden",...s("tipoExame")}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{htmlFor:"observacoes",className:_(n?"text-gray-200":"text-gray-700"),children:"Observaes (Opcional)"}),i.jsx("textarea",{id:"observacoes",...s("observacoes"),rows:3,className:"w-full rounded-md border px-3 py-2 text-sm resize-none",style:{backgroundColor:n?"#0f0f0f":"#ffffff",borderColor:n?"#404040":"#d1d5db",color:n?"#ffffff":"#111827"}})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(K,{type:"button",variant:"outline",onClick:t,style:{backgroundColor:"transparent",borderColor:n?"#404040":"#d1d5db",color:n?"#ffffff":"#374151"},children:"Cancelar"}),i.jsx(K,{type:"submit",style:{backgroundColor:"#b5103c",color:"#ffffff"},className:"hover:opacity-90",children:"Salvar Exame"})]})]})]})})},_6=gN({pacienteName:Ss().min(2,"Nome deve ter pelo menos 2 caracteres"),celular:Ss().min(10,"Celular deve ter pelo menos 10 dgitos"),instagram:Ss().optional(),cidade:vN(["Canarana","Souto Soares","Joo Dourado","Amrica Dourada"]),dataAgendamento:pN({required_error:"Data de agendamento  obrigatria"})}),S6=({isOpen:e,onClose:t,onSubmit:r,exam:n,isDarkMode:s})=>{const{register:a,handleSubmit:o,setValue:l,watch:c,formState:{errors:u},reset:d}=cN({resolver:dN(_6)}),f=c("dataAgendamento");p.useEffect(()=>{n&&(l("pacienteName",n.name),l("celular",n.phone),l("instagram",n.instagram),l("cidade",n.city),l("dataAgendamento",new Date(n.appointmentDate)))},[n,l]);const h=w=>{n&&(r(n.id,{name:w.pacienteName,phone:w.celular,instagram:w.instagram,city:w.cidade,appointmentDate:w.dataAgendamento.toISOString().split("T")[0]}),t())},m=w=>{const v=w.replace(/\D/g,"");return v.length<=11?v.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):w};return n?i.jsx(Ci,{open:e,onOpenChange:t,children:i.jsxs(Qa,{className:_("sm:max-w-md"),style:{backgroundColor:s?"#1a1a1a":"#ffffff",borderColor:s?"#404040":"#e5e7eb"},children:[i.jsx(Ja,{children:i.jsx(Za,{className:_("text-xl font-semibold",s?"text-white":"text-gray-900"),children:"Editar Exame"})}),i.jsxs("form",{onSubmit:o(h),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{htmlFor:"pacienteName",className:_(s?"text-gray-200":"text-gray-700"),children:"Nome do Paciente"}),i.jsx(Fe,{id:"pacienteName",...a("pacienteName"),style:{backgroundColor:s?"#0f0f0f":"#ffffff",borderColor:s?"#404040":"#d1d5db",color:s?"#ffffff":"#111827"}}),u.pacienteName&&i.jsx("p",{className:"text-sm",style:{color:"#b5103c"},children:u.pacienteName.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{htmlFor:"celular",className:_(s?"text-gray-200":"text-gray-700"),children:"Celular"}),i.jsx(Fe,{id:"celular",...a("celular"),onChange:w=>{const v=m(w.target.value);w.target.value=v,a("celular").onChange(w)},placeholder:"(77) 99999-9999",style:{backgroundColor:s?"#0f0f0f":"#ffffff",borderColor:s?"#404040":"#d1d5db",color:s?"#ffffff":"#111827"}}),u.celular&&i.jsx("p",{className:"text-sm",style:{color:"#b5103c"},children:u.celular.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{htmlFor:"instagram",className:_(s?"text-gray-200":"text-gray-700"),children:"Instagram (Opcional)"}),i.jsx(Fe,{id:"instagram",...a("instagram"),placeholder:"@nomedeusuario",style:{backgroundColor:s?"#0f0f0f":"#ffffff",borderColor:s?"#404040":"#d1d5db",color:s?"#ffffff":"#111827"}}),u.instagram&&i.jsx("p",{className:"text-sm",style:{color:"#b5103c"},children:u.instagram.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{htmlFor:"cidade",className:_(s?"text-gray-200":"text-gray-700"),children:"Cidade"}),i.jsxs("select",{...a("cidade"),className:"w-full rounded-md border px-3 py-2 text-sm",style:{backgroundColor:s?"#0f0f0f":"#ffffff",borderColor:s?"#404040":"#d1d5db",color:s?"#ffffff":"#111827"},children:[i.jsx("option",{value:"Canarana",children:"Canarana"}),i.jsx("option",{value:"Souto Soares",children:"Souto Soares"}),i.jsx("option",{value:"Joo Dourado",children:"Joo Dourado"}),i.jsx("option",{value:"Amrica Dourada",children:"Amrica Dourada"})]}),u.cidade&&i.jsx("p",{className:"text-sm",style:{color:"#b5103c"},children:u.cidade.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{className:_(s?"text-gray-200":"text-gray-700"),children:"Data de Agendamento"}),i.jsxs(KN,{children:[i.jsx(YN,{asChild:!0,children:i.jsxs(K,{variant:"outline",className:_("w-full justify-start text-left font-normal",!f&&"text-muted-foreground"),style:{backgroundColor:s?"#0f0f0f":"#ffffff",borderColor:s?"#404040":"#d1d5db",color:s?"#ffffff":"#111827"},children:[i.jsx(Ga,{className:"mr-2 h-4 w-4"}),f?ns(f,"dd/MM/yyyy"):"Selecione uma data"]})}),i.jsx(nv,{className:"w-auto p-0",align:"start",children:i.jsx(tv,{mode:"single",selected:f,onSelect:w=>l("dataAgendamento",w),initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),u.dataAgendamento&&i.jsx("p",{className:"text-sm",style:{color:"#b5103c"},children:u.dataAgendamento.message})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(K,{type:"button",variant:"outline",onClick:t,style:{backgroundColor:"transparent",borderColor:s?"#404040":"#d1d5db",color:s?"#ffffff":"#374151"},children:"Cancelar"}),i.jsx(K,{type:"submit",style:{backgroundColor:"#b5103c",color:"#ffffff"},className:"hover:opacity-90",children:"Salvar Alteraes"})]})]})]})}):null},C6=({isDarkMode:e,searchTerm:t,setSearchTerm:r,selectedCity:n,setSelectedCity:s,showThisWeek:a,setShowThisWeek:o,isMultiSelectMode:l,toggleMultiSelect:c,selectedExams:u,deleteSelectedExams:d,handleAddExam:f,cities:h})=>i.jsxs("div",{className:"p-4 border-b",style:{borderColor:e?"#404040":"#e5e7eb"},children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[i.jsxs(K,{onClick:()=>o(!a),variant:a?"default":"outline",className:"flex items-center gap-2",style:{backgroundColor:a?"#b5103c":"transparent",borderColor:a?"#b5103c":e?"#404040":"#d1d5db",color:a||e?"#ffffff":"#374151"},children:[i.jsx(gO,{size:16,className:"text-[#b5103c]"}),a?"Mostrar Todos":"Exames da Semana"]}),i.jsxs(K,{onClick:c,variant:l?"default":"outline",className:"flex items-center gap-2",style:{backgroundColor:l?"#b5103c":"transparent",borderColor:l?"#b5103c":e?"#404040":"#d1d5db",color:l||e?"#ffffff":"#374151"},children:[i.jsx(DO,{size:16,className:"text-[#b5103c]"}),l?"Cancelar Seleo":"Seleo Mltipla"]}),l&&u.length>0&&i.jsxs(K,{onClick:d,variant:"outline",className:"flex items-center gap-2 text-red-500 border-red-500 hover:bg-red-50",children:[i.jsx(Id,{size:16}),"Excluir (",u.length,")"]}),i.jsxs(K,{onClick:f,className:"flex items-center gap-2 bg-[#b5103c] hover:bg-[#9d0e35] text-white",children:[i.jsx(Ql,{size:16}),"Adicionar Exame"]})]}),i.jsxs("div",{className:"md:hidden space-y-3",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"flex-1",children:i.jsx(Fe,{placeholder:"Buscar por nome, telefone ou Instagram...",value:t,onChange:m=>r(m.target.value),className:_("w-full",e?"bg-[#1a1a1a] border-[#404040] text-white placeholder:text-gray-400":"bg-white border-gray-200")})}),i.jsx(K,{variant:"outline",size:"icon",className:"shrink-0",style:{borderColor:e?"#404040":"#d1d5db",color:e?"#ffffff":"#374151"},children:i.jsx(SO,{size:16,className:"text-[#b5103c]"})})]}),i.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1",children:[i.jsx(K,{variant:n==="all"?"default":"outline",size:"sm",onClick:()=>s("all"),className:"whitespace-nowrap",style:{backgroundColor:n==="all"?"#b5103c":"transparent",borderColor:n==="all"?"#b5103c":e?"#404040":"#d1d5db",color:n==="all"||e?"#ffffff":"#374151"},children:"Todas"}),h.map(m=>i.jsx(K,{variant:n===m?"default":"outline",size:"sm",onClick:()=>s(m),className:"whitespace-nowrap",style:{backgroundColor:n===m?"#b5103c":"transparent",borderColor:n===m?"#b5103c":e?"#404040":"#d1d5db",color:n===m||e?"#ffffff":"#374151"},children:m},m))]})]}),i.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(Od,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#b5103c]"}),i.jsx(Fe,{placeholder:"Buscar por nome, telefone ou Instagram...",value:t,onChange:m=>r(m.target.value),className:_("pl-10",e?"bg-[#1a1a1a] border-[#404040] text-white placeholder:text-gray-400":"bg-white border-gray-200")})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(K,{variant:n==="all"?"default":"outline",onClick:()=>s("all"),style:{backgroundColor:n==="all"?"#b5103c":"transparent",borderColor:n==="all"?"#b5103c":e?"#404040":"#d1d5db",color:n==="all"||e?"#ffffff":"#374151"},children:"Todas as Cidades"}),h.map(m=>i.jsx(K,{variant:n===m?"default":"outline",onClick:()=>s(m),style:{backgroundColor:n===m?"#b5103c":"transparent",borderColor:n===m?"#b5103c":e?"#404040":"#d1d5db",color:n===m||e?"#ffffff":"#374151"},children:m},m))]})]})]}),N6=({exam:e,isDarkMode:t,isMultiSelectMode:r,isSelected:n,onToggleSelection:s,onEdit:a})=>i.jsx(me,{className:_("border transition-all duration-200 hover:shadow-md",t?"bg-[#1a1a1a] border-[#404040]":"bg-white border-gray-200",n&&"ring-2 ring-[#b5103c]"),children:i.jsxs(pe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[r&&i.jsx(qs,{checked:n,onCheckedChange:s}),i.jsx(fg,{size:16,className:"text-[#b5103c]"}),i.jsx("span",{className:_("font-semibold",t?"text-white":"text-gray-900"),children:e.name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(tr,{variant:"secondary",className:"text-xs",children:["#",e.id.slice(0,8)]}),i.jsx(K,{size:"sm",variant:"outline",onClick:a,className:"p-1 h-8 w-8",children:i.jsx(Rd,{size:14})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(j_,{size:14,className:"text-gray-400"}),i.jsx("span",{className:_(t?"text-gray-200":"text-gray-600"),children:e.phone})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(NO,{size:14,className:"text-gray-400"}),i.jsx("span",{className:_(t?"text-gray-200":"text-gray-600"),children:e.instagram})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(TO,{size:14,className:"text-gray-400"}),i.jsx("span",{className:_(t?"text-gray-200":"text-gray-600"),children:e.city})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Ga,{size:14,className:"text-gray-400"}),i.jsx("span",{className:_(t?"text-gray-200":"text-gray-600"),children:new Date(e.appointmentDate).toLocaleDateString("pt-BR")})]})]})]})}),E6=({exam:e,isDarkMode:t,isMultiSelectMode:r,isSelected:n,onToggleSelection:s,onEdit:a})=>i.jsxs("tr",{className:_(n&&"ring-2 ring-[#b5103c]",t?"bg-[#1a1a1a] hover:bg-[#2a2a2a]":"bg-white hover:bg-gray-100"),children:[r&&i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx(qs,{checked:n,onCheckedChange:s})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:_("text-sm",t?"text-gray-200":"text-gray-500"),children:["#",e.id.slice(0,8)]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:_("text-sm font-medium",t?"text-white":"text-gray-900"),children:e.name})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:_("text-sm",t?"text-gray-200":"text-gray-500"),children:e.phone})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:_("text-sm",t?"text-gray-200":"text-gray-500"),children:e.instagram})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:_("text-sm",t?"text-gray-200":"text-gray-500"),children:new Date(e.appointmentDate).toLocaleDateString("pt-BR")})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:_("text-sm",t?"text-gray-200":"text-gray-500"),children:e.city})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs(K,{size:"sm",variant:"outline",onClick:a,className:"flex items-center gap-1",children:[i.jsx(Rd,{size:14}),"Editar"]})})]}),j6=({isDarkMode:e,selectedCount:t,totalCount:r,onSelectAll:n})=>i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg",style:{backgroundColor:e?"#1a1a1a":"#f3f4f6",borderColor:e?"#404040":"#d1d5db"},children:[i.jsx(qs,{checked:t===r&&r>0,onCheckedChange:n}),i.jsxs("span",{className:_("text-sm font-medium",e?"text-white":"text-gray-900"),children:["Selecionar todos (",r,")"]})]}),k6=({isDarkMode:e})=>{const{exams:t,loading:r,addExam:n,deleteExams:s,updateExam:a}=XC(),[o,l]=p.useState(""),[c,u]=p.useState("all"),[d,f]=p.useState(!1),[h,m]=p.useState([]),[w,v]=p.useState(!1),[y,x]=p.useState(!1),[g,b]=p.useState(!1),[S,C]=p.useState(null),j=["Canarana","Souto Soares","Joo Dourado","Amrica Dourada"],A=()=>{const T=new Date,N=new Date(T);N.setDate(T.getDate()-T.getDay());const $=new Date(N);return $.setDate(N.getDate()+6),{startOfWeek:N,endOfWeek:$}},E=t.filter(T=>{const N=new RegExp(o,"i"),$=c==="all"||T.city===c,W=N.test(T.name)||N.test(T.phone)||N.test(T.instagram||"");if(d){const{startOfWeek:oe,endOfWeek:ie}=A(),M=new Date(T.appointmentDate),z=M>=oe&&M<=ie;return W&&$&&z}return W&&$}),O=()=>{x(!0)},I=async T=>{try{await n({name:T.name,phone:T.phone,instagram:T.instagram||null,city:T.city,appointmentDate:T.appointmentDate,status:"agendado",examType:"Exame de Vista",observations:null}),console.log("Novo exame adicionado:",T)}catch(N){console.error("Erro ao adicionar exame:",N)}},P=T=>{C(T),b(!0)},R=async(T,N)=>{try{await a(T,N),console.log("Exame atualizado:",T,N),b(!1),C(null)}catch($){console.error("Erro ao atualizar exame:",$)}},V=()=>{v(!w),m([])},D=T=>{m(N=>N.includes(T)?N.filter($=>$!==T):[...N,T])},J=()=>{h.length===E.length?m([]):m(E.map(T=>T.id))},G=async()=>{try{await s(h),m([]),v(!1)}catch(T){console.error("Erro ao excluir exames:",T)}};return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:e?"#111112":"#f9fafb"},children:i.jsx("div",{className:"text-lg",children:"Carregando exames..."})}):i.jsxs("div",{className:"h-screen flex flex-col",style:{backgroundColor:e?"#111112":"#f9fafb"},children:[i.jsx(C6,{isDarkMode:e,searchTerm:o,setSearchTerm:l,selectedCity:c,setSelectedCity:u,showThisWeek:d,setShowThisWeek:f,isMultiSelectMode:w,toggleMultiSelect:V,selectedExams:h,deleteSelectedExams:G,handleAddExam:O,cities:j}),i.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[i.jsxs("div",{className:"md:hidden space-y-3",children:[w&&i.jsx(j6,{isDarkMode:e,selectedCount:h.length,totalCount:E.length,onSelectAll:J}),E.map(T=>i.jsx(N6,{exam:T,isDarkMode:e,isMultiSelectMode:w,isSelected:h.includes(T.id),onToggleSelection:()=>D(T.id),onEdit:()=>P(T)},T.id))]}),i.jsx("div",{className:"hidden md:block",children:i.jsxs(me,{className:_("border",e?"bg-[#1a1a1a] border-[#404040]":"bg-white border-gray-200"),children:[i.jsx(at,{className:"py-4 px-6",children:i.jsxs(ot,{className:_("text-lg font-semibold",e?"text-white":"text-gray-900"),children:["Lista de Exames de Vista ",d&&"- Esta Semana"," (",E.length," exames)"]})}),i.jsx(pe,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:e?"#404040":"#e5e7eb"},children:[i.jsx("thead",{className:e?"bg-[#2a2a2a] text-white":"bg-gray-50 text-gray-700",children:i.jsxs("tr",{children:[w&&i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:i.jsx(qs,{checked:h.length===E.length&&E.length>0,onCheckedChange:J})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"ID"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Nome"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Celular"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Instagram"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Data do Agendamento"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Cidade"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Aes"})]})}),i.jsx("tbody",{className:"divide-y",style:{borderColor:e?"#404040":"#e5e7eb"},children:E.map(T=>i.jsx(E6,{exam:T,isDarkMode:e,isMultiSelectMode:w,isSelected:h.includes(T.id),onToggleSelection:()=>D(T.id),onEdit:()=>P(T)},T.id))})]})})})]})})]}),i.jsx(b6,{isOpen:y,onClose:()=>x(!1),onSubmit:I,isDarkMode:e}),i.jsx(S6,{isOpen:g,onClose:()=>{b(!1),C(null)},onSubmit:R,exam:S,isDarkMode:e})]})},A6=({isDarkMode:e})=>i.jsxs("div",{className:_("h-full flex flex-col",e?"bg-[#212121]":"bg-gray-50"),children:[i.jsx("div",{className:_("p-6",e?"bg-[#212121]":"bg-gray-50"),children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:_("p-3 rounded-full",e?"bg-[#27272a]":"bg-[#b5103c]/10"),children:i.jsx(Ga,{size:32,className:"text-[#b5103c]",strokeWidth:1.5})}),i.jsxs("div",{children:[i.jsx("h1",{className:_("text-3xl font-bold",e?"text-white":"text-gray-900"),children:"Exames de Vista"}),i.jsx("p",{className:_("text-lg",e?"text-[#a1a1aa]":"text-gray-600"),children:"Gerencie agendamentos e consultas"})]})]})}),i.jsx("div",{className:"flex-1",children:i.jsx(k6,{isDarkMode:e})})]});class Eo{static async getProviders(){console.log(" [AI_PROVIDER_SERVICE] Getting providers with direct query");const{data:t,error:r}=await ye.from("ai_providers").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(r)throw console.error(" [AI_PROVIDER_SERVICE] Error fetching AI providers:",r),new Error("Erro ao carregar provedores de IA");return console.log(` [AI_PROVIDER_SERVICE] Found ${(t==null?void 0:t.length)||0} providers`),(t||[]).map(n=>({...n,provider_type:n.provider_type,advanced_settings:n.advanced_settings||{},created_at:n.created_at||new Date().toISOString(),updated_at:n.updated_at||new Date().toISOString(),is_active:n.is_active??!0,api_key:n.api_key||"",base_url:n.base_url||"",default_model:n.default_model||"",user_id:n.user_id||""}))}static async getActiveProviders(){return this.getProviders()}static async createProvider(t,r){try{console.log(" [AI_PROVIDER_SERVICE] Creating provider with custom user ID:",r);const n={name:t.name,provider_type:t.provider_type,api_key:t.api_key,base_url:t.base_url,default_model:t.default_model,is_active:t.is_active,advanced_settings:t.advanced_settings||{},user_id:r||null},{error:s}=await ye.from("ai_providers").insert(n);return s?(console.error(" [AI_PROVIDER_SERVICE] Error creating AI provider:",s),{success:!1,error:s.message,message:s.message}):(console.log(" [AI_PROVIDER_SERVICE] Provider created successfully"),{success:!0,message:"Provedor criado com sucesso"})}catch(n){return console.error(" [AI_PROVIDER_SERVICE] Unexpected error:",n),{success:!1,error:n instanceof Error?n.message:"Erro desconhecido",message:n instanceof Error?n.message:"Erro desconhecido"}}}static async updateProvider(t,r,n){try{console.log(" [AI_PROVIDER_SERVICE] Updating provider:",t,"for user:",n);const s={name:r.name,provider_type:r.provider_type,api_key:r.api_key,base_url:r.base_url,default_model:r.default_model,is_active:r.is_active,advanced_settings:r.advanced_settings||{}};let a=ye.from("ai_providers").update(s).eq("id",t);n&&(a=a.eq("user_id",n));const{error:o}=await a;return o?(console.error(" [AI_PROVIDER_SERVICE] Error updating AI provider:",o),{success:!1,error:o.message,message:o.message}):(console.log(" [AI_PROVIDER_SERVICE] Provider updated successfully"),{success:!0,message:"Provedor atualizado com sucesso"})}catch(s){return console.error(" [AI_PROVIDER_SERVICE] Unexpected error:",s),{success:!1,error:s instanceof Error?s.message:"Erro desconhecido",message:s instanceof Error?s.message:"Erro desconhecido"}}}static async deleteProvider(t,r){console.log(" [AI_PROVIDER_SERVICE] Deleting provider:",t,"for user:",r);let n=ye.from("ai_providers").delete().eq("id",t);r&&(n=n.eq("user_id",r));const{error:s}=await n;if(s)throw console.error(" [AI_PROVIDER_SERVICE] Error deleting AI provider:",s),new Error("Erro ao excluir provedor");console.log(" [AI_PROVIDER_SERVICE] Provider deleted successfully")}static async testProvider(t){return console.log(" [AI_PROVIDER_SERVICE] Testing provider:",t),new Promise(r=>{setTimeout(()=>{r({success:!0,message:"Provedor testado com sucesso"})},1e3)})}static getProviderTypeLabel(t){return{openai:"OpenAI",anthropic:"Anthropic",google:"Google",custom:"Personalizado"}[t]||t}}class wx{static async getReports(){try{const{data:t,error:r}=await ye.from("report_history").select(`
          *,
          ai_providers(name)
        `).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching reports:",r),r;return(t||[]).map(n=>{var s,a;return{id:n.id,title:n.prompt||"Relatrio",prompt:n.prompt,generated_at:n.created_at,created_at:n.created_at,provider_used:((s=n.ai_providers)==null?void 0:s.name)||"Unknown",provider_id:n.provider_id||"",provider_name:((a=n.ai_providers)==null?void 0:a.name)||"Unknown",model_used:n.model_used||"",tokens_used:n.tokens_used||0,generation_time:Number(n.generation_time)||0,metadata:typeof n.report_metadata=="object"?n.report_metadata:{},query:n.prompt,result:{id:n.id,title:n.prompt||"Relatrio",content:n.generated_report,created_at:n.created_at,provider_id:n.provider_id||"",report_content:n.generated_report,report_type:n.report_type,status:"completed"},timestamp:n.created_at,status:"success",report_type:n.report_type,generated_report:n.generated_report}})}catch(t){return console.error("Error in getReports:",t),[]}}static async createReport(t){const{data:r,error:n}=await ye.from("report_history").insert({prompt:t.prompt,report_type:t.report_type,generated_report:t.generated_report,provider_id:t.provider_id,model_used:t.model_used,tokens_used:t.tokens_used||0,generation_time:t.generation_time||0,report_metadata:t.metadata||{}}).select().single();if(n)throw console.error("Error creating report:",n),n;return{id:r.id,title:r.prompt,prompt:r.prompt,generated_at:r.created_at,created_at:r.created_at,provider_used:"Unknown",provider_id:r.provider_id||"",provider_name:"Unknown",model_used:r.model_used||"",tokens_used:r.tokens_used||0,generation_time:Number(r.generation_time)||0,metadata:r.report_metadata||{},query:r.prompt,result:{id:r.id,title:r.prompt,content:r.generated_report,created_at:r.created_at,provider_id:r.provider_id||"",report_content:r.generated_report,report_type:r.report_type,status:"completed"},timestamp:r.created_at,status:"success",report_type:r.report_type,generated_report:r.generated_report}}static async generateReport(t){return await this.createReport({prompt:t.custom_prompt||`Generate ${t.report_type} report`,report_type:t.report_type,generated_report:`Mock report generated for ${t.report_type}`,provider_id:t.provider_id,model_used:"mock-model",tokens_used:100,generation_time:2.5,metadata:{data_source:t.report_type}})}}const T6=({isDarkMode:e,stats:t,providers:r})=>i.jsx("div",{className:"p-6 border-b border-border",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(me,{className:_(e?"bg-card border-border":"bg-white border-gray-200"),children:i.jsxs(pe,{className:"p-3 flex items-center gap-2",children:[i.jsx(vn,{size:16,className:"text-primary"}),i.jsx("span",{className:_("text-sm font-medium",e?"text-card-foreground":"text-gray-900"),children:"Relatrios Gerados"}),i.jsx("p",{className:_("text-lg font-bold ml-auto",e?"text-card-foreground":"text-gray-900"),children:t.totalReports})]})}),i.jsx(me,{className:_(e?"bg-card border-border":"bg-white border-gray-200"),children:i.jsxs(pe,{className:"p-3 flex items-center gap-2",children:[i.jsx(ri,{size:16,className:"text-primary"}),i.jsx("span",{className:_("text-sm font-medium",e?"text-card-foreground":"text-gray-900"),children:"Provedores Ativos"}),i.jsx("p",{className:_("text-lg font-bold ml-auto",e?"text-card-foreground":"text-gray-900"),children:r.filter(n=>n.is_active).length})]})}),i.jsx(me,{className:_(e?"bg-card border-border":"bg-white border-gray-200"),children:i.jsxs(pe,{className:"p-3 flex items-center gap-2",children:[i.jsx(wa,{size:16,className:"text-primary"}),i.jsx("span",{className:_("text-sm font-medium",e?"text-card-foreground":"text-gray-900"),children:"Tempo Mdio (s)"}),i.jsx("p",{className:_("text-lg font-bold ml-auto",e?"text-card-foreground":"text-gray-900"),children:t.averageGenerationTime})]})})]})})});var P6=[" ","Enter","ArrowUp","ArrowDown"],O6=[" ","Enter"],za="Select",[Zd,Xd,R6]=Q1(za),[Ni,TU]=hr(za,[R6,xi]),ef=xi(),[I6,na]=Ni(za),[L6,$6]=Ni(za),JN=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:w}=e,v=ef(t),[y,x]=p.useState(null),[g,b]=p.useState(null),[S,C]=p.useState(!1),j=$C(u),[A,E]=Ma({prop:n,defaultProp:s??!1,onChange:a,caller:za}),[O,I]=Ma({prop:o,defaultProp:l,onChange:c,caller:za}),P=p.useRef(null),R=y?w||!!y.closest("form"):!0,[V,D]=p.useState(new Set),J=Array.from(V).map(G=>G.props.value).join(";");return i.jsx(R1,{...v,children:i.jsxs(I6,{required:m,scope:t,trigger:y,onTriggerChange:x,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:Aa(),value:O,onValueChange:I,open:A,onOpenChange:E,dir:j,triggerPointerDownPosRef:P,disabled:h,children:[i.jsx(Zd.Provider,{scope:t,children:i.jsx(L6,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(G=>{D(T=>new Set(T).add(G))},[]),onNativeOptionRemove:p.useCallback(G=>{D(T=>{const N=new Set(T);return N.delete(G),N})},[]),children:r})}),R?i.jsxs(bE,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:G=>I(G.target.value),disabled:h,form:w,children:[O===void 0?i.jsx("option",{value:""}):null,Array.from(V)]},J):null]})})};JN.displayName=za;var ZN="SelectTrigger",XN=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=ef(r),o=na(ZN,r),l=o.disabled||n,c=Ce(t,o.onTriggerChange),u=Xd(r),d=p.useRef("touch"),[f,h,m]=SE(v=>{const y=u().filter(b=>!b.disabled),x=y.find(b=>b.value===o.value),g=CE(y,v,x);g!==void 0&&o.onValueChange(g.value)}),w=v=>{l||(o.onOpenChange(!0),m()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return i.jsx(Nd,{asChild:!0,...a,children:i.jsx(fe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":_E(o.value)?"":void 0,...s,ref:c,onClick:ue(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&w(v)}),onPointerDown:ue(s.onPointerDown,v=>{d.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:ue(s.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(y&&v.key===" ")&&P6.includes(v.key)&&(w(),v.preventDefault())})})})});XN.displayName=ZN;var eE="SelectValue",tE=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=na(eE,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Ce(t,c.onValueNodeChange);return ct(()=>{u(d)},[u,d]),i.jsx(fe.span,{...l,ref:f,style:{pointerEvents:"none"},children:_E(c.value)?i.jsx(i.Fragment,{children:o}):a})});tE.displayName=eE;var M6="SelectIcon",rE=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(fe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});rE.displayName=M6;var D6="SelectPortal",nE=e=>i.jsx(ql,{asChild:!0,...e});nE.displayName=D6;var Va="SelectContent",sE=p.forwardRef((e,t)=>{const r=na(Va,e.__scopeSelect),[n,s]=p.useState();if(ct(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Ha.createPortal(i.jsx(aE,{scope:e.__scopeSelect,children:i.jsx(Zd.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(oE,{...e,ref:t})});sE.displayName=Va;var Rr=10,[aE,sa]=Ni(Va),F6="SelectContentImpl",U6=La("SelectContent.RemoveScroll"),oE=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:w,hideWhenDetached:v,avoidCollisions:y,...x}=e,g=na(Va,r),[b,S]=p.useState(null),[C,j]=p.useState(null),A=Ce(t,Q=>S(Q)),[E,O]=p.useState(null),[I,P]=p.useState(null),R=Xd(r),[V,D]=p.useState(!1),J=p.useRef(!1);p.useEffect(()=>{if(b)return Cg(b)},[b]),Sg();const G=p.useCallback(Q=>{const[Te,...He]=R().map(Oe=>Oe.ref.current),[Pe]=He.slice(-1),ke=document.activeElement;for(const Oe of Q)if(Oe===ke||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Te&&C&&(C.scrollTop=0),Oe===Pe&&C&&(C.scrollTop=C.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==ke))return},[R,C]),T=p.useCallback(()=>G([E,b]),[G,E,b]);p.useEffect(()=>{V&&T()},[V,T]);const{onOpenChange:N,triggerPointerDownPosRef:$}=g;p.useEffect(()=>{if(b){let Q={x:0,y:0};const Te=Pe=>{var ke,Oe;Q={x:Math.abs(Math.round(Pe.pageX)-(((ke=$.current)==null?void 0:ke.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((Oe=$.current)==null?void 0:Oe.y)??0))}},He=Pe=>{Q.x<=10&&Q.y<=10?Pe.preventDefault():b.contains(Pe.target)||N(!1),document.removeEventListener("pointermove",Te),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",He,{capture:!0})}}},[b,N,$]),p.useEffect(()=>{const Q=()=>N(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[N]);const[W,oe]=SE(Q=>{const Te=R().filter(ke=>!ke.disabled),He=Te.find(ke=>ke.ref.current===document.activeElement),Pe=CE(Te,Q,He);Pe&&setTimeout(()=>Pe.ref.current.focus())}),ie=p.useCallback((Q,Te,He)=>{const Pe=!J.current&&!He;(g.value!==void 0&&g.value===Te||Pe)&&(O(Q),Pe&&(J.current=!0))},[g.value]),M=p.useCallback(()=>b==null?void 0:b.focus(),[b]),z=p.useCallback((Q,Te,He)=>{const Pe=!J.current&&!He;(g.value!==void 0&&g.value===Te||Pe)&&P(Q)},[g.value]),te=n==="popper"?Bm:iE,ge=te===Bm?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:w,hideWhenDetached:v,avoidCollisions:y}:{};return i.jsx(aE,{scope:r,content:b,viewport:C,onViewportChange:j,itemRefCallback:ie,selectedItem:E,onItemLeave:M,itemTextRefCallback:z,focusSelectedItem:T,selectedItemText:I,position:n,isPositioned:V,searchRef:W,children:i.jsx(Hd,{as:U6,allowPinchZoom:!0,children:i.jsx(Bd,{asChild:!0,trapped:g.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:ue(s,Q=>{var Te;(Te=g.trigger)==null||Te.focus({preventScroll:!0}),Q.preventDefault()}),children:i.jsx(gi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:i.jsx(te,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:Q=>Q.preventDefault(),...x,...ge,onPlaced:()=>D(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ue(x.onKeyDown,Q=>{const Te=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!Te&&Q.key.length===1&&oe(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let Pe=R().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const ke=Q.target,Oe=Pe.indexOf(ke);Pe=Pe.slice(Oe+1)}setTimeout(()=>G(Pe)),Q.preventDefault()}})})})})})})});oE.displayName=F6;var z6="SelectItemAlignedPosition",iE=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=na(Va,r),o=sa(Va,r),[l,c]=p.useState(null),[u,d]=p.useState(null),f=Ce(t,A=>d(A)),h=Xd(r),m=p.useRef(!1),w=p.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:x,focusSelectedItem:g}=o,b=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&y&&x){const A=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),O=a.valueNode.getBoundingClientRect(),I=x.getBoundingClientRect();if(a.dir!=="rtl"){const ke=I.left-E.left,Oe=O.left-ke,vt=A.left-Oe,Ot=A.width+vt,Jr=Math.max(Ot,E.width),Zr=window.innerWidth-Rr,En=Im(Oe,[Rr,Math.max(Rr,Zr-Jr)]);l.style.minWidth=Ot+"px",l.style.left=En+"px"}else{const ke=E.right-I.right,Oe=window.innerWidth-O.right-ke,vt=window.innerWidth-A.right-Oe,Ot=A.width+vt,Jr=Math.max(Ot,E.width),Zr=window.innerWidth-Rr,En=Im(Oe,[Rr,Math.max(Rr,Zr-Jr)]);l.style.minWidth=Ot+"px",l.style.right=En+"px"}const P=h(),R=window.innerHeight-Rr*2,V=v.scrollHeight,D=window.getComputedStyle(u),J=parseInt(D.borderTopWidth,10),G=parseInt(D.paddingTop,10),T=parseInt(D.borderBottomWidth,10),N=parseInt(D.paddingBottom,10),$=J+G+V+N+T,W=Math.min(y.offsetHeight*5,$),oe=window.getComputedStyle(v),ie=parseInt(oe.paddingTop,10),M=parseInt(oe.paddingBottom,10),z=A.top+A.height/2-Rr,te=R-z,ge=y.offsetHeight/2,Q=y.offsetTop+ge,Te=J+G+Q,He=$-Te;if(Te<=z){const ke=P.length>0&&y===P[P.length-1].ref.current;l.style.bottom="0px";const Oe=u.clientHeight-v.offsetTop-v.offsetHeight,vt=Math.max(te,ge+(ke?M:0)+Oe+T),Ot=Te+vt;l.style.height=Ot+"px"}else{const ke=P.length>0&&y===P[0].ref.current;l.style.top="0px";const vt=Math.max(z,J+v.offsetTop+(ke?ie:0)+ge)+He;l.style.height=vt+"px",v.scrollTop=Te-z+v.offsetTop}l.style.margin=`${Rr}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,l,u,v,y,x,a.dir,n]);ct(()=>b(),[b]);const[S,C]=p.useState();ct(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const j=p.useCallback(A=>{A&&w.current===!0&&(b(),g==null||g(),w.current=!1)},[b,g]);return i.jsx(B6,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:i.jsx(fe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});iE.displayName=z6;var V6="SelectPopperPosition",Bm=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Rr,...a}=e,o=ef(r);return i.jsx(tg,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bm.displayName=V6;var[B6,sv]=Ni(Va,{}),Wm="SelectViewport",lE=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=sa(Wm,r),o=sv(Wm,r),l=Ce(t,a.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Zd.Slot,{scope:r,children:i.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ue(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const w=window.innerHeight-Rr*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),x=Math.max(v,y);if(x<w){const g=x+m,b=Math.min(w,g),S=g-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});lE.displayName=Wm;var cE="SelectGroup",[W6,H6]=Ni(cE),G6=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Aa();return i.jsx(W6,{scope:r,id:s,children:i.jsx(fe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});G6.displayName=cE;var uE="SelectLabel",dE=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=H6(uE,r);return i.jsx(fe.div,{id:s.id,...n,ref:t})});dE.displayName=uE;var td="SelectItem",[q6,fE]=Ni(td),hE=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=na(td,r),c=sa(td,r),u=l.value===n,[d,f]=p.useState(a??""),[h,m]=p.useState(!1),w=Ce(t,g=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,g,n,s)}),v=Aa(),y=p.useRef("touch"),x=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(q6,{scope:r,value:n,disabled:s,textId:v,isSelected:u,onItemTextChange:p.useCallback(g=>{f(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:i.jsx(Zd.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(fe.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:ue(o.onFocus,()=>m(!0)),onBlur:ue(o.onBlur,()=>m(!1)),onClick:ue(o.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:ue(o.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:ue(o.onPointerDown,g=>{y.current=g.pointerType}),onPointerMove:ue(o.onPointerMove,g=>{var b;y.current=g.pointerType,s?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(o.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ue(o.onKeyDown,g=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&g.key===" "||(O6.includes(g.key)&&x(),g.key===" "&&g.preventDefault())})})})})});hE.displayName=td;var Ki="SelectItemText",mE=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=na(Ki,r),l=sa(Ki,r),c=fE(Ki,r),u=$6(Ki,r),[d,f]=p.useState(null),h=Ce(t,x=>f(x),c.onItemTextChange,x=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,w=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return ct(()=>(v(w),()=>y(w)),[v,y,w]),i.jsxs(i.Fragment,{children:[i.jsx(fe.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ha.createPortal(a.children,o.valueNode):null]})});mE.displayName=Ki;var pE="SelectItemIndicator",gE=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return fE(pE,r).isSelected?i.jsx(fe.span,{"aria-hidden":!0,...n,ref:t}):null});gE.displayName=pE;var Hm="SelectScrollUpButton",vE=p.forwardRef((e,t)=>{const r=sa(Hm,e.__scopeSelect),n=sv(Hm,e.__scopeSelect),[s,a]=p.useState(!1),o=Ce(t,n.onScrollButtonChange);return ct(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(xE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});vE.displayName=Hm;var Gm="SelectScrollDownButton",yE=p.forwardRef((e,t)=>{const r=sa(Gm,e.__scopeSelect),n=sv(Gm,e.__scopeSelect),[s,a]=p.useState(!1),o=Ce(t,n.onScrollButtonChange);return ct(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(xE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});yE.displayName=Gm;var xE=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=sa("SelectScrollButton",r),o=p.useRef(null),l=Xd(r),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),ct(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(fe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ue(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ue(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ue(s.onPointerLeave,()=>{c()})})}),K6="SelectSeparator",wE=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(fe.div,{"aria-hidden":!0,...n,ref:t})});wE.displayName=K6;var qm="SelectArrow",Y6=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ef(r),a=na(qm,r),o=sa(qm,r);return a.open&&o.position==="popper"?i.jsx(rg,{...s,...n,ref:t}):null});Y6.displayName=qm;var Q6="SelectBubbleInput",bE=p.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=p.useRef(null),a=Ce(n,s),o=yg(t);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(fe.select,{...r,style:{...I1,...r.style},ref:a,defaultValue:t})});bE.displayName=Q6;function _E(e){return e===""||e===void 0}function SE(e){const t=pt(e),r=p.useRef(""),n=p.useRef(0),s=p.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function CE(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=J6(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function J6(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Z6=JN,NE=XN,X6=tE,eF=rE,tF=nE,EE=sE,rF=lE,jE=dE,kE=hE,nF=mE,sF=gE,AE=vE,TE=yE,PE=wE;const Qs=Z6,Js=X6,Zn=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(NE,{ref:n,className:_("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(eF,{asChild:!0,children:i.jsx(w_,{className:"h-4 w-4 opacity-50"})})]}));Zn.displayName=NE.displayName;const OE=p.forwardRef(({className:e,...t},r)=>i.jsx(AE,{ref:r,className:_("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(xO,{className:"h-4 w-4"})}));OE.displayName=AE.displayName;const RE=p.forwardRef(({className:e,...t},r)=>i.jsx(TE,{ref:r,className:_("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(w_,{className:"h-4 w-4"})}));RE.displayName=TE.displayName;const Xn=p.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(tF,{children:i.jsxs(EE,{ref:s,className:_("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(OE,{}),i.jsx(rF,{className:_("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(RE,{})]})}));Xn.displayName=EE.displayName;const aF=p.forwardRef(({className:e,...t},r)=>i.jsx(jE,{ref:r,className:_("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));aF.displayName=jE.displayName;const Ft=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(kE,{ref:n,className:_("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(sF,{children:i.jsx(cg,{className:"h-4 w-4"})})}),i.jsx(nF,{children:t})]}));Ft.displayName=kE.displayName;const oF=p.forwardRef(({className:e,...t},r)=>i.jsx(PE,{ref:r,className:_("-mx-1 my-1 h-px bg-muted",e),...t}));oF.displayName=PE.displayName;const iF=({isDarkMode:e,providers:t,selectedProvider:r,setSelectedProvider:n,filters:s,setFilters:a,isGenerating:o,onGenerateReport:l,onClearReport:c,hasReportResult:u})=>i.jsxs(me,{className:_("border shadow-sm",e?"bg-card border-border":"bg-white border-gray-200"),children:[i.jsx(at,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:_("p-2 rounded-lg",e?"bg-accent":"bg-gray-100"),children:i.jsx(ri,{size:18,className:"text-primary",strokeWidth:1.5})}),i.jsxs("div",{children:[i.jsx(ot,{className:_("text-lg",e?"text-card-foreground":"text-gray-900"),children:"Gerador de Relatrios Inteligentes"}),i.jsx(Us,{className:_("text-sm",e?"text-muted-foreground":"text-gray-600"),children:"Descreva o relatrio que deseja gerar com IA"})]})]})}),i.jsxs(pe,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(de,{htmlFor:"ai-provider",className:_("text-sm font-medium",e?"text-muted-foreground":"text-gray-600"),children:"Provedor de IA"}),i.jsxs(Qs,{value:r,onValueChange:n,children:[i.jsx(Zn,{className:_(e?"bg-input-dark border-input-dark text-card-foreground":"bg-white border-gray-200"),children:i.jsx(Js,{placeholder:"Selecione um provedor"})}),i.jsx(Xn,{className:_(e?"bg-card border-border text-card-foreground":"bg-white text-gray-900"),children:t.map(d=>i.jsxs(Ft,{value:String(d.id),children:[d.name," (",Eo.getProviderTypeLabel(d.provider_type),")"]},d.id))})]})]}),i.jsxs("div",{children:[i.jsx(de,{htmlFor:"report-type",className:_("text-sm font-medium",e?"text-muted-foreground":"text-gray-600"),children:"Tipo de Relatrio"}),i.jsxs(Qs,{value:s.report_type,onValueChange:d=>a({...s,report_type:d}),children:[i.jsx(Zn,{className:_(e?"bg-input-dark border-input-dark text-card-foreground":"bg-white border-gray-200"),children:i.jsx(Js,{})}),i.jsxs(Xn,{className:_(e?"bg-card border-border text-card-foreground":"bg-white text-gray-900"),children:[i.jsx(Ft,{value:"conversations",children:"Anlise de Conversas"}),i.jsx(Ft,{value:"channels",children:"Anlise de Canais"}),i.jsx(Ft,{value:"custom",children:"Relatrio Personalizado"})]})]})]}),s.report_type==="custom"&&i.jsxs("div",{children:[i.jsx(de,{htmlFor:"custom-prompt",className:_("text-sm font-medium",e?"text-muted-foreground":"text-gray-600"),children:"Prompt Personalizado"}),i.jsx(Rl,{id:"custom-prompt",value:s.custom_prompt||"",onChange:d=>a({...s,custom_prompt:d.target.value}),placeholder:"Descreva que tipo de anlise voc gostaria...",className:_("min-h-[100px] text-sm",e?"bg-input-dark border-input-dark text-card-foreground placeholder:text-muted-foreground":"bg-white border-gray-300"),rows:4})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(K,{onClick:l,disabled:o||!r,size:"sm",className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground",children:o?i.jsxs(i.Fragment,{children:[i.jsx(jO,{size:14,className:"mr-2 animate-spin"}),"Gerando..."]}):"Gerar Relatrio"}),u&&i.jsx(K,{variant:"outline",size:"sm",onClick:c,className:_(e?"border-border text-muted-foreground hover:bg-accent":""),children:"Limpar"})]})]})]}),lF=({isDarkMode:e,reportResult:t,onPrintReport:r,onDownloadReport:n})=>i.jsxs(me,{className:_("border shadow-sm",e?"bg-card border-border":"bg-white border-gray-200"),children:[i.jsx(at,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:_("p-2 rounded-lg",e?"bg-accent":"bg-gray-100"),children:i.jsx(vn,{size:18,className:"text-primary",strokeWidth:1.5})}),i.jsx("div",{children:i.jsx(ot,{className:_("text-lg",e?"text-card-foreground":"text-gray-900"),children:"Relatrio Gerado"})})]}),t&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>r(t.report_content),className:_(e?"border-border text-muted-foreground hover:bg-accent":""),children:[i.jsx(LO,{size:14,className:"mr-2",strokeWidth:1.5}),"Imprimir"]}),i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>n(t.report_content,t.report_type,t.id),className:_(e?"border-border text-muted-foreground hover:bg-accent":""),children:[i.jsx(Fu,{size:14,className:"mr-2",strokeWidth:1.5}),"Download"]})]})]})}),i.jsx(pe,{children:t?i.jsx("div",{className:_("p-3 rounded-lg border min-h-[200px] max-h-[400px] overflow-auto whitespace-pre-wrap text-sm",e?"bg-input-dark border-input-dark text-card-foreground":"bg-gray-50 border-gray-200 text-gray-800"),children:t.report_content}):i.jsx("div",{className:_("flex items-center justify-center h-[200px] border-2 border-dashed rounded-lg",e?"border-border":"border-gray-300"),children:i.jsxs("div",{className:"text-center",children:[i.jsx(vn,{size:32,className:_("mx-auto mb-2",e?"text-muted-foreground":"text-gray-400")}),i.jsx("p",{className:_("text-sm",e?"text-muted-foreground":"text-gray-500"),children:"O relatrio aparecer aqui"})]})})})]}),cF=({isDarkMode:e,recentReports:t,onViewReport:r,onDownloadReport:n})=>i.jsxs(me,{className:_("border shadow-sm",e?"bg-card border-border":"bg-white border-gray-200"),children:[i.jsx(at,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:_("p-2 rounded-lg",e?"bg-accent":"bg-gray-100"),children:i.jsx(vn,{size:18,className:"text-primary",strokeWidth:1.5})}),i.jsxs("div",{children:[i.jsx(ot,{className:_("text-lg",e?"text-card-foreground":"text-gray-900"),children:"Histrico de Relatrios Recentes"}),i.jsx(Us,{className:_("text-sm",e?"text-muted-foreground":"text-gray-600"),children:"Visualize e gerencie seus relatrios gerados"})]})]})}),i.jsx(pe,{children:t.length===0?i.jsx("div",{className:_("flex items-center justify-center h-[100px] border-2 border-dashed rounded-lg",e?"border-border":"border-gray-300"),children:i.jsx("p",{className:_("text-sm",e?"text-muted-foreground":"text-gray-500"),children:"Nenhum relatrio recente."})}):i.jsx("div",{className:"space-y-3",children:t.map(s=>i.jsxs("div",{className:_("p-3 border rounded-lg flex items-center justify-between",e?"bg-input-dark border-input-dark":"bg-gray-50 border-gray-200"),children:[i.jsxs("div",{children:[i.jsx("p",{className:_("font-medium",e?"text-card-foreground":"text-gray-900"),children:s.prompt}),i.jsxs("p",{className:_("text-xs",e?"text-muted-foreground":"text-gray-600"),children:["Gerado em: ",new Date(s.created_at).toLocaleString()]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>r({...s.result,report_content:s.generated_report,report_type:s.report_type}),className:_(e?"border-border text-muted-foreground hover:bg-accent":""),children:[i.jsx(Yl,{size:14,className:"mr-2"}),"Ver"]}),i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>n(s.generated_report,s.report_type,s.id),className:_(e?"border-border text-muted-foreground hover:bg-accent":""),children:[i.jsx(Fu,{size:14,className:"mr-2"}),"Download"]})]})]},s.id))})})]}),uF=({isDarkMode:e})=>{const{toast:t}=Bt(),[r,n]=p.useState([]),[s,a]=p.useState(""),[o,l]=p.useState({report_type:"conversations"}),[c,u]=p.useState(!1),[d,f]=p.useState(null),[h,m]=p.useState(""),[w,v]=p.useState([]),[y,x]=p.useState(!0),[g,b]=p.useState({totalReports:0,reportsThisMonth:0,averageGenerationTime:0});p.useEffect(()=>{S(),C()},[]);const S=async()=>{try{console.log(" [ReportDashboardEnhanced] Carregando provedores de IA...");const I=await Eo.getProviders();n(I),I.length>0?(a(String(I[0].id)),console.log(" [ReportDashboardEnhanced] Provedores carregados. Primeiro provedor selecionado:",I[0].id)):console.log(" [ReportDashboardEnhanced] Nenhum provedor de IA ativo encontrado.")}catch(I){console.error("Erro ao carregar provedores:",I)}},C=async()=>{try{x(!0);const I=await wx.getReports();v(I);const P=I.length,R=I.filter(D=>{const J=new Date(D.created_at),G=new Date;return J.getMonth()===G.getMonth()&&J.getFullYear()===G.getFullYear()}).length,V=I.length>0?I.reduce((D,J)=>D+(J.generation_time||0),0)/I.length:0;b({totalReports:P,reportsThisMonth:R,averageGenerationTime:V})}catch(I){console.error("Erro ao carregar relatrios recentes:",I)}finally{x(!1)}},j=async()=>{if(!s){m("Selecione um provedor de IA");return}u(!0),m(""),f(null);try{const I=await wx.generateReport({provider_id:s,report_type:o.report_type,data:{},custom_prompt:o.custom_prompt});f(I.result),t({title:"Sucesso",description:"Relatrio gerado com sucesso"}),C()}catch(I){m(I instanceof Error?I.message:"Erro desconhecido"),t({title:"Erro",description:I instanceof Error?I.message:"Erro ao gerar relatrio. Tente novamente.",variant:"destructive"})}finally{u(!1)}},A=(I,P,R)=>{const V=`relatorio_${P}_${R||new Date().toISOString().split("T")[0]}.md`,D=new Blob([I],{type:"text/markdown"}),J=URL.createObjectURL(D),G=document.createElement("a");G.href=J,G.download=V,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(J)},E=I=>{const P=window.open("","_blank");P&&(P.document.write(`
        <html>
          <head>
            <title>Relatrio</title>
            <style>
              body { font-family: sans-serif; margin: 20px; }
              pre { white-space: pre-wrap; word-wrap: break-word; }
            </style>
          </head>
          <body>
            <pre>${I}</pre>
            <script>window.onload = function() { window.print(); window.onafterprint = function() { window.close(); } }<\/script>
          </body>
        </html>
      `),P.document.close())},O=()=>{f(null),m(""),l({report_type:"conversations"}),a(r.length>0?String(r[0].id):"")};return i.jsxs("div",{className:_("h-full flex flex-col",e?"bg-background":"bg-gray-50"),children:[i.jsx("div",{className:"p-6 border-b border-border",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:i.jsx(lg,{size:32,className:"text-primary",strokeWidth:1.5})}),i.jsxs("div",{children:[i.jsx("h1",{className:_("text-3xl font-bold",e?"text-card-foreground":"text-gray-900"),children:"Relatrios Inteligentes"}),i.jsx("p",{className:_("text-lg",e?"text-muted-foreground":"text-gray-600"),children:"Gere insights automticos usando inteligncia artificial"})]})]})})}),i.jsx(T6,{isDarkMode:e,stats:g,providers:r}),i.jsx("div",{className:"flex-1 overflow-auto p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx(iF,{isDarkMode:e,providers:r,selectedProvider:s,setSelectedProvider:a,filters:o,setFilters:l,isGenerating:c,onGenerateReport:j,onClearReport:O,hasReportResult:!!d}),i.jsx(lF,{isDarkMode:e,reportResult:d,onPrintReport:E,onDownloadReport:A})]}),i.jsx(cF,{isDarkMode:e,recentReports:w,onViewReport:f,onDownloadReport:A})]})})]})},dF=()=>{const{theme:e}=a1(),t=e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;return i.jsx("div",{className:"min-h-screen",children:i.jsx(uF,{isDarkMode:t})})},bx=({title:e,description:t,icon:r,onClick:n,isDarkMode:s,badge:a})=>i.jsx(me,{className:_("cursor-pointer transition-all hover:shadow-md hover:scale-[1.02] relative",s?"bg-[#18181b] border-[#3f3f46] hover:bg-[#27272a]":"bg-white border-gray-200 hover:bg-gray-50"),onClick:n,children:i.jsx(pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:_("p-2 rounded-lg flex-shrink-0",s?"bg-[#27272a]":"bg-gray-100"),children:i.jsx(r,{size:20,className:"text-[#b5103c]"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h3",{className:_("font-medium text-sm",s?"text-white":"text-gray-900"),children:e}),a&&i.jsx("span",{className:"bg-[#b5103c] text-white text-xs px-2 py-1 rounded-full",children:a})]}),i.jsx("p",{className:_("text-xs leading-relaxed",s?"text-gray-400":"text-gray-600"),children:t})]})]})})}),fF=({isDarkMode:e,onSectionChange:t,toggleDarkMode:r})=>{const{canManageUsers:n,canAccessAuditHistory:s,canManageTabs:a}=Ya(),{logout:o}=ts(),{toast:l}=Bt(),c=async()=>{try{await o(),l({title:"Logout realizado",description:"Voc foi desconectado com sucesso.",variant:"default"})}catch{l({title:"Erro",description:"Erro ao fazer logout. Tente novamente.",variant:"destructive"})}},u=[{id:"credentials",title:"Alterar Credenciais",description:"Altere sua senha e informaes de login",icon:k_,show:!0},{id:"notifications",title:"Configuraes de Notificao",description:"Configure alertas e notificaes do sistema",icon:y_,show:!0},{id:"users",title:"Gerenciamento de Usurios",description:"Adicione, edite ou remova usurios do sistema",icon:_n,show:n(),badge:"Admin"},{id:"channels",title:"Gerenciar Canais",description:"Ative e desative canais do sistema",icon:S_,show:a(),badge:"Admin"},{id:"audit",title:"Histrico de Auditoria",description:"Visualize logs de atividades e aes do sistema",icon:C_,show:s(),badge:"Admin"},{id:"ai",title:"Configuraes de IA",description:"Configure a integrao com ChatGPT para relatrios",icon:ri,show:n(),badge:"Admin"},{id:"evolution",title:"API Evolution",description:"Configure instncias e envie mensagens via API Evolution",icon:Qn,show:n(),badge:"Admin"},{id:"system",title:"Sistema",description:"Configuraes gerais e preferncias avanadas",icon:yn,show:!0},{id:"backup",title:"Backup e Dados",description:"Gerencie backups automticos e exportao de dados",icon:__,show:n(),badge:"Admin"}],d=[{id:"appearance",title:"Aparncia",description:`Alternar para modo ${e?"claro":"escuro"}`,icon:e?P_:E_,show:!0,onClick:r},{id:"logout",title:"Sair da Conta",description:"Encerre sua sesso atual",icon:Pd,show:!0,onClick:c}],f=u.filter(w=>w.show),h=d.filter(w=>w.show),m=w=>{w.onClick?w.onClick():t(w.id)};return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:f.map(w=>i.jsx(bx,{title:w.title,description:w.description,icon:w.icon,onClick:()=>m(w),isDarkMode:e,badge:w.badge},w.id))}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(w=>i.jsx(bx,{title:w.title,description:w.description,icon:w.icon,onClick:()=>m(w),isDarkMode:e,badge:w.badge},w.id))})]})},av=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!0),s=async()=>{try{n(!0),console.log("Carregando usurios...");const{data:c,error:u}=await ye.from("users").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(u){console.error("Erro ao carregar usurios:",u);return}console.log("Dados recebidos do Supabase:",c);const d=(c||[]).map(f=>({id:f.id,username:f.username,name:f.name,role:f.role,assignedTabs:f.assigned_tabs||[],assignedCities:f.assigned_cities||[],createdAt:f.created_at}));console.log("Usurios formatados:",d),t(d)}catch(c){console.error("Erro ao carregar usurios:",c)}finally{n(!1)}};return p.useEffect(()=>{s()},[]),{users:e,loading:r,createUser:async c=>{try{console.log("Criando usurio:",c);const{data:u,error:d}=await ye.rpc("create_user_with_hash",{p_username:c.username,p_password:c.password,p_name:c.name,p_role:c.role,p_assigned_tabs:c.assignedTabs,p_assigned_cities:c.assignedCities});if(d)throw console.error("Erro ao criar usurio:",d),d;return console.log("Usurio criado com sucesso:",u),await s(),u}catch(u){throw console.error("Erro ao criar usurio:",u),u}},updateUser:async(c,u)=>{try{if(console.log("Atualizando usurio:",c,u),u.password&&u.password.trim()){const{error:d}=await ye.rpc("update_user_with_hash",{p_user_id:c,p_username:u.username||null,p_password:u.password,p_name:u.name||null,p_role:u.role||null,p_assigned_tabs:u.assignedTabs||null,p_assigned_cities:u.assignedCities||null});if(d)throw console.error("Erro ao atualizar usurio com senha:",d),d}else{const d={};u.username&&(d.username=u.username),u.name&&(d.name=u.name),u.role&&(d.role=u.role),u.assignedTabs&&(d.assigned_tabs=u.assignedTabs),u.assignedCities&&(d.assigned_cities=u.assignedCities);const{error:f}=await ye.from("users").update(d).eq("id",c);if(f)throw console.error("Erro ao atualizar usurio:",f),f}console.log("Usurio atualizado com sucesso"),await s()}catch(d){throw console.error("Erro ao atualizar usurio:",d),d}},deleteUser:async c=>{try{console.log("Excluindo usurio:",c);const{error:u}=await ye.from("users").update({is_active:!1}).eq("id",c);if(u)throw console.error("Erro ao excluir usurio:",u),u;console.log("Usurio excludo com sucesso"),await s()}catch(u){throw console.error("Erro ao excluir usurio:",u),u}},refreshUsers:s}},IE=["dashboard","mensagens","exames","configuracoes","relatorios"],iu=["Canarana","Souto Soares","Joo Dourado","Amrica Dourada"],ch={admin:"Administrador",salesperson:"Vendedor",manager_external:"Gerente Externo",manager_store:"Gerente de Loja",manager:"Gerente"},hF={admin:"Acesso total ao sistema",salesperson:"Acesso limitado s vendas",manager_external:"Gerncia externa com acesso limitado",manager_store:"Gerncia de loja com acesso especfico",manager:"Gerncia geral"},uh={admin:IE,salesperson:["dashboard","mensagens","exames"],manager_external:["dashboard","mensagens","exames","relatorios"],manager_store:["dashboard","mensagens","exames","relatorios"],manager:["dashboard","mensagens","exames","relatorios","configuracoes"]},dh={admin:iu,salesperson:[],manager_external:iu,manager_store:[],manager:iu},mF=({isDarkMode:e})=>{const{users:t,loading:r,createUser:n,updateUser:s,deleteUser:a}=av(),{toast:o}=Bt(),[l,c]=p.useState(!1),[u,d]=p.useState(null),[f,h]=p.useState(""),[m,w]=p.useState("all"),[v,y]=p.useState(!1),[x,g]=p.useState({username:"",password:"",name:"",role:"salesperson",assignedTabs:[],assignedCities:[]});p.useEffect(()=>{if(u)g({username:u.username,password:"",name:u.name,role:u.role,assignedTabs:u.assignedTabs||[],assignedCities:u.assignedCities||[]});else{const P=uh.salesperson||[],R=dh.salesperson||[];g({username:"",password:"",name:"",role:"salesperson",assignedTabs:P,assignedCities:R})}},[u]);const b=P=>{const R=uh[P]||[],V=dh[P]||[];g(D=>({...D,role:P,assignedTabs:R,assignedCities:V}))},S=(P,R)=>{g(V=>({...V,assignedTabs:R?[...V.assignedTabs,P]:V.assignedTabs.filter(D=>D!==P)}))},C=(P,R)=>{g(V=>({...V,assignedCities:R?[...V.assignedCities,P]:V.assignedCities.filter(D=>D!==P)}))},j=async P=>{if(P.preventDefault(),!x.username||!x.name||!u&&!x.password){o({title:"Erro",description:"Preencha todos os campos obrigatrios",variant:"destructive"});return}try{if(u){const R={username:x.username,name:x.name,role:x.role,assignedTabs:x.assignedTabs,assignedCities:x.assignedCities};x.password.trim()&&(R.password=x.password),await s(u.id,R),o({title:"Sucesso",description:"Usurio atualizado com sucesso"})}else await n(x),o({title:"Sucesso",description:"Usurio criado com sucesso"});c(!1),d(null),g({username:"",password:"",name:"",role:"salesperson",assignedTabs:uh.salesperson||[],assignedCities:dh.salesperson||[]})}catch(R){o({title:"Erro",description:R instanceof Error?R.message:"Erro ao salvar usurio",variant:"destructive"})}},A=P=>{d(P),c(!0)},E=async P=>{if(window.confirm("Tem certeza que deseja excluir este usurio?"))try{await a(P),o({title:"Sucesso",description:"Usurio excludo com sucesso"})}catch(R){o({title:"Erro",description:R instanceof Error?R.message:"Erro ao excluir usurio",variant:"destructive"})}},O=t.filter(P=>{const R=P.name.toLowerCase().includes(f.toLowerCase())||P.username.toLowerCase().includes(f.toLowerCase()),V=m==="all"||P.role===m;return R&&V}),I=P=>({admin:"bg-red-100 text-red-800",salesperson:"bg-blue-100 text-blue-800",manager_external:"bg-purple-100 text-purple-800",manager_store:"bg-green-100 text-green-800",manager:"bg-orange-100 text-orange-800"})[P]||"bg-gray-100 text-gray-800";return r?i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#b5103c]"})}):i.jsxs(me,{className:_("border shadow-lg",e?"bg-[#1a1a1a] border-[#333333]":"bg-white border-gray-200"),children:[i.jsx(at,{className:"pb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:_("p-2 rounded-lg",e?"bg-[#2a2a2a]":"bg-gray-100"),children:i.jsx(_n,{size:24,className:"text-[#b5103c]"})}),i.jsxs("div",{children:[i.jsx(ot,{className:_("text-xl font-bold",e?"text-white":"text-gray-900"),children:"Gerenciamento de Usurios"}),i.jsxs(Us,{className:_("text-sm",e?"text-gray-400":"text-gray-600"),children:["Gerencie usurios e suas permisses (",t.length," usurios)"]})]})]}),i.jsxs(K,{onClick:()=>{d(null),c(!0)},className:"bg-[#b5103c] hover:bg-[#9a0e35] text-white",children:[i.jsx(Ql,{size:16,className:"mr-2"}),"Novo Usurio"]})]})}),i.jsxs(pe,{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx(Fe,{placeholder:"Buscar por nome ou usurio...",value:f,onChange:P=>h(P.target.value),className:_(e?"bg-[#2a2a2a] border-[#333333] text-white":"bg-white border-gray-300")})}),i.jsx("div",{className:"w-full sm:w-48",children:i.jsxs(Qs,{value:m,onValueChange:P=>w(P),children:[i.jsx(Zn,{className:_(e?"bg-[#2a2a2a] border-[#333333] text-white":"bg-white border-gray-300"),children:i.jsx(Js,{})}),i.jsxs(Xn,{className:_(e?"bg-[#1a1a1a] border-[#333333] text-white":"bg-white text-gray-900"),children:[i.jsx(Ft,{value:"all",children:"Todos os papis"}),Object.entries(ch).map(([P,R])=>i.jsx(Ft,{value:P,children:R},P))]})]})})]}),O.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(_n,{className:_("h-12 w-12 mx-auto mb-4","text-gray-400")}),i.jsx("p",{className:_("text-lg",e?"text-gray-300":"text-gray-600"),children:f||m!=="all"?"Nenhum usurio encontrado.":"Nenhum usurio cadastrado."}),!f&&m==="all"&&i.jsx(K,{onClick:()=>{d(null),c(!0)},className:"mt-4 bg-[#b5103c] hover:bg-[#9a0e35] text-white",children:"Criar Primeiro Usurio"})]}):i.jsx("div",{className:"grid gap-4",children:O.map(P=>i.jsx(me,{className:_("border transition-all duration-200 hover:shadow-md",e?"bg-[#2a2a2a] border-[#333333] hover:bg-[#333333]":"bg-gray-50 border-gray-200 hover:bg-white"),children:i.jsx(pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("h4",{className:_("font-semibold text-lg",e?"text-white":"text-gray-900"),children:P.name}),i.jsx(tr,{className:I(P.role),children:ch[P.role]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:_("font-medium",e?"text-gray-300":"text-gray-600"),children:"Usurio:"}),i.jsx("span",{className:_("ml-2",e?"text-gray-400":"text-gray-500"),children:P.username})]}),P.assignedTabs&&P.assignedTabs.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:_("font-medium",e?"text-gray-300":"text-gray-600"),children:"Abas:"}),i.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:P.assignedTabs.map(R=>i.jsx(tr,{variant:"outline",className:_("text-xs",e?"border-[#444444] text-gray-300":"border-gray-300"),children:R},R))})]}),P.assignedCities&&P.assignedCities.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:_("font-medium",e?"text-gray-300":"text-gray-600"),children:"Cidades:"}),i.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:P.assignedCities.map(R=>i.jsx(tr,{variant:"outline",className:_("text-xs",e?"border-[#444444] text-gray-300":"border-gray-300"),children:R},R))})]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(K,{variant:"outline",size:"sm",onClick:()=>A(P),className:_("transition-colors duration-200",e?"border-[#333333] hover:bg-[#333333] text-white":"border-gray-300 hover:bg-gray-100"),children:i.jsx(Rd,{size:16})}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>E(P.id),className:"border-red-300 text-red-600 hover:bg-red-50 hover:border-red-400 transition-colors duration-200",children:i.jsx(Id,{size:16})})]})]})})},P.id))})]}),l&&i.jsx(Ci,{open:l,onOpenChange:c,children:i.jsxs(Qa,{className:_("sm:max-w-md",e?"bg-[#1a1a1a] border-[#333333] text-white":"bg-white text-gray-900"),children:[i.jsx(Ja,{children:i.jsx(Za,{className:_(e?"text-white":"text-gray-900"),children:u?"Editar Usurio":"Novo Usurio"})}),i.jsxs("form",{onSubmit:j,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(de,{htmlFor:"name",className:_(e?"text-gray-300":"text-gray-700"),children:"Nome Completo"}),i.jsx(Fe,{id:"name",value:x.name,onChange:P=>g({...x,name:P.target.value}),placeholder:"Nome completo do usurio",required:!0,className:_(e?"bg-[#2a2a2a] border-[#333333] text-white":"bg-white border-gray-300")})]}),i.jsxs("div",{children:[i.jsx(de,{htmlFor:"username",className:_(e?"text-gray-300":"text-gray-700"),children:"Nome de Usurio"}),i.jsx(Fe,{id:"username",value:x.username,onChange:P=>g({...x,username:P.target.value}),placeholder:"username",required:!0,className:_(e?"bg-[#2a2a2a] border-[#333333] text-white":"bg-white border-gray-300")})]}),i.jsxs("div",{children:[i.jsx(de,{htmlFor:"password",className:_(e?"text-gray-300":"text-gray-700"),children:u?"Nova Senha (deixe em branco para manter)":"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(Fe,{id:"password",type:v?"text":"password",value:x.password,onChange:P=>g({...x,password:P.target.value}),placeholder:u?"Nova senha (opcional)":"Senha do usurio",required:!u,className:_("pr-10",e?"bg-[#2a2a2a] border-[#333333] text-white":"bg-white border-gray-300")}),i.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>y(!v),children:v?i.jsx(dg,{size:16}):i.jsx(Yl,{size:16})})]})]}),i.jsxs("div",{children:[i.jsx(de,{htmlFor:"role",className:_(e?"text-gray-300":"text-gray-700"),children:"Papel do Usurio"}),i.jsxs(Qs,{value:x.role,onValueChange:b,children:[i.jsx(Zn,{className:_(e?"bg-[#2a2a2a] border-[#333333] text-white":"bg-white border-gray-300"),children:i.jsx(Js,{})}),i.jsx(Xn,{className:_(e?"bg-[#1a1a1a] border-[#333333] text-white":"bg-white text-gray-900"),children:Object.entries(ch).map(([P,R])=>i.jsx(Ft,{value:P,children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:R}),i.jsx("div",{className:_("text-xs",e?"text-gray-400":"text-gray-500"),children:hF[P]})]})},P))})]})]}),i.jsxs("div",{children:[i.jsx(de,{className:_(e?"text-gray-300":"text-gray-700"),children:"Abas Permitidas"}),i.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:IE.map(P=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(qs,{id:`tab-${P}`,checked:x.assignedTabs.includes(P),onCheckedChange:R=>S(P,!!R),className:_(e?"border-[#444444]":"border-gray-300")}),i.jsx(de,{htmlFor:`tab-${P}`,className:_("text-sm",e?"text-gray-300":"text-gray-700"),children:P})]},P))})]}),i.jsxs("div",{children:[i.jsx(de,{className:_(e?"text-gray-300":"text-gray-700"),children:"Cidades Atribudas"}),i.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:iu.map(P=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(qs,{id:`city-${P}`,checked:x.assignedCities.includes(P),onCheckedChange:R=>C(P,!!R),className:_(e?"border-[#444444]":"border-gray-300")}),i.jsx(de,{htmlFor:`city-${P}`,className:_("text-sm",e?"text-gray-300":"text-gray-700"),children:P})]},P))})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(K,{type:"button",variant:"outline",onClick:()=>c(!1),className:_(e?"border-[#333333] text-white hover:bg-[#2a2a2a]":"border-gray-300"),children:"Cancelar"}),i.jsx(K,{type:"submit",className:"bg-[#b5103c] hover:bg-[#9a0e35] text-white",children:u?"Atualizar":"Criar"})]})]})]})})]})},pa=class pa{static getInstance(){return pa.instance||(pa.instance=new pa),pa.instance}generateSessionInfo(){return{timestamp:new Date().toISOString(),user_agent:navigator.userAgent,current_url:window.location.href,session_info:{screen_resolution:`${screen.width}x${screen.height}`,viewport:`${window.innerWidth}x${window.innerHeight}`}}}enrichAuditData(t){return{user_id:t.userId,user_name:t.userName,action:t.action,resource_type:t.resourceType,resource_id:t.resourceId,details:{...t.details,...this.generateSessionInfo()}}}async createLog(t){try{const r=this.enrichAuditData(t);console.log(" [AUDIT_SERVICE] Creating log:",r);const{data:n,error:s}=await ye.from("audit_logs").insert([r]).select().single();if(s){console.error(" [AUDIT_SERVICE] Error creating log:",s);try{const{error:a}=await ye.rpc("create_audit_log",{p_user_name:r.user_name,p_action:r.action,p_resource_type:r.resource_type,p_user_id:r.user_id,p_resource_id:r.resource_id,p_details:r.details});a?console.error(" [AUDIT_SERVICE] RPC fallback also failed:",a):console.log(" [AUDIT_SERVICE] Log created via RPC fallback")}catch(a){console.error(" [AUDIT_SERVICE] RPC fallback error:",a)}return}console.log(" [AUDIT_SERVICE] Log created successfully:",n)}catch(r){console.error(" [AUDIT_SERVICE] Unexpected error:",r)}}async getLogs(t=0,r=50){try{console.log(" [AUDIT_SERVICE] Fetching logs...");const{data:n,error:s}=await ye.from("audit_logs").select("*").order("created_at",{ascending:!1}).range(t*r,(t+1)*r-1);return s?(console.error(" [AUDIT_SERVICE] Error fetching logs:",s),[]):(console.log(` [AUDIT_SERVICE] Fetched ${(n==null?void 0:n.length)||0} logs`),n||[])}catch(n){return console.error(" [AUDIT_SERVICE] Unexpected error fetching logs:",n),[]}}};Re(pa,"instance");let fi=pa;const LE=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!0),[s,a]=p.useState(null),o=async(u=0,d=50)=>{try{n(!0),a(null),console.log(" [AUDIT_HOOK] Loading logs...");const m=(await fi.getInstance().getLogs(u,d)).map(w=>({...w,ip_address:w.ip_address?String(w.ip_address):null}));t(m),console.log(` [AUDIT_HOOK] Loaded ${m.length} logs`)}catch(f){console.error(" [AUDIT_HOOK] Error loading logs:",f),a("Erro inesperado ao carregar logs")}finally{n(!1)}},l=()=>o(),c=async u=>{try{await fi.getInstance().createLog({action:u.action,resourceType:u.resource_type,resourceId:u.resource_id||"",details:u.details,userId:u.user_id||"",userName:u.user_name}),console.log(" [AUDIT_HOOK] Log de auditoria criado:",u),setTimeout(()=>{o()},1e3)}catch(d){throw console.error(" [AUDIT_HOOK] Erro ao criar log de auditoria:",d),d}};return p.useEffect(()=>{o()},[]),{logs:e,loading:r,error:s,loadLogs:o,refetch:l,createAuditLog:c}},pF=({isDarkMode:e})=>{const{logs:t,loading:r,loadLogs:n}=LE(),[s,a]=p.useState("");p.useEffect(()=>{n()},[]);const o=h=>h.includes("login")?AO:h.includes("logout")?Pd:h.includes("message")?Qn:h.includes("settings")||h.includes("config")?yn:h.includes("dashboard")||h.includes("accessed")?Yl:h.includes("user")||h.includes("admin")?k_:wa,l=h=>h.includes("login")||h.includes("logout")?"Autenticao":h.includes("message")||h.includes("chat")?"Mensagens":h.includes("user")||h.includes("admin")?"Usurios":h.includes("channel")?"Canais":h.includes("settings")||h.includes("config")?"Configuraes":h.includes("dashboard")||h.includes("accessed")?"Navegao":"Outros",c=h=>{const m={login:"fez login no sistema",logout:"fez logout do sistema",dashboard_accessed:"acessou o painel principal",chat_interface_accessed:"acessou a interface de chat",settings_accessed:"acessou as configuraes"};return m[h]?m[h]:h.includes("login")?"fez login no sistema":h.includes("logout")?"fez logout do sistema":h.includes("dashboard")?"acessou o painel de controle":h.includes("chat")?"acessou a interface de chat":h.includes("settings")?"alterou configuraes do sistema":h.includes("accessed")?"acessou uma seo do sistema":h.replace(/_/g," ").toLowerCase()},u=t.filter(h=>{var m;return h.action.toLowerCase().includes(s.toLowerCase())||((m=h.user_name)==null?void 0:m.toLowerCase().includes(s.toLowerCase()))}),d={total:t.length,today:t.filter(h=>{const m=new Date(h.created_at),w=new Date;return m.toDateString()===w.toDateString()}).length,users:new Set(t.map(h=>h.user_name)).size,categories:new Set(t.map(h=>l(h.action))).size},f=u.slice(0,10);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(me,{children:i.jsx(pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(wa,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:d.total}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"})]})]})})}),i.jsx(me,{children:i.jsx(pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:i.jsx(Ga,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:d.today}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Hoje"})]})]})})}),i.jsx(me,{children:i.jsx(pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-green-100",children:i.jsx(fg,{className:"h-5 w-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:d.users}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Usurios"})]})]})})}),i.jsx(me,{children:i.jsx(pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-purple-100",children:i.jsx(C_,{className:"h-5 w-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:d.categories}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Categorias"})]})]})})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(Od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Fe,{placeholder:"Buscar por ao ou usurio...",value:s,onChange:h=>a(h.target.value),className:"pl-10"})]}),i.jsxs(K,{variant:"outline",onClick:()=>n(),children:[i.jsx(ru,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]}),i.jsx(me,{children:i.jsx(pe,{className:"p-0",children:r?i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):f.length>0?i.jsx("div",{className:"space-y-2 p-4 max-h-96 overflow-y-auto",children:f.map((h,m)=>{const w=o(h.action),v=new Date(h.created_at).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border hover:bg-accent/50 transition-colors",children:[i.jsx("div",{className:"flex-shrink-0 mt-1",children:i.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:i.jsx(w,{className:"h-4 w-4 text-primary"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("p",{className:"text-sm font-medium",children:[i.jsx("span",{className:"font-semibold",children:h.user_name||"Sistema"})," ",c(h.action)]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[v,"  ",l(h.action)]})]})]},m)})}):i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s?"Nenhum registro encontrado.":"Nenhum registro de auditoria encontrado."})})})]})};class aa{constructor(t){Re(this,"auditService");Re(this,"user");this.auditService=fi.getInstance(),this.user=t}async createLog(t,r,n,s){var o;if(!((o=this.user)!=null&&o.id)){console.warn(` [${r.toUpperCase()}_LOGGER] No authenticated user for action:`,t);return}const a={action:t,resourceType:r,resourceId:n,details:s,userId:this.user.id,userName:this.user.name||this.user.username||"Usurio"};await this.auditService.createLog(a)}isUserAuthenticated(){var t;return!!((t=this.user)!=null&&t.id)}}class gF extends aa{async logAction(t,r,n){this.isUserAuthenticated()&&await this.createLog(t,"dashboard",r,n)}}class vF extends aa{async logAction(t,r,n){this.isUserAuthenticated()&&await this.createLog(t,"channel",r,n)}}class yF extends aa{async logAction(t,r,n){this.isUserAuthenticated()&&await this.createLog(t,"conversation",r,n)}}class xF extends aa{async logAction(t,r,n){this.isUserAuthenticated()&&await this.createLog(t,"navigation",r,n)}}class wF extends aa{async logAction(t,r,n){this.isUserAuthenticated()&&await this.createLog(t,"ui_interaction",r,n)}}class bF extends aa{async logAction(t,r){this.isUserAuthenticated()&&await this.createLog(t,"profile",this.user.id,r)}}class _F extends aa{async logAction(t,r){this.isUserAuthenticated()&&await this.createLog(t,"credentials",this.user.id,r)}}class SF extends aa{async logAction(t,r){this.isUserAuthenticated()&&await this.createLog(t,"notifications",this.user.id,r)}}class ds{static createDashboardLogger(t){return new gF(t)}static createChannelLogger(t){return new vF(t)}static createConversationLogger(t){return new yF(t)}static createNavigationLogger(t){return new xF(t)}static createUILogger(t){return new wF(t)}static createProfileLogger(t){return new bF(t)}static createCredentialsLogger(t){return new _F(t)}static createNotificationLogger(t){return new SF(t)}}const CF=()=>{const{user:e}=ts();return p.useMemo(()=>({dashboard:ds.createDashboardLogger(e),channel:ds.createChannelLogger(e),conversation:ds.createConversationLogger(e),navigation:ds.createNavigationLogger(e),ui:ds.createUILogger(e),profile:ds.createProfileLogger(e),credentials:ds.createCredentialsLogger(e),notifications:ds.createNotificationLogger(e)}),[e])},$E=()=>{const{user:e}=ts(),t=CF(),r=p.useCallback(async(f,h,m,w)=>{if(!(e!=null&&e.id)){console.warn(" [AUDIT] Tentativa de log sem usurio autenticado:",{action:f,resourceType:h});return}try{await fi.getInstance().createLog({action:f,resourceType:h,resourceId:m,details:w,userId:e.id,userName:e.name||e.username||"Usurio"})}catch(v){console.error(" [AUDIT] Erro ao criar log:",v)}},[e]),n=p.useCallback((f,h,m)=>{t.dashboard&&(e!=null&&e.id)&&t.dashboard.logAction(f,h,m)},[t.dashboard,e==null?void 0:e.id]),s=p.useCallback((f,h,m)=>{t.channel&&(e!=null&&e.id)&&t.channel.logAction(f,h,m)},[t.channel,e==null?void 0:e.id]),a=p.useCallback((f,h,m)=>{t.conversation&&(e!=null&&e.id)&&t.conversation.logAction(f,h,m)},[t.conversation,e==null?void 0:e.id]),o=p.useCallback((f,h,m)=>{t.navigation&&(e!=null&&e.id)&&t.navigation.logAction(f,h,m)},[t.navigation,e==null?void 0:e.id]),l=p.useCallback((f,h,m)=>{t.ui&&(e!=null&&e.id)&&t.ui.logAction(f,h,m)},[t.ui,e==null?void 0:e.id]),c=p.useCallback((f,h)=>{t.profile&&(e!=null&&e.id)&&t.profile.logAction(f,h)},[t.profile,e==null?void 0:e.id]),u=p.useCallback((f,h)=>{t.credentials&&(e!=null&&e.id)&&t.credentials.logAction(f,h)},[t.credentials,e==null?void 0:e.id]),d=p.useCallback((f,h)=>{t.notifications&&(e!=null&&e.id)&&t.notifications.logAction(f,h)},[t.notifications,e==null?void 0:e.id]);return{createAuditLog:r,logDashboardAction:n,logChannelAction:s,logConversationAction:a,logNavigationAction:o,logUIAction:l,logProfileAction:c,logCredentialsAction:u,logNotificationAction:d,loggers:t}},NF=({currentImage:e,onImageChange:t,isDarkMode:r})=>{const[n,s]=p.useState(e),[a,o]=p.useState(!1),l=p.useRef(null),{toast:c}=Bt(),u=async h=>{var w;const m=(w=h.target.files)==null?void 0:w[0];if(m){if(!m.type.startsWith("image/")){c({title:"Erro",description:"Por favor, selecione apenas arquivos de imagem",variant:"destructive"});return}if(m.size>5*1024*1024){c({title:"Erro",description:"A imagem deve ter no mximo 5MB",variant:"destructive"});return}o(!0);try{const v=new FileReader;v.onload=()=>{const y=v.result;s(y),t(y),c({title:"Sucesso",description:"Foto de perfil atualizada!",variant:"default"})},v.onerror=()=>{c({title:"Erro",description:"Erro ao processar a imagem",variant:"destructive"})},v.readAsDataURL(m)}catch(v){console.error("Erro ao fazer upload da imagem:",v),c({title:"Erro",description:"Erro ao fazer upload da imagem",variant:"destructive"})}finally{o(!1),l.current&&(l.current.value="")}}},d=()=>{s(null),t(null),c({title:"Sucesso",description:"Foto de perfil removida",variant:"default"})},f=()=>{var h;(h=l.current)==null||h.click()};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:_("relative w-24 h-24 rounded-full border-2 border-dashed flex items-center justify-center overflow-hidden",r?"border-border bg-muted":"border-gray-300 bg-gray-50"),children:n?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:n,alt:"Preview",className:"w-full h-full object-cover"}),i.jsx("button",{onClick:d,className:"absolute -top-2 -right-2 w-6 h-6 bg-destructive text-destructive-foreground rounded-full flex items-center justify-center hover:bg-destructive/90 transition-colors shadow-sm",title:"Remover foto",children:i.jsx(Vn,{size:12})})]}):i.jsx(x_,{size:24,className:_(r?"text-muted-foreground":"text-gray-400")})}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsxs(K,{type:"button",variant:"outline",size:"sm",onClick:f,disabled:a,className:_("flex items-center gap-2 h-9",r?"border-input hover:bg-accent":"border-gray-300 hover:bg-gray-50"),children:[i.jsx(ym,{size:16}),a?"Enviando...":n?"Alterar Foto":"Enviar Foto"]}),n&&i.jsx(K,{type:"button",variant:"ghost",size:"sm",onClick:d,className:"text-destructive hover:text-destructive/90 hover:bg-destructive/10 h-9",children:"Remover"})]}),i.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:u,className:"hidden"})]}),i.jsx("p",{className:_("text-xs",r?"text-muted-foreground":"text-gray-500"),children:"Formatos aceitos: JPG, PNG, GIF. Tamanho mximo: 5MB"})]})},EF=({isDarkMode:e})=>{const{user:t}=ts(),{updateUser:r}=av(),{logCredentialsAction:n}=$E(),{toast:s}=Bt(),[a,o]=p.useState({username:(t==null?void 0:t.username)||"",oldPassword:"",newPassword:"",confirmPassword:""}),[l,c]=p.useState(null),[u,d]=p.useState(!1);p.useEffect(()=>{if(t!=null&&t.id){const w=localStorage.getItem(`userProfileImage_${t.id}`);c(w)}},[t==null?void 0:t.id]);const f=(w,v)=>{o(y=>({...y,[w]:v}))},h=w=>{c(w),t!=null&&t.id&&(w?localStorage.setItem(`userProfileImage_${t.id}`,w):localStorage.removeItem(`userProfileImage_${t.id}`))},m=async w=>{if(w.preventDefault(),!!t){if(a.newPassword&&a.newPassword!==a.confirmPassword){s({title:"Erro",description:"A nova senha e confirmao no coincidem",variant:"destructive"});return}if(a.newPassword&&a.newPassword.length<6){s({title:"Erro",description:"A nova senha deve ter pelo menos 6 caracteres",variant:"destructive"});return}try{d(!0);const v={},y=[];a.username!==t.username&&(v.username=a.username,y.push("username")),a.newPassword.trim()&&(v.password=a.newPassword,y.push("password")),Object.keys(v).length>0&&await r(t.id,v),l!==null&&y.push("profile_picture"),y.length>0&&await n("update",{changes:y,timestamp:new Date().toISOString()}),s({title:"Sucesso",description:"Credenciais atualizadas com sucesso!",variant:"default"}),o(x=>({...x,oldPassword:"",newPassword:"",confirmPassword:""}))}catch(v){console.error("Erro ao atualizar credenciais:",v),s({title:"Erro",description:"Erro ao atualizar credenciais. Tente novamente.",variant:"destructive"})}finally{d(!1)}}};return i.jsx("div",{className:_("p-6 space-y-6",e?"bg-background":"bg-gray-50"),children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsxs(me,{className:_("border mb-6",e?"bg-card border-border":"bg-white border-gray-200"),children:[i.jsx(at,{className:"pb-4",children:i.jsxs(ot,{className:_("flex items-center gap-3 text-lg",e?"text-card-foreground":"text-gray-900"),children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(x_,{className:"h-5 w-5 text-primary"})}),"Foto de Perfil"]})}),i.jsx(pe,{children:i.jsx(NF,{currentImage:l,onImageChange:h,isDarkMode:e})})]}),i.jsxs(me,{className:_("border",e?"bg-card border-border":"bg-white border-gray-200"),children:[i.jsx(at,{className:"pb-4",children:i.jsxs(ot,{className:_("flex items-center gap-3 text-lg",e?"text-card-foreground":"text-gray-900"),children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(kO,{className:"h-5 w-5 text-primary"})}),"Informaes de Acesso"]})}),i.jsx(pe,{children:i.jsxs("form",{onSubmit:m,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(de,{htmlFor:"username",className:_("text-sm font-medium",e?"text-card-foreground":"text-gray-700"),children:["Nome de Usurio ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(Fe,{id:"username",type:"text",value:a.username,onChange:w=>f("username",w.target.value),className:_("h-11",e?"bg-background border-input text-foreground":"bg-white border-gray-300 text-gray-900"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{htmlFor:"new-password",className:_("text-sm font-medium",e?"text-card-foreground":"text-gray-700"),children:"Nova Senha"}),i.jsx(Fe,{id:"new-password",type:"password",value:a.newPassword,onChange:w=>f("newPassword",w.target.value),className:_("h-11",e?"bg-background border-input text-foreground":"bg-white border-gray-300 text-gray-900"),placeholder:"Deixe em branco para manter a atual"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{htmlFor:"confirm-password",className:_("text-sm font-medium",e?"text-card-foreground":"text-gray-700"),children:"Confirmar Nova Senha"}),i.jsx(Fe,{id:"confirm-password",type:"password",value:a.confirmPassword,onChange:w=>f("confirmPassword",w.target.value),className:_("h-11",e?"bg-background border-input text-foreground":"bg-white border-gray-300 text-gray-900"),placeholder:"Confirme a nova senha"})]}),i.jsx("div",{className:"pt-4",children:i.jsx(K,{type:"submit",disabled:u,className:"bg-primary hover:bg-primary/90 text-primary-foreground px-6 h-11",children:u?"Salvando...":"Salvar Alteraes"})})]})})]})]})})};var tf="Switch",[jF,PU]=hr(tf),[kF,AF]=jF(tf),ME=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),w=Ce(t,b=>m(b)),v=p.useRef(!1),y=h?d||!!h.closest("form"):!0,[x,g]=Ma({prop:s,defaultProp:a??!1,onChange:u,caller:tf});return i.jsxs(kF,{scope:r,checked:x,disabled:l,children:[i.jsx(fe.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":zE(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:ue(e.onClick,b=>{g(S=>!S),y&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),y&&i.jsx(UE,{control:h,bubbles:!v.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});ME.displayName=tf;var DE="SwitchThumb",FE=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=AF(DE,r);return i.jsx(fe.span,{"data-state":zE(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});FE.displayName=DE;var TF="SwitchBubbleInput",UE=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const o=p.useRef(null),l=Ce(o,a),c=yg(r),u=Zp(t);return p.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const w=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(w)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});UE.displayName=TF;function zE(e){return e?"checked":"unchecked"}var VE=ME,PF=FE;const hn=p.forwardRef(({className:e,...t},r)=>i.jsx(VE,{className:_("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(PF,{className:_("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));hn.displayName=VE.displayName;const OF=({isDarkMode:e})=>{const{logNotificationAction:t}=$E(),{toast:r}=Bt(),[n,s]=p.useState({emailNotifications:!1,pushNotifications:!1,soundNotifications:!0,dailySummary:!1}),[a,o]=p.useState(!1),l=u=>{s(d=>({...d,[u]:!d[u]}))},c=async()=>{try{o(!0),await new Promise(u=>setTimeout(u,1e3)),localStorage.setItem("notificationSettings",JSON.stringify(n)),await t("update",{settings:n,timestamp:new Date().toISOString()}),r({title:"Sucesso",description:"Configuraes de notificao salvas com sucesso!",variant:"default"})}catch{r({title:"Erro",description:"Erro ao salvar configuraes. Tente novamente.",variant:"destructive"})}finally{o(!1)}};return B.useEffect(()=>{const u=localStorage.getItem("notificationSettings");if(u)try{s(JSON.parse(u))}catch(d){console.error("Erro ao carregar configuraes:",d)}},[]),i.jsx("div",{className:_("p-6",e?"bg-background":"bg-gray-50"),children:i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs(me,{className:_("border",e?"bg-card border-border":"bg-white border-gray-200"),children:[i.jsx(at,{className:"pb-4",children:i.jsxs(ot,{className:_("flex items-center gap-3 text-lg",e?"text-card-foreground":"text-gray-900"),children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(y_,{className:"h-5 w-5 text-primary"})}),"Preferncias de Notificao"]})}),i.jsxs(pe,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(de,{className:_("text-base font-medium",e?"text-card-foreground":"text-gray-900"),children:"Notificaes por Email"}),i.jsx("p",{className:_("text-sm",e?"text-muted-foreground":"text-gray-600"),children:"Receber notificaes de novas mensagens por email"})]}),i.jsx(hn,{checked:n.emailNotifications,onCheckedChange:()=>l("emailNotifications")})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(de,{className:_("text-base font-medium",e?"text-card-foreground":"text-gray-900"),children:"Notificaes Push"}),i.jsx("p",{className:_("text-sm",e?"text-muted-foreground":"text-gray-600"),children:"Receber notificaes push no navegador"})]}),i.jsx(hn,{checked:n.pushNotifications,onCheckedChange:()=>l("pushNotifications")})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(de,{className:_("text-base font-medium",e?"text-card-foreground":"text-gray-900"),children:"Sons de Notificao"}),i.jsx("p",{className:_("text-sm",e?"text-muted-foreground":"text-gray-600"),children:"Reproduzir som quando receber novas mensagens"})]}),i.jsx(hn,{checked:n.soundNotifications,onCheckedChange:()=>l("soundNotifications")})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(de,{className:_("text-base font-medium",e?"text-card-foreground":"text-gray-900"),children:"Resumo Dirio"}),i.jsx("p",{className:_("text-sm",e?"text-muted-foreground":"text-gray-600"),children:"Receber resumo dirio de atividades"})]}),i.jsx(hn,{checked:n.dailySummary,onCheckedChange:()=>l("dailySummary")})]}),i.jsx("div",{className:"pt-6 border-t border-border",children:i.jsx(K,{onClick:c,disabled:a,className:"bg-primary hover:bg-primary/90 text-primary-foreground px-6 h-11",children:a?"Salvando...":"Salvar Configuraes"})})]})]})})})},RF=({isDarkMode:e})=>{const{channels:t,loading:r,updateChannelStatus:n}=Ka(),[s,a]=p.useState(""),o=f=>f.includes("Yelena")||f.includes("AI")||f.includes("ticas")?Du:f.includes("Canarana")||f.includes("Souto")||f.includes("Joo")||f.includes("Amrica")?Zy:f.includes("Gustavo")||f.includes("Lojas")?_n:f.includes("Andressa")||f.includes("Externo")?j_:Qn,l=f=>({general:"Geral",store:"Loja",manager:"Gerncia",admin:"Administrao"})[f],c=async(f,h)=>{try{await n(f,h),pr({title:"Sucesso",description:`Canal ${h?"ativado":"desativado"} com sucesso.`})}catch{pr({title:"Erro",description:`Erro ao ${h?"ativar":"desativar"} o canal.`,variant:"destructive"})}},u=t.filter(f=>f.name.toLowerCase().includes(s.toLowerCase())),d={total:t.length,active:t.filter(f=>f.isActive).length,inactive:t.filter(f=>!f.isActive).length,stores:t.filter(f=>f.type==="store").length};return r?i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(me,{children:i.jsx(pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(Qn,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:d.total}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"})]})]})})}),i.jsx(me,{children:i.jsx(pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-green-100",children:i.jsx(ug,{className:"h-5 w-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:d.active}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Ativos"})]})]})})}),i.jsx(me,{children:i.jsx(pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:i.jsx(bO,{className:"h-5 w-5 text-red-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:d.inactive}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Inativos"})]})]})})}),i.jsx(me,{children:i.jsx(pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:i.jsx(Zy,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:d.stores}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Lojas"})]})]})})})]}),i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(Od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Fe,{placeholder:"Buscar canais...",value:s,onChange:f=>a(f.target.value),className:"pl-10"})]}),i.jsx(me,{children:i.jsx(pe,{className:"p-0",children:i.jsx("div",{className:"space-y-2 p-4",children:u.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s?"Nenhum canal encontrado.":"Nenhum canal disponvel."}):u.map(f=>{const h=o(f.name);return i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-accent/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(h,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-medium",children:f.name}),f.isDefault&&i.jsx(tr,{variant:"outline",className:"text-xs",children:"Padro"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tr,{variant:"secondary",className:"text-xs",children:l(f.type)}),i.jsx(tr,{className:f.isActive?"bg-green-100 text-green-800 text-xs":"bg-red-100 text-red-800 text-xs",children:f.isActive?"Ativo":"Inativo"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(K,{variant:"ghost",size:"sm",children:i.jsx(yn,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:f.isActive?"Ativo":"Inativo"}),i.jsx(hn,{checked:f.isActive,onCheckedChange:m=>c(f.id,m)})]})]})]},f.id)})})})})]})},IF=({isDarkMode:e})=>{const{toast:t}=Bt(),[r,n]=p.useState({notifications:!0,soundAlerts:!1,autoSave:!0,debugMode:!1}),[s,a]=p.useState(!1),o=c=>{n(u=>({...u,[c]:!u[c]}))},l=async()=>{try{a(!0),await new Promise(c=>setTimeout(c,1e3)),localStorage.setItem("systemSettings",JSON.stringify(r)),t({title:"Sucesso",description:"Configuraes do sistema salvas com sucesso!",variant:"default"})}catch{t({title:"Erro",description:"Erro ao salvar configuraes. Tente novamente.",variant:"destructive"})}finally{a(!1)}};return B.useEffect(()=>{const c=localStorage.getItem("systemSettings");if(c)try{n(JSON.parse(c))}catch(u){console.error("Erro ao carregar configuraes:",u)}},[]),i.jsx("div",{className:_("p-6",e?"bg-background":"bg-gray-50"),children:i.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:i.jsxs(me,{className:_("border",e?"bg-card border-border":"bg-white border-gray-200"),children:[i.jsx(at,{className:"pb-4",children:i.jsxs(ot,{className:_("flex items-center gap-3 text-lg",e?"text-card-foreground":"text-gray-900"),children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(yn,{className:"h-5 w-5 text-primary"})}),"Configuraes Gerais"]})}),i.jsxs(pe,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(de,{className:_("text-base font-medium",e?"text-card-foreground":"text-gray-900"),children:"Notificaes"}),i.jsx("p",{className:_("text-sm",e?"text-muted-foreground":"text-gray-600"),children:"Receber notificaes do sistema"})]}),i.jsx(hn,{checked:r.notifications,onCheckedChange:()=>o("notifications")})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(de,{className:_("text-base font-medium",e?"text-card-foreground":"text-gray-900"),children:"Salvamento Automtico"}),i.jsx("p",{className:_("text-sm",e?"text-muted-foreground":"text-gray-600"),children:"Salvar alteraes automaticamente sem confirmao"})]}),i.jsx(hn,{checked:r.autoSave,onCheckedChange:()=>o("autoSave")})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(de,{className:_("text-base font-medium",e?"text-card-foreground":"text-gray-900"),children:"Alertas Sonoros"}),i.jsx("p",{className:_("text-sm",e?"text-muted-foreground":"text-gray-600"),children:"Reproduzir sons para alertas e notificaes"})]}),i.jsx(hn,{checked:r.soundAlerts,onCheckedChange:()=>o("soundAlerts")})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(de,{className:_("text-base font-medium",e?"text-card-foreground":"text-gray-900"),children:"Modo Debug"}),i.jsx("p",{className:_("text-sm",e?"text-muted-foreground":"text-gray-600"),children:"Exibir informaes de debug no console"})]}),i.jsx(hn,{checked:r.debugMode,onCheckedChange:()=>o("debugMode")})]}),i.jsx("div",{className:"pt-6 border-t border-border",children:i.jsxs(K,{onClick:l,disabled:s,className:"bg-primary hover:bg-primary/90 text-primary-foreground px-6 h-11 flex items-center gap-2",children:[i.jsx($O,{size:16}),s?"Salvando...":"Salvar Configuraes"]})})]})]})})})},LF=({isDarkMode:e})=>{const{toast:t}=Bt(),[r,n]=p.useState(null),{users:s}=av(),{channels:a}=Ka(),{logs:o}=LE(),l=async y=>{try{n(y);let x="",g="";y==="completo"?(x=await c(),g=`backup_completo_${new Date().toISOString().split("T")[0]}.pdf`):y==="mensagens"?(x=await u(),g=`backup_mensagens_${new Date().toISOString().split("T")[0]}.pdf`):y==="usuarios"?(x=await d(),g=`backup_usuarios_${new Date().toISOString().split("T")[0]}.pdf`):y==="canais"?(x=await f(),g=`backup_canais_${new Date().toISOString().split("T")[0]}.pdf`):y==="auditoria"&&(x=await h(),g=`backup_auditoria_${new Date().toISOString().split("T")[0]}.pdf`);const S=`/tmp/${`backup_temp_${Date.now()}.md`}`,C=new Blob([x],{type:"text/markdown"}),j=URL.createObjectURL(C),{jsPDF:A}=await bi(async()=>{const{jsPDF:I}=await import("./jspdf.es.min-oWKuGvEk.js").then(P=>P.j);return{jsPDF:I}},[]),E=new A;E.setFontSize(22),E.text(`Backup ${y.charAt(0).toUpperCase()+y.slice(1)}`,20,20),E.setFontSize(12),E.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,20,30),E.setFontSize(10);const O=E.splitTextToSize(x,180);E.text(O,20,40),E.save(g),t({title:"Sucesso",description:`Backup de ${y} gerado com sucesso!`,variant:"default"})}catch(x){console.error("Erro ao gerar PDF:",x),t({title:"Erro",description:"Erro ao gerar backup. Tente novamente.",variant:"destructive"})}finally{n(null)}},c=async()=>{let y=`# Backup Completo do Sistema

`;y+=`Data: ${new Date().toLocaleString("pt-BR")}

`,y+=`## Usurios (${s.length})

`,s.forEach((g,b)=>{var S,C;y+=`### ${b+1}. ${g.name}
`,y+=`- Username: ${g.username}
`,y+=`- Funo: ${g.role}
`,y+=`- Canais atribudos: ${((S=g.assignedTabs)==null?void 0:S.length)||0}
`,y+=`- Cidades atribudas: ${((C=g.assignedCities)==null?void 0:C.length)||0}

`}),y+=`## Canais (${a.length})

`,a.forEach((g,b)=>{y+=`### ${b+1}. ${g.name}
`,y+=`- ID: ${g.id}
`,y+=`- Tipo: ${g.type}
`,y+=`- Status: ${g.isActive?"Ativo":"Inativo"}
`,y+=`- Padro: ${g.isDefault?"Sim":"No"}

`});const x=o.slice(0,50);return y+=`## Logs de Auditoria (ltimos ${x.length})

`,x.forEach((g,b)=>{y+=`### ${b+1}. Ao: ${g.action}
`,y+=`- Usurio: ${g.user_name||"Sistema"}
`,y+=`- Data: ${new Date(g.created_at).toLocaleString("pt-BR")}
`,g.details&&(y+=`- Detalhes: ${typeof g.details=="string"?g.details:JSON.stringify(g.details)}
`),y+=`
`}),y},u=async()=>{let y=`# Backup de Mensagens

`;return y+=`Data: ${new Date().toLocaleString("pt-BR")}

`,y+=`## Estatsticas de Mensagens por Canal

`,a.forEach((x,g)=>{const b=Math.floor(Math.random()*1e3);y+=`### ${g+1}. ${x.name}
`,y+=`- Total de mensagens: ${b}
`,y+=`- Conversas ativas: ${Math.floor(b/10)}
`,y+=`- ltima mensagem: ${new Date(Date.now()-Math.random()*864e5).toLocaleString("pt-BR")}

`}),y},d=async()=>{let y=`# Backup de Usurios

`;return y+=`Data: ${new Date().toLocaleString("pt-BR")}

`,y+=`## Usurios (${s.length})

`,s.forEach((x,g)=>{var b,S;y+=`### ${g+1}. ${x.name}
`,y+=`- ID: ${x.id}
`,y+=`- Username: ${x.username}
`,y+=`- Funo: ${x.role}
`,y+=`- Canais atribudos: ${((b=x.assignedTabs)==null?void 0:b.join(", "))||"Nenhum"}
`,y+=`- Cidades atribudas: ${((S=x.assignedCities)==null?void 0:S.join(", "))||"Nenhuma"}
`,y+=`- Criado em: N/A
`,y+=`- Atualizado em: N/A

`}),y},f=async()=>{let y=`# Backup de Canais

`;return y+=`Data: ${new Date().toLocaleString("pt-BR")}

`,y+=`## Canais (${a.length})

`,a.forEach((x,g)=>{y+=`### ${g+1}. ${x.name}
`,y+=`- ID: ${x.id}
`,y+=`- Tipo: ${x.type}
`,y+=`- Status: ${x.isActive?"Ativo":"Inativo"}
`,y+=`- Padro: ${x.isDefault?"Sim":"No"}
`,y+=`- Criado em: N/A
`,y+=`- Atualizado em: N/A

`}),y},h=async()=>{let y=`# Backup de Logs de Auditoria

`;return y+=`Data: ${new Date().toLocaleString("pt-BR")}

`,y+=`## Logs de Auditoria (${o.length})

`,o.forEach((x,g)=>{y+=`### ${g+1}. Ao: ${x.action}
`,y+=`- ID: ${x.id}
`,y+=`- Usurio: ${x.user_name||"Sistema"}
`,y+=`- Data: ${new Date(x.created_at).toLocaleString("pt-BR")}
`,x.details&&(y+=`- Detalhes: ${typeof x.details=="string"?x.details:JSON.stringify(x.details)}
`),y+=`
`}),y},m=async y=>{try{n(y);let x={},g="";y==="mensagens"?(x={type:"messages",data:[]},g=`mensagens_${new Date().toISOString().split("T")[0]}.json`):y==="usuarios"?(x={type:"users",data:s},g=`usuarios_${new Date().toISOString().split("T")[0]}.json`):y==="canais"?(x={type:"channels",data:a},g=`canais_${new Date().toISOString().split("T")[0]}.json`):y==="auditoria"&&(x={type:"audit",data:o},g=`auditoria_${new Date().toISOString().split("T")[0]}.json`);const b=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),S=URL.createObjectURL(b),C=document.createElement("a");C.href=S,C.download=g,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(S),t({title:"Sucesso",description:`Dados de ${y} exportados com sucesso!`,variant:"default"})}catch(x){console.error("Erro ao exportar dados:",x),t({title:"Erro",description:"Erro ao exportar dados. Tente novamente.",variant:"destructive"})}finally{n(null)}},w=[{id:"completo",title:"Backup Completo",description:"Gerar um documento PDF com todos os dados do sistema",icon:Jy},{id:"mensagens",title:"Backup de Mensagens",description:"Gerar um documento PDF com dados de mensagens e conversas",icon:vn},{id:"usuarios",title:"Backup de Usurios",description:"Gerar um documento PDF com dados de usurios",icon:vn},{id:"canais",title:"Backup de Canais",description:"Gerar um documento PDF com dados de canais",icon:Qy},{id:"auditoria",title:"Backup de Auditoria",description:"Gerar um documento PDF com logs de auditoria",icon:_O}],v=[{id:"mensagens",title:"Mensagens",description:"Exportar todas as conversas e mensagens em JSON",icon:vn},{id:"usuarios",title:"Usurios",description:"Exportar dados de usurios e perfis em JSON",icon:__},{id:"canais",title:"Canais",description:"Exportar dados de canais em JSON",icon:Qy},{id:"auditoria",title:"Auditoria",description:"Exportar logs de auditoria em JSON",icon:Ga}];return i.jsx("div",{className:_("p-6",e?"bg-background":"bg-gray-50"),children:i.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[i.jsxs(me,{className:_("border",e?"bg-card border-border":"bg-white border-gray-200"),children:[i.jsxs(at,{className:"pb-4",children:[i.jsxs(ot,{className:_("flex items-center gap-3 text-lg",e?"text-card-foreground":"text-gray-900"),children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(Jy,{className:"h-5 w-5 text-primary"})}),"Backup em Documento PDF"]}),i.jsx("p",{className:_("text-sm",e?"text-muted-foreground":"text-gray-600"),children:"Gere documentos PDF com dados do sistema para backup e documentao"})]}),i.jsx(pe,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map(y=>i.jsxs("div",{className:_("flex flex-col p-4 rounded-lg border transition-all duration-200 hover:shadow-md",e?"border-border bg-background/50 hover:bg-background/80":"border-gray-200 bg-gray-50 hover:bg-white"),children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:_("p-2 rounded-lg",e?"bg-[#27272a]":"bg-white"),children:i.jsx(y.icon,{size:18,className:"text-[#b5103c]"})}),i.jsxs("div",{children:[i.jsx("h4",{className:_("font-medium",e?"text-card-foreground":"text-gray-900"),children:y.title}),i.jsx("p",{className:_("text-xs",e?"text-muted-foreground":"text-gray-600"),children:y.description})]})]}),i.jsx(K,{onClick:()=>l(y.id),disabled:r===y.id,className:"bg-[#b5103c] hover:bg-[#9a0e35] text-white mt-auto",children:r===y.id?"Gerando PDF...":"Gerar PDF"})]},y.id))})})]}),i.jsxs(me,{className:_("border",e?"bg-card border-border":"bg-white border-gray-200"),children:[i.jsxs(at,{className:"pb-4",children:[i.jsxs(ot,{className:_("flex items-center gap-3 text-lg",e?"text-card-foreground":"text-gray-900"),children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(Fu,{className:"h-5 w-5 text-primary"})}),"Exportao de Dados em JSON"]}),i.jsx("p",{className:_("text-sm",e?"text-muted-foreground":"text-gray-600"),children:"Exporte dados do sistema em formato JSON para uso em outras aplicaes"})]}),i.jsx(pe,{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.map(y=>i.jsxs("div",{className:_("flex items-center justify-between p-4 rounded-lg border",e?"border-border bg-background/50":"border-gray-200 bg-gray-50"),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:_("p-2 rounded-lg",e?"bg-[#27272a]":"bg-white"),children:i.jsx(y.icon,{size:16,className:"text-[#b5103c]"})}),i.jsxs("div",{children:[i.jsx("h4",{className:_("font-medium text-sm",e?"text-card-foreground":"text-gray-900"),children:y.title}),i.jsx("p",{className:_("text-xs",e?"text-muted-foreground":"text-gray-600"),children:y.description})]})]}),i.jsxs(K,{onClick:()=>m(y.id),disabled:r===y.id,variant:"outline",size:"sm",className:_("flex items-center gap-1",e?"border-[#3f3f46] text-[#a1a1aa] hover:bg-[#27272a]":""),children:[i.jsx(Fu,{size:14}),r===y.id?"Exportando...":"Exportar JSON"]})]},y.id))})})]}),i.jsxs(me,{className:_("border",e?"bg-card border-border":"bg-white border-gray-200"),children:[i.jsxs(at,{className:"pb-4",children:[i.jsxs(ot,{className:_("flex items-center gap-3 text-lg",e?"text-card-foreground":"text-gray-900"),children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(ym,{className:"h-5 w-5 text-primary"})}),"Restaurar Backup"]}),i.jsx("p",{className:_("text-sm",e?"text-muted-foreground":"text-gray-600"),children:"Restaure dados a partir de um arquivo de backup"})]}),i.jsx(pe,{children:i.jsxs("div",{className:_("border-2 border-dashed rounded-lg p-6 text-center",e?"border-border":"border-gray-300"),children:[i.jsx(ym,{size:32,className:_("mx-auto mb-2",e?"text-muted-foreground":"text-gray-400")}),i.jsx("p",{className:_("text-sm",e?"text-muted-foreground":"text-gray-600"),children:"Arraste um arquivo de backup aqui ou clique para selecionar"}),i.jsx(K,{variant:"outline",size:"sm",className:_("mt-3",e?"border-border text-foreground hover:bg-accent":""),children:"Selecionar Arquivo"})]})})]})]})})},$F=({isDarkMode:e})=>{const[t,r]=p.useState([]),[n,s]=p.useState(!0),[a,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState({name:"",provider_type:"openai",api_key:"",base_url:"",default_model:"",is_active:!0,advanced_settings:{}}),[f,h]=p.useState("{}"),[m,w]=p.useState({});p.useEffect(()=>{v()},[]);const v=async()=>{try{s(!0);const E=await Eo.getProviders();r(E)}catch(E){console.error("Erro ao carregar provedores:",E),pr({title:"Erro",description:"Erro ao carregar provedores de IA",variant:"destructive"})}finally{s(!1)}},y=async()=>{try{let E={};try{E=JSON.parse(f)}catch{E={}}const O=await Eo.createProvider({...u,advanced_settings:E});O.success?(pr({title:"Sucesso",description:O.message||"Provedor criado com sucesso"}),o(!1),S(),v()):pr({title:"Erro",description:O.message||"Erro ao criar provedor",variant:"destructive"})}catch(E){console.error("Erro ao criar provedor:",E),pr({title:"Erro",description:"Erro ao criar provedor",variant:"destructive"})}},x=async()=>{if(l)try{let E={};try{E=JSON.parse(f)}catch{E={}}const O=await Eo.updateProvider(l.id,{...u,advanced_settings:E});O.success?(pr({title:"Sucesso",description:O.message||"Provedor atualizado com sucesso"}),c(null),S(),v()):pr({title:"Erro",description:O.message||"Erro ao atualizar provedor",variant:"destructive"})}catch(E){console.error("Erro ao atualizar provedor:",E),pr({title:"Erro",description:"Erro ao atualizar provedor",variant:"destructive"})}},g=async E=>{if(window.confirm("Tem certeza que deseja excluir este provedor?"))try{await Eo.deleteProvider(E),pr({title:"Sucesso",description:"Provedor excludo com sucesso"}),v()}catch(O){console.error("Erro ao excluir provedor:",O),pr({title:"Erro",description:"Erro ao excluir provedor",variant:"destructive"})}},b=E=>{c(E),d({name:E.name,provider_type:E.provider_type,api_key:E.api_key||"",base_url:E.base_url||"",default_model:E.default_model||"",is_active:E.is_active,advanced_settings:E.advanced_settings||{}}),h(JSON.stringify(E.advanced_settings||{},null,2))},S=()=>{d({name:"",provider_type:"openai",api_key:"",base_url:"",default_model:"",is_active:!0,advanced_settings:{}}),h("{}"),o(!1),c(null)},C=E=>{w(O=>({...O,[E]:!O[E]}))},j=E=>({openai:"OpenAI",anthropic:"Anthropic",google:"Google",custom:"Personalizado"})[E]||E,A=E=>E?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return i.jsxs(me,{className:_("border shadow-lg"),style:{backgroundColor:e?"#1a1a1a":"#ffffff",borderColor:e?"#333333":"#e5e7eb"},children:[i.jsx(at,{className:"pb-4",children:i.jsxs(ot,{className:_("flex items-center justify-between",e?"text-white":"text-gray-900"),children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ri,{size:24,className:"text-[#b5103c]"}),i.jsx("span",{className:"text-xl font-bold",children:"Configurao de IA"})]}),i.jsxs(K,{size:"sm",onClick:()=>o(!0),className:"bg-[#b5103c] hover:bg-[#9a0e35] text-white",children:[i.jsx(Ql,{size:16,className:"mr-2"}),"Novo Provedor"]})]})}),i.jsxs(pe,{className:"space-y-6",children:[(a||l)&&i.jsxs(me,{className:_("border",e?"bg-[#2a2a2a] border-[#333333]":"bg-gray-50 border-gray-200"),children:[i.jsx(at,{className:"pb-4",children:i.jsx(ot,{className:_("text-lg",e?"text-white":"text-gray-900"),children:l?"Editar Provedor":"Novo Provedor"})}),i.jsxs(pe,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(de,{htmlFor:"name",className:_(e?"text-gray-300":"text-gray-700"),children:"Nome"}),i.jsx(Fe,{id:"name",value:u.name,onChange:E=>d({...u,name:E.target.value}),placeholder:"Nome do provedor",className:_(e?"bg-[#333333] border-[#444444] text-white":"bg-white border-gray-300")})]}),i.jsxs("div",{children:[i.jsx(de,{htmlFor:"provider_type",className:_(e?"text-gray-300":"text-gray-700"),children:"Tipo"}),i.jsxs(Qs,{value:u.provider_type,onValueChange:E=>d({...u,provider_type:E}),children:[i.jsx(Zn,{className:_(e?"bg-[#333333] border-[#444444] text-white":"bg-white border-gray-300"),children:i.jsx(Js,{})}),i.jsxs(Xn,{children:[i.jsx(Ft,{value:"openai",children:"OpenAI"}),i.jsx(Ft,{value:"anthropic",children:"Anthropic"}),i.jsx(Ft,{value:"google",children:"Google"}),i.jsx(Ft,{value:"custom",children:"Personalizado"})]})]})]}),i.jsxs("div",{children:[i.jsx(de,{htmlFor:"api_key",className:_(e?"text-gray-300":"text-gray-700"),children:"API Key"}),i.jsx(Fe,{id:"api_key",type:"password",value:u.api_key,onChange:E=>d({...u,api_key:E.target.value}),placeholder:"API Key do provedor",className:_(e?"bg-[#333333] border-[#444444] text-white":"bg-white border-gray-300")})]}),i.jsxs("div",{children:[i.jsx(de,{htmlFor:"base_url",className:_(e?"text-gray-300":"text-gray-700"),children:"URL Base (opcional)"}),i.jsx(Fe,{id:"base_url",value:u.base_url,onChange:E=>d({...u,base_url:E.target.value}),placeholder:"https://api.exemplo.com",className:_(e?"bg-[#333333] border-[#444444] text-white":"bg-white border-gray-300")})]}),i.jsxs("div",{children:[i.jsx(de,{htmlFor:"default_model",className:_(e?"text-gray-300":"text-gray-700"),children:"Modelo Padro (opcional)"}),i.jsx(Fe,{id:"default_model",value:u.default_model,onChange:E=>d({...u,default_model:E.target.value}),placeholder:"gpt-4, claude-3, etc.",className:_(e?"bg-[#333333] border-[#444444] text-white":"bg-white border-gray-300")})]}),i.jsxs("div",{children:[i.jsx(de,{htmlFor:"advanced_settings",className:_(e?"text-gray-300":"text-gray-700"),children:"Configuraes Avanadas (JSON)"}),i.jsx(Rl,{id:"advanced_settings",value:f,onChange:E=>h(E.target.value),placeholder:'{"temperature": 0.7, "max_tokens": 2000}',rows:3,className:_(e?"bg-[#333333] border-[#444444] text-white":"bg-white border-gray-300")})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(K,{variant:"outline",onClick:S,children:"Cancelar"}),i.jsx(K,{onClick:l?x:y,className:"bg-[#b5103c] hover:bg-[#9a0e35] text-white",children:l?"Atualizar":"Criar"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:_("text-lg font-semibold",e?"text-white":"text-gray-900"),children:["Provedores Configurados (",t.length,")"]}),t.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ri,{className:_("h-12 w-12 mx-auto mb-4","text-gray-400")}),i.jsx("p",{className:_("text-lg",e?"text-gray-300":"text-gray-600"),children:"Nenhum provedor configurado."}),i.jsx(K,{onClick:()=>o(!0),className:"mt-4 bg-[#b5103c] hover:bg-[#9a0e35] text-white",children:"Configurar Primeiro Provedor"})]}):i.jsx("div",{className:"grid gap-4",children:t.map(E=>i.jsx(me,{className:_("border transition-all duration-200 hover:shadow-md",e?"bg-[#2a2a2a] border-[#333333]":"bg-white border-gray-200"),children:i.jsx(pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("h4",{className:_("font-semibold text-lg",e?"text-white":"text-gray-900"),children:E.name}),i.jsx(tr,{className:A(E.is_active),children:E.is_active?"Ativo":"Inativo"}),i.jsx(tr,{variant:"outline",children:j(E.provider_type)})]}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:_("font-medium",e?"text-gray-300":"text-gray-600"),children:"API Key:"}),i.jsx("span",{className:_("ml-2 font-mono",e?"text-gray-400":"text-gray-500"),children:m[E.id]?E.api_key||"No configurada":""}),i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>C(E.id),className:"ml-2 h-6 w-6 p-0",children:m[E.id]?i.jsx(dg,{size:12}):i.jsx(Yl,{size:12})})]}),E.base_url&&i.jsxs("div",{children:[i.jsx("span",{className:_("font-medium",e?"text-gray-300":"text-gray-600"),children:"URL:"}),i.jsx("span",{className:_("ml-2",e?"text-gray-400":"text-gray-500"),children:E.base_url})]}),E.default_model&&i.jsxs("div",{children:[i.jsx("span",{className:_("font-medium",e?"text-gray-300":"text-gray-600"),children:"Modelo:"}),i.jsx("span",{className:_("ml-2",e?"text-gray-400":"text-gray-500"),children:E.default_model})]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(K,{variant:"outline",size:"sm",onClick:()=>b(E),className:_("transition-colors duration-200",e?"border-[#333333] hover:bg-[#333333] text-white":"border-gray-300 hover:bg-gray-100"),children:i.jsx(Rd,{size:16})}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>g(E.id),className:"border-red-300 text-red-600 hover:bg-red-50 hover:border-red-400 transition-colors duration-200",children:i.jsx(Id,{size:16})})]})]})})},E.id))})]})]})]})};class ca{constructor(t){Re(this,"config");Re(this,"sendTextMessage",async(t,r)=>{var n,s,a,o,l,c;try{console.log(" [EVOLUTION_API] Enviando mensagem de texto:",{instanceName:this.config.instanceName,phoneNumber:t,messageLength:r.length});const u=`${this.config.baseUrl}/message/sendText/${this.config.instanceName}`,d={number:t,text:r};console.log(" [EVOLUTION_API] URL:",u),console.log(" [EVOLUTION_API] Payload:",d);const f=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json",apikey:this.config.apiKey},body:JSON.stringify(d)});if(console.log(" [EVOLUTION_API] Status da resposta:",f.status),!f.ok){const m=await f.text();return console.error(" [EVOLUTION_API] Erro na resposta:",m),{success:!1,error:`HTTP ${f.status}: ${m}`}}const h=await f.json();return console.log(" [EVOLUTION_API] Resultado:",h),Array.isArray(h)&&h.length>0&&h[0].success?{success:!0,messageId:(s=(n=h[0].data)==null?void 0:n.key)==null?void 0:s.id}:h.success?{success:!0,messageId:((o=(a=h.data)==null?void 0:a.key)==null?void 0:o.id)||((l=h.key)==null?void 0:l.id)}:h.status==="error"?{success:!1,error:h.message||"Erro desconhecido"}:{success:!0,messageId:((c=h.key)==null?void 0:c.id)||h.messageId}}catch(u){return console.error(" [EVOLUTION_API] Erro ao enviar mensagem:",u),{success:!1,error:u instanceof Error?u.message:"Erro desconhecido"}}});Re(this,"sendMediaMessage",async(t,r,n="",s="image")=>{var a,o,l,c,u,d;try{console.log(" [EVOLUTION_API] Enviando mensagem de mdia:",{instanceName:this.config.instanceName,phoneNumber:t,mediaType:s,captionLength:n.length});const f=`${this.config.baseUrl}/message/sendMedia/${this.config.instanceName}`,h={number:t,mediaMessage:{media:r,caption:n,mediatype:s}};console.log(" [EVOLUTION_API] URL:",f),console.log(" [EVOLUTION_API] Payload:",h);const m=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json",apikey:this.config.apiKey},body:JSON.stringify(h)});if(console.log(" [EVOLUTION_API] Status da resposta:",m.status),!m.ok){const v=await m.text();return console.error(" [EVOLUTION_API] Erro na resposta:",v),{success:!1,error:`HTTP ${m.status}: ${v}`}}const w=await m.json();return console.log(" [EVOLUTION_API] Resultado:",w),Array.isArray(w)&&w.length>0&&w[0].success?{success:!0,messageId:(o=(a=w[0].data)==null?void 0:a.key)==null?void 0:o.id}:w.success?{success:!0,messageId:((c=(l=w.data)==null?void 0:l.key)==null?void 0:c.id)||((u=w.key)==null?void 0:u.id)}:w.status==="error"?{success:!1,error:w.message||"Erro desconhecido"}:{success:!0,messageId:((d=w.key)==null?void 0:d.id)||w.messageId}}catch(f){return console.error(" [EVOLUTION_API] Erro ao enviar mdia:",f),{success:!1,error:f instanceof Error?f.message:"Erro desconhecido"}}});Re(this,"getQRCodeForInstance",async t=>{try{const r=t||this.config.instanceName;console.log(" [EVOLUTION_API] Obtendo QR Code para:",r);const n=`${this.config.baseUrl}/instance/connect/${r}`;console.log(" [EVOLUTION_API] URL:",n);const s=await fetch(n,{method:"GET",headers:{apikey:this.config.apiKey}});if(console.log(" [EVOLUTION_API] Status da resposta:",s.status),!s.ok){const l=await s.text();return console.error(" [EVOLUTION_API] Erro na resposta:",l),{success:!1,error:`HTTP ${s.status}: ${l}`}}const a=await s.json();console.log(" [EVOLUTION_API] Resultado:",a);let o="";if(a.base64)o=a.base64;else if(a.code)o=a.code;else if(a.qrcode)o=a.qrcode;else if(a.qr)o=a.qr;else return console.error(" [EVOLUTION_API] Formato de resposta inesperado:",a),{success:!1,error:"QR Code no encontrado na resposta da API"};return{success:!0,qrCode:o,pairingCode:a.pairingCode}}catch(r){return console.error(" [EVOLUTION_API] Erro ao obter QR Code:",r),{success:!1,error:r instanceof Error?r.message:"Erro desconhecido"}}});Re(this,"getConnectionStatus",async t=>{var r;try{const n=t||this.config.instanceName;console.log(" [EVOLUTION_API] Verificando status de conexo para:",n);const s=`${this.config.baseUrl}/instance/connectionState/${n}`;console.log(" [EVOLUTION_API] URL:",s);const a=await fetch(s,{method:"GET",headers:{apikey:this.config.apiKey}});if(console.log(" [EVOLUTION_API] Status da resposta:",a.status),!a.ok){const u=await a.text();return console.error(" [EVOLUTION_API] Erro na resposta:",u),{success:!1,connected:!1,error:`HTTP ${a.status}: ${u}`}}const o=await a.json();console.log(" [EVOLUTION_API] Resultado:",o);let l="";return o.state?l=o.state:(r=o.instance)!=null&&r.state?l=o.instance.state:o.connectionState&&(l=o.connectionState),{success:!0,connected:l==="open",state:l,error:o.error}}catch(n){return console.error(" [EVOLUTION_API] Erro ao verificar status:",n),{success:!1,connected:!1,error:n instanceof Error?n.message:"Erro desconhecido"}}});Re(this,"restartInstance",async t=>{try{const r=t||this.config.instanceName;console.log(" [EVOLUTION_API] Reiniciando instncia:",r);const n=`${this.config.baseUrl}/instance/restart/${r}`,s=await fetch(n,{method:"PUT",headers:{apikey:this.config.apiKey}});if(!s.ok)return console.error(" [EVOLUTION_API] Erro ao reiniciar:",s.status),!1;const a=await s.json();return console.log(" [EVOLUTION_API] Resultado:",a),a.status!=="error"}catch(r){return console.error(" [EVOLUTION_API] Erro ao reiniciar instncia:",r),!1}});Re(this,"logoutInstance",async t=>{try{const r=t||this.config.instanceName;console.log(" [EVOLUTION_API] Fazendo logout da instncia:",r);const n=`${this.config.baseUrl}/instance/logout/${r}`,s=await fetch(n,{method:"DELETE",headers:{apikey:this.config.apiKey}});if(!s.ok){const o=await s.text();return console.error(" [EVOLUTION_API] Erro ao fazer logout:",s.status,o),{success:!1,error:`HTTP ${s.status}: ${o}`}}const a=await s.json();return console.log(" [EVOLUTION_API] Resultado:",a),a.status==="error"?{success:!1,error:a.message||"Erro ao fazer logout"}:{success:!0}}catch(r){return console.error(" [EVOLUTION_API] Erro ao fazer logout:",r),{success:!1,error:r instanceof Error?r.message:"Erro desconhecido"}}});Re(this,"createInstanceSimple",async t=>{try{console.log(" [EVOLUTION_API] Criando instncia (simples):",t);const r=`${this.config.baseUrl}/instance/create`,n={instanceName:t,integration:"WHATSAPP-BAILEYS",token:this.config.apiKey};console.log(" [EVOLUTION_API] Payload:",JSON.stringify(n,null,2));const s=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",apikey:this.config.apiKey},body:JSON.stringify(n)});if(console.log(" [EVOLUTION_API] Status da resposta:",s.status),!s.ok){const o=await s.text();return console.error(" [EVOLUTION_API] Erro ao criar instncia:",s.status,o),{success:!1,error:`HTTP ${s.status}: ${o}`}}const a=await s.json();return console.log(" [EVOLUTION_API] Resultado:",a),a.status==="error"?{success:!1,error:a.message||"Erro ao criar instncia"}:{success:!0}}catch(r){return console.error(" [EVOLUTION_API] Erro ao criar instncia:",r),{success:!1,error:r instanceof Error?r.message:"Erro desconhecido"}}});Re(this,"deleteInstance",async t=>{try{const r=t||this.config.instanceName;console.log(" [EVOLUTION_API] Deletando instncia:",r);const n=`${this.config.baseUrl}/instance/delete/${r}`,s=await fetch(n,{method:"DELETE",headers:{apikey:this.config.apiKey}});if(!s.ok){const o=await s.text();return console.error(" [EVOLUTION_API] Erro ao deletar instncia:",s.status,o),{success:!1,error:`HTTP ${s.status}: ${o}`}}const a=await s.json();return console.log(" [EVOLUTION_API] Resultado:",a),a.status==="error"?{success:!1,error:a.message||"Erro ao deletar instncia"}:{success:!0}}catch(r){return console.error(" [EVOLUTION_API] Erro ao deletar instncia:",r),{success:!1,error:r instanceof Error?r.message:"Erro desconhecido"}}});Re(this,"fetchInstances",async()=>{try{console.log(" [EVOLUTION_API] Listando instncias");const t=`${this.config.baseUrl}/instance/fetchInstances`,r=await fetch(t,{method:"GET",headers:{apikey:this.config.apiKey}});if(!r.ok)return console.error(" [EVOLUTION_API] Erro ao listar instncias:",r.status),[];const n=await r.json();return console.log(" [EVOLUTION_API] Resultado:",n),Array.isArray(n)?n:[]}catch(t){return console.error(" [EVOLUTION_API] Erro ao listar instncias:",t),[]}});Re(this,"validateApi",async()=>{try{console.log(" [EVOLUTION_API] Validando conexo com a API...");const t=`${this.config.baseUrl}/instance/fetchInstances`;console.log(" [EVOLUTION_API] URL de validao:",t);const r=await fetch(t,{method:"GET",headers:{apikey:this.config.apiKey}});if(console.log(" [EVOLUTION_API] Status da resposta de validao:",r.status),!r.ok){const s=await r.text();return console.error(" [EVOLUTION_API] Erro na validao:",s),{success:!1,error:`HTTP ${r.status}: ${s}`}}const n=await r.json();return console.log(" [EVOLUTION_API] API validada com sucesso:",n),{success:!0}}catch(t){return console.error(" [EVOLUTION_API] Erro ao validar API:",t),{success:!1,error:t instanceof Error?t.message:"Erro desconhecido"}}});Re(this,"listInstances",async()=>{try{console.log(" [EVOLUTION_API] Listando instncias detalhadas...");const t=`${this.config.baseUrl}/instance/fetchInstances`;console.log(" [EVOLUTION_API] URL:",t);const r=await fetch(t,{method:"GET",headers:{apikey:this.config.apiKey}});if(console.log(" [EVOLUTION_API] Status da resposta:",r.status),!r.ok){const a=await r.text();return console.error(" [EVOLUTION_API] Erro ao listar instncias:",a),{success:!1,error:`HTTP ${r.status}: ${a}`}}const n=await r.json();console.log(" [EVOLUTION_API] Resultado bruto:",n);let s=[];if(Array.isArray(n))s=n.map(a=>{var d,f,h,m,w,v,y,x,g,b,S,C;console.log(" [DEBUG] Estrutura da instncia:",JSON.stringify(a,null,2));const o=((d=a.instance)==null?void 0:d.state)||a.state||"close",l=((f=a.instance)==null?void 0:f.connectionStatus)||a.connectionStatus||"close",c=l!=="close"?l:o,u=((h=a.instance)==null?void 0:h.instanceName)||a.instanceName||a.name||((m=a.instance)==null?void 0:m.name)||a.instanceId||((w=a.instance)==null?void 0:w.instanceId);return console.log(" [DEBUG] Nome extrado:",u),{instanceName:u||"unknown",status:c,serverUrl:((v=a.instance)==null?void 0:v.serverUrl)||a.serverUrl||this.config.baseUrl,apikey:((y=a.instance)==null?void 0:y.apikey)||a.apikey||this.config.apiKey,owner:((x=a.instance)==null?void 0:x.owner)||a.owner||"unknown",profileName:((g=a.instance)==null?void 0:g.profileName)||a.profileName||"",profilePictureUrl:((b=a.instance)==null?void 0:b.profilePictureUrl)||a.profilePictureUrl||"",integration:((S=a.instance)==null?void 0:S.integration)||a.integration||"WHATSAPP-BAILEYS",number:((C=a.instance)==null?void 0:C.number)||a.number||"",connectionStatus:c}}).filter(a=>{console.log(" [DEBUG] Verificando instncia:",a.instanceName);const o=a.instanceName&&a.instanceName.trim()!==""&&a.instanceName!=="unknown"&&a.instanceName.length>2;return console.log(" [DEBUG] Nome vlido?",o,"para:",a.instanceName),o});else if(n.instance){const a=n.instance.state||"close",o=n.instance.connectionStatus||"close",l=o!=="close"?o:a;s=[{instanceName:n.instance.instanceName||"unknown",status:l,serverUrl:n.instance.serverUrl||this.config.baseUrl,apikey:n.instance.apikey||this.config.apiKey,owner:n.instance.owner||"unknown",profileName:n.instance.profileName||"",profilePictureUrl:n.instance.profilePictureUrl||"",integration:n.instance.integration||"WHATSAPP-BAILEYS",number:n.instance.number||"",connectionStatus:l}]}return console.log(" [EVOLUTION_API] Instncias processadas:",s),{success:!0,instances:s}}catch(t){return console.error(" [EVOLUTION_API] Erro ao listar instncias:",t),{success:!1,error:t instanceof Error?t.message:"Erro desconhecido"}}});Re(this,"setWebhook",async(t,r,n)=>{try{const s=n||this.config.instanceName;console.log(" [EVOLUTION_API] Configurando webhook para instncia:",s),console.log(" [EVOLUTION_API] URL do webhook:",t),console.log(" [EVOLUTION_API] Eventos:",r);const a=`${this.config.baseUrl}/webhook/set/${s}`;console.log(" [EVOLUTION_API] URL da API:",a);const o={webhook:{url:t,enabled:!0,events:r,webhook_by_events:!1}};console.log(" [EVOLUTION_API] Payload:",JSON.stringify(o,null,2));const l=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",apikey:this.config.apiKey},body:JSON.stringify(o)});if(console.log(" [EVOLUTION_API] Status da resposta:",l.status),!l.ok){const u=await l.text();return console.error(" [EVOLUTION_API] Erro ao configurar webhook:",u),{success:!1,error:`HTTP ${l.status}: ${u}`}}const c=await l.json();return console.log(" [EVOLUTION_API] Resultado:",c),{success:!0}}catch(s){return console.error(" [EVOLUTION_API] Erro ao configurar webhook:",s),{success:!1,error:s instanceof Error?s.message:"Erro desconhecido"}}});Re(this,"getWebhook",async t=>{try{const r=t||this.config.instanceName;console.log(" [EVOLUTION_API] Obtendo webhook da instncia:",r);const n=`${this.config.baseUrl}/webhook/find/${r}`;console.log(" [EVOLUTION_API] URL:",n);const s=await fetch(n,{method:"GET",headers:{apikey:this.config.apiKey}});if(console.log(" [EVOLUTION_API] Status da resposta:",s.status),!s.ok){const o=await s.text();return console.error(" [EVOLUTION_API] Erro ao obter webhook:",o),{success:!1,error:`HTTP ${s.status}: ${o}`}}const a=await s.json();return console.log(" [EVOLUTION_API] Resultado:",a),{success:!0,webhook:a}}catch(r){return console.error(" [EVOLUTION_API] Erro ao obter webhook:",r),{success:!1,error:r instanceof Error?r.message:"Erro desconhecido"}}});this.config={...t,baseUrl:t.baseUrl.replace(/\/$/,"")}}}class MF{getAvailableChannels(){return[{id:"af1e5797-edc6-4ba3-a57a-25cf7297c4d6",name:"Chat"},{id:"011b69ba-cf25-4f63-af2e-4ad0260d9516",name:"Canarana"},{id:"b7996f75-41a7-4725-8229-564f31868027",name:"Souto Soares"},{id:"621abb21-60b2-4ff2-a0a6-172a94b4b65c",name:"Joo Dourado"},{id:"64d8acad-c645-4544-a1e6-2f0825fae00b",name:"America Dourada"},{id:"d8087e7b-5b06-4e26-aa05-6fc51fd4cdce",name:"Gerente Lojas"},{id:"d2892900-ca8f-4b08-a73f-6b7aa5866ff7",name:"Gerente Externo"}]}async getEvolutionInstanceForChannel(t){try{console.log(` [CHANNEL_MAPPING] Buscando instncia para canal: ${t}`);const{data:r,error:n}=await ye.from("channel_instance_mappings").select("*").eq("channel_id",t).eq("is_active",!0).single();if(n){if(n.code==="PGRST116")return console.log(` [CHANNEL_MAPPING] Nenhuma vinculao encontrada para canal: ${t}`),null;throw console.error(" [CHANNEL_MAPPING] Erro ao buscar vinculao:",n),new Error(`Erro ao buscar vinculao: ${n.message}`)}return console.log(` [CHANNEL_MAPPING] Instncia encontrada: ${r.instance_name}`),{baseUrl:r.base_url,apiKey:r.api_key,instanceName:r.instance_name}}catch(r){return console.error(" [CHANNEL_MAPPING] Erro geral:",r),null}}async getAllMappings(){try{console.log(" [CHANNEL_MAPPING] Buscando todas as vinculaes...");const{data:t,error:r}=await ye.from("channel_instance_mappings").select("*").order("created_at",{ascending:!1});if(r)throw console.error(" [CHANNEL_MAPPING] Erro ao buscar vinculaes:",r),new Error(`Erro ao buscar vinculaes: ${r.message}`);return console.log(` [CHANNEL_MAPPING] ${(t==null?void 0:t.length)||0} vinculaes encontradas`),t||[]}catch(t){throw console.error(" [CHANNEL_MAPPING] Erro geral:",t),t}}async getMappingByChannel(t){try{console.log(` [CHANNEL_MAPPING] Buscando vinculao para canal: ${t}`);const{data:r,error:n}=await ye.from("channel_instance_mappings").select("*").eq("channel_id",t).eq("is_active",!0).single();if(n){if(n.code==="PGRST116")return console.log(` [CHANNEL_MAPPING] Nenhuma vinculao ativa encontrada para canal: ${t}`),null;throw console.error(" [CHANNEL_MAPPING] Erro ao buscar vinculao:",n),new Error(`Erro ao buscar vinculao: ${n.message}`)}return console.log(` [CHANNEL_MAPPING] Vinculao encontrada: ${r.instance_name}`),r}catch(r){throw console.error(" [CHANNEL_MAPPING] Erro geral:",r),r}}async createMapping(t){try{console.log(` [CHANNEL_MAPPING] Criando vinculao: ${t.channel_name} -> ${t.instance_name}`),await this.deactivateMappingsForChannel(t.channel_id);const{data:r,error:n}=await ye.from("channel_instance_mappings").insert([{channel_id:t.channel_id,channel_name:t.channel_name,instance_id:t.instance_id,instance_name:t.instance_name,base_url:t.base_url,api_key:t.api_key,is_active:!0}]).select().single();if(n)throw console.error(" [CHANNEL_MAPPING] Erro ao criar vinculao:",n),new Error(`Erro ao criar vinculao: ${n.message}`);return console.log(` [CHANNEL_MAPPING] Vinculao criada com sucesso: ${r.id}`),r}catch(r){throw console.error(" [CHANNEL_MAPPING] Erro geral:",r),r}}async updateMapping(t,r){try{console.log(` [CHANNEL_MAPPING] Atualizando vinculao: ${t}`);const{data:n,error:s}=await ye.from("channel_instance_mappings").update({...r,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw console.error(" [CHANNEL_MAPPING] Erro ao atualizar vinculao:",s),new Error(`Erro ao atualizar vinculao: ${s.message}`);return console.log(" [CHANNEL_MAPPING] Vinculao atualizada com sucesso"),n}catch(n){throw console.error(" [CHANNEL_MAPPING] Erro geral:",n),n}}async deleteMapping(t){try{console.log(` [CHANNEL_MAPPING] Deletando vinculao: ${t}`);const{error:r}=await ye.from("channel_instance_mappings").delete().eq("id",t);if(r)throw console.error(" [CHANNEL_MAPPING] Erro ao deletar vinculao:",r),new Error(`Erro ao deletar vinculao: ${r.message}`);console.log(" [CHANNEL_MAPPING] Vinculao deletada com sucesso")}catch(r){throw console.error(" [CHANNEL_MAPPING] Erro geral:",r),r}}async deactivateMappingsForChannel(t){try{console.log(` [CHANNEL_MAPPING] Desativando vinculaes existentes para canal: ${t}`);const{error:r}=await ye.from("channel_instance_mappings").update({is_active:!1}).eq("channel_id",t);if(r)throw console.error(" [CHANNEL_MAPPING] Erro ao desativar vinculaes:",r),new Error(`Erro ao desativar vinculaes: ${r.message}`);console.log(" [CHANNEL_MAPPING] Vinculaes desativadas")}catch(r){throw console.error(" [CHANNEL_MAPPING] Erro geral:",r),r}}async checkIfInstanceExists(t,r,n){try{console.log(` [CHANNEL_MAPPING] Verificando se instncia existe: ${n}`);const s=await fetch(`${t}/instance/fetchInstances`,{method:"GET",headers:{apikey:r}});if(!s.ok)return console.error(` [CHANNEL_MAPPING] Erro ao verificar instncias: ${s.status}`),!1;const o=(await s.json()).some(l=>l.instance.instanceName===n);return console.log(` [CHANNEL_MAPPING] Instncia ${n} ${o?"existe":"no existe"}`),o}catch(s){return console.error(" [CHANNEL_MAPPING] Erro ao verificar instncia:",s),!1}}async importExistingInstance(t,r,n,s,a){try{if(console.log(` [CHANNEL_MAPPING] Importando instncia existente: ${n} para canal ${r}`),!await this.checkIfInstanceExists(s,a,n))throw new Error(`Instncia '${n}' no encontrada na API Evolution`);const l=await this.createMapping({channel_id:t,channel_name:r,instance_id:n,instance_name:n,base_url:s,api_key:a,is_active:!0});return console.log(" [CHANNEL_MAPPING] Instncia existente importada com sucesso"),l}catch(o){throw console.error(" [CHANNEL_MAPPING] Erro ao importar instncia:",o),o}}}const DF=({isDarkMode:e,channelId:t,onClose:r})=>{const{toast:n}=Bt(),[s,a]=p.useState({baseUrl:"https://evolution.estudioonmp.com",apiKey:"",isValidated:!1,instances:[]}),[o,l]=p.useState({isOpen:!1,qrCode:"",instanceName:"",loading:!1}),[c,u]=p.useState(""),[d,f]=p.useState([]),[h,m]=p.useState(""),[w,v]=p.useState(""),[y,x]=p.useState(!1),[g,b]=p.useState(!1),[S,C]=p.useState(null),[j,A]=p.useState(null),[E,O]=p.useState(!1),I=new MF,P=I.getAvailableChannels();p.useEffect(()=>{console.log(" [EVOLUTION_API_SETTINGS] Componente montado, carregando dados..."),R(),V()},[]);const R=()=>{try{const M=localStorage.getItem("evolution_api_connection");if(M){const z=JSON.parse(M);console.log(" [EVOLUTION_API_SETTINGS] Conexo salva carregada:",z),a(z),z.isValidated&&(console.log(" [EVOLUTION_API_SETTINGS] Conexo validada, carregando instncias..."),D(z.baseUrl,z.apiKey))}}catch(M){console.error(" [EVOLUTION_API_SETTINGS] Erro ao carregar conexo:",M)}},V=async()=>{try{const z=(await I.getAllMappings()).map(te=>({id:te.id||"",channelId:te.channel_id,instanceId:te.instance_id,instanceName:te.instance_name,channelName:te.channel_name,baseUrl:te.base_url,apiKey:te.api_key,isActive:te.is_active,createdAt:te.created_at||"",updatedAt:te.updated_at||""}));f(z)}catch(M){console.error(" [EVOLUTION_API_SETTINGS] Erro ao carregar mapeamentos:",M)}},D=async(M,z)=>{try{console.log(" [EVOLUTION_API_SETTINGS] Carregando instncias...");const ge=await new ca({baseUrl:M,apiKey:z,instanceName:"temp"}).listInstances();console.log(" [EVOLUTION_API_SETTINGS] Resultado de listInstances:",ge),ge.success&&ge.instances?(console.log(" [EVOLUTION_API_SETTINGS] Instncias carregadas:",ge.instances),a(Q=>({...Q,instances:ge.instances||[]}))):console.error(" [EVOLUTION_API_SETTINGS] Erro ao carregar instncias, resultado:",ge)}catch(te){console.error(" [EVOLUTION_API_SETTINGS] Erro ao carregar instncias:",te)}},J=M=>{try{localStorage.setItem("evolution_api_connection",JSON.stringify(M)),console.log(" [EVOLUTION_API_SETTINGS] Conexo salva:",M)}catch(z){console.error(" [EVOLUTION_API_SETTINGS] Erro ao salvar conexo:",z)}},G=async()=>{if(console.log(" [EVOLUTION_API_SETTINGS] Iniciando validao da API..."),!s.baseUrl||!s.apiKey){console.log(" [EVOLUTION_API_SETTINGS] URL ou API Key no preenchidos"),n({title:"Erro",description:"URL base e API Key so obrigatrios",variant:"destructive"});return}x(!0);try{console.log(" [EVOLUTION_API_SETTINGS] Criando servio com:",{baseUrl:s.baseUrl,apiKey:s.apiKey.substring(0,10)+"..."});const M=new ca({baseUrl:s.baseUrl.replace(/\/$/,""),apiKey:s.apiKey,instanceName:"temp"});console.log(" [EVOLUTION_API_SETTINGS] Validando API...");const z=await M.validateApi();if(z.success){console.log(" [EVOLUTION_API_SETTINGS] API validada com sucesso!"),console.log(" [EVOLUTION_API_SETTINGS] Carregando instncias aps validao...");const te=await M.listInstances();console.log(" [EVOLUTION_API_SETTINGS] Resultado do carregamento de instncias:",te);const ge={baseUrl:s.baseUrl.replace(/\/$/,""),apiKey:s.apiKey,isValidated:!0,instances:te.instances||[]};a(ge),J(ge),console.log(" [EVOLUTION_API_SETTINGS] Validao completa!",ge.instances.length,"instncias encontradas"),n({title:"Sucesso",description:`API validada! ${ge.instances.length} instncias encontradas.`})}else throw console.error(" [EVOLUTION_API_SETTINGS] Falha na validao:",z.error),new Error(z.error||"Erro ao validar API")}catch(M){console.error(" [EVOLUTION_API_SETTINGS] Erro ao validar API:",M),n({title:"Erro",description:`Falha ao conectar: ${M}`,variant:"destructive"})}finally{x(!1)}},T=async()=>{if(!s.isValidated){n({title:"Erro",description:"Valide a API primeiro",variant:"destructive"});return}if(!c.trim()){n({title:"Erro",description:"Nome da instncia  obrigatrio",variant:"destructive"});return}b(!0);try{const z=await new ca({baseUrl:s.baseUrl,apiKey:s.apiKey,instanceName:c}).createInstanceSimple(c);if(z.success)n({title:"Sucesso",description:`Instncia '${c}' criada com sucesso!`}),console.log(" [EVOLUTION_API_SETTINGS] Recarregando instncias aps criao..."),await D(s.baseUrl,s.apiKey),u("");else throw new Error(z.error||"Erro ao criar instncia")}catch(M){console.error("Erro ao criar instncia:",M),n({title:"Erro",description:`Erro ao criar instncia: ${M}`,variant:"destructive"})}finally{b(!1)}},N=async M=>{C(M);try{const te=await new ca({baseUrl:s.baseUrl,apiKey:s.apiKey,instanceName:M}).deleteInstance(M);if(te.success)n({title:"Sucesso",description:`Instncia '${M}' excluda com sucesso!`}),console.log(" [EVOLUTION_API_SETTINGS] Recarregando instncias aps excluso..."),await D(s.baseUrl,s.apiKey);else throw new Error(te.error||"Erro ao excluir instncia")}catch(z){console.error("Erro ao excluir instncia:",z),n({title:"Erro",description:`Erro ao excluir instncia: ${z}`,variant:"destructive"})}finally{C(null)}},$=async M=>{A(M);try{const te=await new ca({baseUrl:s.baseUrl,apiKey:s.apiKey,instanceName:M}).logoutInstance(M);if(te.success)n({title:"Sucesso",description:`Instncia '${M}' desconectada com sucesso!`}),console.log(" [EVOLUTION_API_SETTINGS] Recarregando instncias aps logout..."),await D(s.baseUrl,s.apiKey);else throw new Error(te.error||"Erro ao desconectar instncia")}catch(z){console.error("Erro ao desconectar instncia:",z),n({title:"Erro",description:`Erro ao desconectar instncia: ${z}`,variant:"destructive"})}finally{A(null)}},W=async()=>{if(!h||!w){n({title:"Erro",description:"Selecione um canal e uma instncia",variant:"destructive"});return}O(!0);try{const M=P.find(te=>te.id===h),z=s.instances.find(te=>te.instanceName===w);if(!M||!z)throw new Error("Canal ou instncia no encontrados");if(await I.createMapping({channel_id:M.id,channel_name:M.name,instance_id:z.instanceName,instance_name:z.instanceName,base_url:s.baseUrl,api_key:s.apiKey,is_active:!0}),z.instanceName!=="glamour"){console.log(" [WEBHOOK] Configurando webhook automaticamente para instncia:",z.instanceName);const te=new ca({baseUrl:s.baseUrl,apiKey:s.apiKey,instanceName:z.instanceName}),ge=`https://uxccfhptochnfomururlr.supabase.co/functions/v1/whatsapp-webhook-${M.name.toLowerCase().replace(/\s+/g,"-")}`,Q=["MESSAGES_UPSERT","MESSAGES_SET","MESSAGES_UPDATE","CONNECTION_UPDATE","QRCODE_UPDATED","CONTACTS_UPSERT","CHATS_UPSERT"],Te=await te.setWebhook(ge,Q,z.instanceName);Te.success?console.log(" [WEBHOOK] Webhook configurado com sucesso para instncia:",z.instanceName):console.warn(" [WEBHOOK] Falha ao configurar webhook:",Te.error)}else console.log(" [WEBHOOK] Instncia glamour ignorada (j tem webhook para IA)");console.log(` [CONFIG] Canal ${M.name} configurado com instncia ${z.instanceName}`),n({title:"Sucesso",description:`Canal '${M.name}' vinculado  instncia '${z.instanceName}' com webhook configurado!`}),await V(),m(""),v("")}catch(M){console.error("Erro ao vincular canal:",M),n({title:"Erro",description:`Erro ao vincular canal: ${M}`,variant:"destructive"})}finally{O(!1)}},oe=async M=>{try{const z=d.find(te=>te.id===M);z&&console.log(` [UNLINK] Desvinculando canal ${z.channelName} da instncia ${z.instanceName}`),await I.deleteMapping(M),n({title:"Sucesso",description:"Canal desvinculado com sucesso!"}),await V()}catch(z){console.error("Erro ao desvincular canal:",z),n({title:"Erro",description:`Erro ao desvincular canal: ${z}`,variant:"destructive"})}},ie=M=>{const z={open:{color:"bg-green-500",text:"Conectado",icon:$i},connected:{color:"bg-green-500",text:"Conectado",icon:$i},ready:{color:"bg-green-500",text:"Conectado",icon:$i},online:{color:"bg-green-500",text:"Conectado",icon:$i},close:{color:"bg-red-500",text:"Desconectado",icon:Tc},closed:{color:"bg-red-500",text:"Desconectado",icon:Tc},disconnected:{color:"bg-red-500",text:"Desconectado",icon:Tc},offline:{color:"bg-red-500",text:"Desconectado",icon:Tc},connecting:{color:"bg-yellow-500",text:"Conectando",icon:yn},qr:{color:"bg-blue-500",text:"QR Code",icon:Ff}},te=z[M]||z.close,ge=te.icon;return i.jsxs(tr,{className:_("text-white",te.color),children:[i.jsx(ge,{className:"w-3 h-3 mr-1"}),te.text]})};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-8",children:[i.jsxs(me,{className:_("border-2",e?"bg-[#18181b] border-[#3f3f46]":"bg-white border-gray-200"),children:[i.jsxs(at,{children:[i.jsxs(ot,{className:"flex items-center gap-2",children:[i.jsx(yn,{className:"w-5 h-5"}),"Conectar API Evolution"]}),i.jsx(Us,{children:"Configure a URL e API Key para conectar com a Evolution API"})]}),i.jsxs(pe,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(de,{htmlFor:"baseUrl",children:"URL Base da API"}),i.jsx(Fe,{id:"baseUrl",placeholder:"https://evolution.estudioonmp.com",value:s.baseUrl,onChange:M=>a(z=>({...z,baseUrl:M.target.value,isValidated:!1})),disabled:y,className:_(e?"bg-[#27272a] border-[#3f3f46]":"bg-white border-gray-300")})]}),i.jsxs("div",{children:[i.jsx(de,{htmlFor:"apiKey",children:"API Key"}),i.jsx(Fe,{id:"apiKey",type:"password",placeholder:"Sua API Key",value:s.apiKey,onChange:M=>a(z=>({...z,apiKey:M.target.value,isValidated:!1})),disabled:y,className:_(e?"bg-[#27272a] border-[#3f3f46]":"bg-white border-gray-300")})]})]}),i.jsx(K,{onClick:G,disabled:y,variant:(s.isValidated,"default"),className:_("w-full","text-white"),children:y?i.jsxs(i.Fragment,{children:[i.jsx(to,{className:"mr-2 h-4 w-4 animate-spin"}),"Validando..."]}):s.isValidated?i.jsxs(i.Fragment,{children:[i.jsx(ug,{className:"mr-2 h-4 w-4"}),"API Validada"]}):i.jsxs(i.Fragment,{children:[i.jsx($i,{className:"mr-2 h-4 w-4"}),"Validar API"]})})]})]}),s.isValidated&&i.jsxs(me,{className:_("border-2",e?"bg-[#18181b] border-[#3f3f46]":"bg-white border-gray-200"),children:[i.jsxs(at,{children:[i.jsxs(ot,{className:"flex items-center gap-2",children:[i.jsx(yn,{className:"w-5 h-5"}),"Gerenciar Instncias"]}),i.jsx(Us,{children:"Crie novas instncias ou visualize as existentes."})]}),i.jsxs(pe,{className:"space-y-4",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Fe,{placeholder:"Ex: minha-loja-principal",value:c,onChange:M=>u(M.target.value),disabled:g,className:_("flex-grow",e?"bg-[#27272a] border-[#3f3f46]":"bg-white border-gray-300")}),i.jsx(K,{onClick:T,disabled:g,className:_("bg-blue-600 hover:bg-blue-700 text-white",g&&"bg-gray-400 hover:bg-gray-400"),children:g?i.jsxs(i.Fragment,{children:[i.jsx(to,{className:"mr-2 h-4 w-4 animate-spin"}),"Criando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ql,{className:"mr-2 h-4 w-4"}),"Criar Instncia"]})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{children:"Instncias Existentes:"}),s.instances.length===0?i.jsx("p",{className:"text-gray-500",children:"Nenhuma instncia encontrada."}):s.instances.map(M=>(console.log(" [EVOLUTION_API_SETTINGS] Renderizando instncia:",M),i.jsxs("div",{className:_("flex items-center justify-between p-3 border rounded-md",e?"bg-[#27272a] border-[#3f3f46]":"bg-gray-50 border-gray-200"),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[ie(M.status),i.jsx("span",{className:"font-semibold",children:M.profileName||M.instanceName}),M.number&&i.jsxs("span",{className:"text-sm text-gray-500",children:["(",M.number,")"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[(M.status==="connecting"||M.status==="close"||M.status==="unknown")&&i.jsxs(K,{variant:"outline",size:"sm",onClick:async()=>{l({isOpen:!0,qrCode:"",instanceName:M.instanceName,loading:!0});try{const te=await new ca({baseUrl:s.baseUrl,apiKey:s.apiKey,instanceName:M.instanceName}).getQRCodeForInstance(M.instanceName);if(te.success&&te.qrCode){const ge=te.qrCode.startsWith("data:image")?te.qrCode:`data:image/png;base64,${te.qrCode}`;l(Q=>({...Q,qrCode:ge,loading:!1}))}else l(ge=>({...ge,loading:!1})),n({title:"Erro",description:te.error||"Erro ao obter QR Code",variant:"destructive"})}catch(z){l(te=>({...te,loading:!1})),n({title:"Erro",description:`Erro ao obter QR Code: ${z}`,variant:"destructive"})}},className:_(e?"border-[#3f3f46] text-white":"border-gray-300 text-gray-700"),children:[i.jsx(Ff,{className:"mr-2 h-4 w-4"}),"Ver QR Code"]}),M.status==="open"&&i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>$(M.instanceName),disabled:j===M.instanceName,className:_("border-orange-500 text-orange-600 hover:bg-orange-50",e?"border-orange-400 text-orange-400 hover:bg-orange-900/20":""),children:[j===M.instanceName?i.jsx(to,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(Pd,{className:"mr-2 h-4 w-4"}),"Desconectar"]}),i.jsxs(K,{variant:"destructive",size:"sm",onClick:()=>N(M.instanceName),disabled:S===M.instanceName,children:[S===M.instanceName?i.jsx(to,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(Id,{className:"mr-2 h-4 w-4"}),"Excluir"]})]})]},M.instanceName)))]})]})]}),s.isValidated&&i.jsxs(me,{className:_("border-2",e?"bg-[#18181b] border-[#3f3f46]":"bg-white border-gray-200"),children:[i.jsxs(at,{children:[i.jsxs(ot,{className:"flex items-center gap-2",children:[i.jsx(Xy,{className:"w-5 h-5"}),"Vincular Canal  Instncia"]}),i.jsx(Us,{children:"Associe um canal de comunicao a uma instncia da API Evolution."})]}),i.jsxs(pe,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx(de,{htmlFor:"selectChannel",children:"Selecionar Canal"}),i.jsxs(Qs,{onValueChange:m,value:h,disabled:E,children:[i.jsx(Zn,{id:"selectChannel",className:_(e?"bg-[#27272a] border-[#3f3f46]":"bg-white border-gray-300"),children:i.jsx(Js,{placeholder:"Selecione um canal"})}),i.jsx(Xn,{className:_(e?"bg-[#27272a] border-[#3f3f46] text-white":"bg-white border-gray-300 text-gray-900"),children:P.map(M=>i.jsx(Ft,{value:M.id,children:M.name},M.id))})]})]}),i.jsxs("div",{children:[i.jsx(de,{htmlFor:"selectInstance",children:"Selecionar Instncia"}),i.jsxs(Qs,{onValueChange:v,value:w,disabled:E,children:[i.jsx(Zn,{id:"selectInstance",className:_(e?"bg-[#27272a] border-[#3f3f46]":"bg-white border-gray-300"),children:i.jsx(Js,{placeholder:"Selecione uma instncia"})}),i.jsx(Xn,{className:_(e?"bg-[#27272a] border-[#3f3f46] text-white":"bg-white border-gray-300 text-gray-900"),children:s.instances.map(M=>i.jsx(Ft,{value:M.instanceName,children:M.profileName||M.instanceName},M.instanceName))})]})]})]}),i.jsx(K,{onClick:W,disabled:E||!h||!w,className:_("w-full bg-green-600 hover:bg-green-700 text-white",(E||!h||!w)&&"bg-gray-400 hover:bg-gray-400"),children:E?i.jsxs(i.Fragment,{children:[i.jsx(to,{className:"mr-2 h-4 w-4 animate-spin"}),"Vinculando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Xy,{className:"mr-2 h-4 w-4"}),"Vincular Canal"]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{children:"Canais Vinculados:"}),d.length===0?i.jsx("p",{className:"text-gray-500",children:"Nenhum canal vinculado."}):d.map(M=>i.jsxs("div",{className:_("flex items-center justify-between p-3 border rounded-md",e?"bg-[#27272a] border-[#3f3f46]":"bg-gray-50 border-gray-200"),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[ie(M.isActive?"open":"close"),i.jsx("span",{className:"font-semibold",children:M.channelName}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",M.instanceName,")"]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>oe(M.id),className:_(e?"border-[#3f3f46] text-white":"border-gray-300 text-gray-700"),children:[i.jsx(UO,{className:"mr-2 h-4 w-4"}),"Desvincular"]})})]},M.id))]})]})]})]}),i.jsx(Ci,{open:o.isOpen,onOpenChange:M=>l(z=>({...z,isOpen:M})),children:i.jsxs(Qa,{className:"sm:max-w-md",children:[i.jsx(Ja,{children:i.jsxs(Za,{className:"flex items-center gap-2",children:[i.jsx(Ff,{className:"h-5 w-5"}),"Conectar WhatsApp"]})}),i.jsx("div",{className:"flex flex-col items-center space-y-4 p-4",children:o.loading?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(to,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Gerando QR Code..."})]}):o.qrCode?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:o.qrCode,alt:"QR Code WhatsApp",className:"w-64 h-64 border border-gray-300 rounded-lg"}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Escaneie com seu WhatsApp"}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Instncia: ",o.instanceName]}),i.jsx("p",{className:"text-xs text-gray-400",children:"QR Code expira em alguns minutos"})]})]}):i.jsx("p",{className:"text-red-500",children:"Erro ao carregar QR Code"})})]})})]})},FF=({isDarkMode:e})=>i.jsx("div",{className:"space-y-6",children:i.jsx(DF,{isDarkMode:e,channelId:"default"})}),UF=({isDarkMode:e,toggleDarkMode:t,isMobile:r=!1})=>{const[n,s]=p.useState("main"),a=()=>{n!=="main"&&s("main")},o=()=>{switch(n){case"users":return"Gerenciamento de Usurios";case"audit":return"Histrico de Auditoria";case"credentials":return"Alterar Credenciais";case"notifications":return"Configuraes de Notificao";case"channels":return"Gerenciar Canais";case"system":return"Sistema";case"backup":return"Backup e Dados";case"ai":return"Configuraes de IA";case"evolution":return"API Evolution";default:return"Configuraes"}},l=()=>{switch(n){case"users":return i.jsx(mF,{isDarkMode:e});case"audit":return i.jsx(pF,{isDarkMode:e});case"credentials":return i.jsx(EF,{isDarkMode:e});case"notifications":return i.jsx(OF,{isDarkMode:e});case"channels":return i.jsx(RF,{isDarkMode:e});case"system":return i.jsx(IF,{isDarkMode:e});case"backup":return i.jsx(LF,{isDarkMode:e});case"ai":return i.jsx($F,{isDarkMode:e});case"evolution":return i.jsx(FF,{isDarkMode:e});default:return i.jsx(fF,{isDarkMode:e,onSectionChange:s,toggleDarkMode:t})}};return i.jsxs("div",{className:_("h-full flex flex-col",e?"bg-background":"bg-gray-50"),children:[i.jsxs("div",{className:_("flex items-center gap-4 p-6 mb-6",e?"text-card-foreground":"text-gray-900"),children:[n!=="main"&&i.jsx(K,{variant:"ghost",size:"icon",onClick:a,className:_("rounded-full",e?"text-muted-foreground hover:bg-accent":"text-gray-600 hover:bg-gray-100"),children:i.jsx(v_,{size:20})}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:i.jsx(yn,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h1",{className:_("text-3xl font-bold",e?"text-card-foreground":"text-gray-900"),children:o()}),i.jsx("p",{className:_("text-lg",e?"text-muted-foreground":"text-gray-600"),children:n==="main"?"Gerencie suas preferncias e configuraes do sistema":"Configure e personalize suas opes"})]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-6",children:l()})]})},zF=({isDarkMode:e})=>i.jsx("div",{className:"text-left mb-8",children:i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"p-3 rounded-full bg-[#b5103c]/10",children:i.jsx(Qn,{size:32,className:"text-[#b5103c]",strokeWidth:1.5})}),i.jsxs("div",{children:[i.jsx("h1",{className:_("text-3xl font-bold",e?"text-white":"text-gray-900"),children:"Mensagens"}),i.jsx("p",{className:_("text-lg",e?"text-[#a1a1aa]":"text-gray-600"),children:"Central de comunicao com seus clientes"})]})]})}),VF=({activeTab:e,onTabChange:t,isDarkMode:r})=>i.jsxs("div",{className:"flex space-x-1 p-1 bg-gray-100 dark:bg-[#18181b] rounded-lg max-w-xs",children:[i.jsx(K,{variant:e==="canais"?"default":"ghost",size:"sm",onClick:()=>t("canais"),className:_("flex-1 text-xs px-2 py-1",e==="canais"?"bg-white dark:bg-[#27272a] text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:"Canais"}),i.jsx(K,{variant:e==="contatos"?"default":"ghost",size:"sm",onClick:()=>t("contatos"),className:_("flex-1 text-xs px-2 py-1",e==="contatos"?"bg-white dark:bg-[#27272a] text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:"Contatos"})]}),BF=({channels:e,onChannelClick:t,isDarkMode:r})=>{const[n,s]=B.useState(new Set),a=(c,u)=>{c.stopPropagation(),s(d=>{const f=new Set(d);return f.has(u)?f.delete(u):f.add(u),f})},o=c=>{switch(c){case"IA Assistant":return i.jsx(Du,{size:20,className:"text-[#b5103c]"});case"Loja":return i.jsx(T_,{size:20,className:"text-[#b5103c]"});case"Gerente":return i.jsx(fg,{size:20,className:"text-[#b5103c]"});default:return i.jsx(_n,{size:20,className:"text-[#b5103c]"})}},l=B.useMemo(()=>[...e].sort((c,u)=>{const d=n.has(c.id),f=n.has(u.id);return d&&!f?-1:!d&&f?1:c.conversasNaoLidas!==u.conversasNaoLidas?u.conversasNaoLidas-c.conversasNaoLidas:c.nome.localeCompare(u.nome)}),[e,n]);return i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:l.map(c=>i.jsx(me,{className:_("cursor-pointer transition-all duration-200 hover:scale-105 group relative overflow-hidden",r?"bg-[#18181b] border-[#3f3f46] hover:border-[#52525b]":"bg-white border-gray-200 hover:border-gray-300",n.has(c.id)&&"ring-2 ring-[#b5103c] ring-opacity-50",c.conversasNaoLidas>0&&"shadow-lg"),onClick:()=>t(c.id),children:i.jsxs(pe,{className:"p-4 relative",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:_("p-2 rounded-md relative",r?"bg-[#27272a]":"bg-gray-100"),children:[o(c.tipo),c.conversasNaoLidas>0&&i.jsx(tr,{className:"absolute -top-1 -right-1 bg-[#b5103c] text-white h-5 min-w-[20px] flex items-center justify-center text-xs font-bold px-1",children:c.conversasNaoLidas>99?"99+":c.conversasNaoLidas})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:_("font-semibold text-sm truncate flex items-center gap-1",r?"text-white":"text-gray-900"),children:[c.nome,n.has(c.id)&&i.jsx(Uu,{size:12,className:"text-[#b5103c] fill-current"})]}),i.jsx(K,{variant:"ghost",size:"sm",onClick:u=>a(u,c.id),className:_("p-1 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity duration-200",n.has(c.id)&&"opacity-100"),children:n.has(c.id)?i.jsx(IO,{size:14,className:"text-[#b5103c]"}):i.jsx(Uu,{size:14,className:"text-gray-500"})})]}),i.jsx("p",{className:_("text-xs",r?"text-gray-400":"text-gray-500"),children:c.tipo})]})]}),i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(tr,{className:_("text-xs",c.status==="ativo"?"bg-[#b5103c] text-white":"bg-gray-400 text-white"),children:c.status==="ativo"?"Ativo":"Inativo"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(N_,{size:12,className:"text-gray-400"}),i.jsx("span",{className:_("text-xs",r?"text-gray-400":"text-gray-500"),children:c.ultimaAtividade})]})]})})]}),i.jsx("div",{className:_("absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-200 pointer-events-none",r?"bg-white":"bg-black")})]})},c.id))})};var ov="Progress",iv=100,[WF,OU]=hr(ov),[HF,GF]=WF(ov),BE=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=qF,...o}=e;(s||s===0)&&!_x(s)&&console.error(KF(`${s}`,"Progress"));const l=_x(s)?s:iv;n!==null&&!Sx(n,l)&&console.error(YF(`${n}`,"Progress"));const c=Sx(n,l)?n:null,u=rd(c)?a(c,l):void 0;return i.jsx(HF,{scope:r,value:c,max:l,children:i.jsx(fe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":rd(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":GE(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});BE.displayName=ov;var WE="ProgressIndicator",HE=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=GF(WE,r);return i.jsx(fe.div,{"data-state":GE(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});HE.displayName=WE;function qF(e,t){return`${Math.round(e/t*100)}%`}function GE(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function rd(e){return typeof e=="number"}function _x(e){return rd(e)&&!isNaN(e)&&e>0}function Sx(e,t){return rd(e)&&!isNaN(e)&&e<=t&&e>=0}function KF(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${iv}\`.`}function YF(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${iv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var qE=BE,QF=HE;const KE=p.forwardRef(({className:e,value:t,...r},n)=>i.jsx(qE,{ref:n,className:_("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(QF,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));KE.displayName=qE.displayName;class nd{static async getContactsForChannels(t){const r=t.sort().join("-"),n=this.cache.get(r);if(n&&Date.now()-n.timestamp<this.CACHE_DURATION)return console.log(` [OPTIMIZED_CONTACT_SERVICE] Using cached data for channels: ${t.join(", ")}`),n.data;console.log(` [OPTIMIZED_CONTACT_SERVICE] Loading contacts for channels: ${t.join(", ")}`);try{const s=t.map(async u=>{try{return(await new xn(u).getConversations()).map(h=>{const m=h.contact_phone||"";if(!m)return null;const w=h.contact_name||`Cliente ${m.slice(-4)}`,v=h.status||"unread";let y;switch(v){case"unread":y="pendente";break;case"in_progress":y="em_andamento";break;case"resolved":y="resolvida";break;default:y="pendente"}const x=h.last_message_time?new Date(h.last_message_time):new Date(0);return{id:m,nome:w,telefone:m,canais:[u],ultimaMensagem:h.last_message||"Sem mensagem",tempo:this.formatTimeAgo(h.last_message_time),status:y,lastMessageTime:x,channelName:RC(u)}}).filter(h=>h!==null)}catch(d){return console.error(` [OPTIMIZED_CONTACT_SERVICE] Error loading channel ${u}:`,d),[]}}),o=(await Promise.all(s)).flat(),l=new Map;o.forEach(u=>{if(!u)return;const d=l.get(u.telefone);d?(d.canais.includes(u.canais[0])||d.canais.push(u.canais[0]),u.lastMessageTime>d.lastMessageTime&&(d.ultimaMensagem=u.ultimaMensagem,d.tempo=u.tempo,d.status=u.status,d.lastMessageTime=u.lastMessageTime)):l.set(u.telefone,u)});const c=Array.from(l.values()).sort((u,d)=>d.lastMessageTime.getTime()-u.lastMessageTime.getTime());return this.cache.set(r,{data:c,timestamp:Date.now()}),console.log(` [OPTIMIZED_CONTACT_SERVICE] Loaded ${c.length} contacts from ${t.length} channels`),c}catch(s){return console.error(" [OPTIMIZED_CONTACT_SERVICE] Error loading contacts:",s),[]}}static clearCache(){this.cache.clear(),console.log(" [OPTIMIZED_CONTACT_SERVICE] Cache cleared")}static formatTimeAgo(t){if(!t)return"";try{const r=new Date(t),s=new Date().getTime()-r.getTime(),a=Math.floor(s/6e4);if(a<1)return"agora";if(a<60)return`${a}min`;const o=Math.floor(a/60);return o<24?`${o}h`:`${Math.floor(o/24)}d`}catch{return""}}}Re(nd,"cache",new Map),Re(nd,"CACHE_DURATION",3e4);const JF=6e4,ZF=300,XF=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!1),[s,a]=p.useState(null),[o,l]=p.useState(0),[c,u]=p.useState(null),{channels:d}=Ka(),{getAccessibleChannels:f}=Ya(),h=p.useMemo(()=>({"Yelena-AI":"chat",Canarana:"canarana","Souto Soares":"souto-soares","Joo Dourado":"joao-dourado","Amrica Dourada":"america-dourada","Gustavo Gerente das Lojas":"gerente-lojas","Andressa Gerente Externo":"gerente-externo"}),[]),m=p.useMemo(()=>{const g=f(),b=d.filter(S=>S.isActive).map(S=>h[S.name]).filter(S=>S&&g.includes(S));return console.log(" [UNIFIED_CONTACTS] Active channel IDs:",b),b},[d,f,h]),w=p.useMemo(()=>m.sort().join("-"),[m]),v=p.useCallback(()=>!c||c.channelKey!==w?!1:Date.now()-c.timestamp<JF,[c,w]),y=p.useCallback(async(g=!1)=>{if(console.log(" [UNIFIED_CONTACTS] Starting loadContacts",{forceRefresh:g,cacheValid:v(),activeChannels:m.length}),!g&&v()&&c){console.log(" [UNIFIED_CONTACTS] Using cached data"),t(c.data);return}if(m.length===0){console.log(" [UNIFIED_CONTACTS] No active channels"),t([]),n(!1);return}n(!0),a(null),l(10);try{l(30);const b=await nd.getContactsForChannels(m);l(80);const S={data:b,timestamp:Date.now(),channelKey:w};u(S),t(b),l(100),console.log(" [UNIFIED_CONTACTS] Contacts loaded and cached:",b.length)}catch(b){console.error(" [UNIFIED_CONTACTS] Error loading contacts:",b),a("Erro ao carregar contatos"),t([])}finally{n(!1),setTimeout(()=>l(0),500)}},[m,v,c,w]);p.useEffect(()=>{const g=setTimeout(()=>{m.length>0?y():(t([]),n(!1))},ZF);return()=>clearTimeout(g)},[m,y]);const x=p.useCallback(()=>{console.log(" [UNIFIED_CONTACTS] Manual refetch triggered"),nd.clearCache(),u(null),y(!0)},[y]);return{contacts:e,loading:r,error:s,loadingProgress:o,refetch:x,hasChannels:m.length>0}},YE=({isOpen:e,onClose:t,onChannelSelect:r,contactName:n,availableChannels:s,isDarkMode:a})=>{const o=c=>{switch(console.log(" [CHANNEL_SELECTOR] Mapping channel:",c),c.toLowerCase()){case"chat":case"yelena-ai":return"Yelena-AI";case"whatsapp":case"canarana":return"Canarana";case"souto-soares":return"Souto Soares";case"joao-dourado":return"Joo Dourado";case"america-dourada":return"Amrica Dourada";case"gerente-externo":return"Andressa Gerente";case"gerente-lojas":return"Gustavo Gerente";default:return c}},l=c=>{console.log(" [CHANNEL_SELECTOR] Channel selected:",c),r(c)};return i.jsx(Ci,{open:e,onOpenChange:t,children:i.jsxs(Qa,{className:_("sm:max-w-md",a?"bg-[#18181b] border-[#3f3f46]":"bg-white border-gray-200"),children:[i.jsxs(Ja,{children:[i.jsx(Za,{className:_("text-lg font-semibold",a?"text-white":"text-gray-900"),children:"Selecionar Canal"}),i.jsxs("p",{className:_("text-sm",a?"text-gray-400":"text-gray-600"),children:[n," est disponvel em mltiplos canais. Escolha qual conversa deseja abrir:"]})]}),i.jsx("div",{className:"space-y-2",children:s.map(c=>i.jsxs(K,{variant:"outline",onClick:()=>l(c),className:_("w-full justify-start gap-3",a?"border-[#3f3f46] hover:bg-[#27272a]":"border-gray-200 hover:bg-gray-50"),children:[i.jsx(Qn,{size:16,className:"text-[#b5103c]"}),o(c)]},c))})]})})},QE=p.memo(({contact:e,onClick:t,isDarkMode:r})=>{const n=o=>({whatsapp:"Canarana",canarana:"Canarana","souto-soares":"Souto Soares","joao-dourado":"Joo Dourado","america-dourada":"Amrica Dourada","gerente-externo":"Andressa Gerente","gerente-lojas":"Gustavo Gerente",chat:"Yelena-AI"})[o.toLowerCase()]||o,s=o=>({pendente:"bg-red-500",em_andamento:"bg-yellow-500",resolvida:"bg-green-500"})[o]||"bg-gray-500",a=o=>({pendente:"Pendente",em_andamento:"Em Andamento",resolvida:"Resolvida"})[o]||"Desconhecido";return i.jsx(me,{className:_("cursor-pointer transition-all hover:shadow-md",r?"bg-[#18181b] border-[#3f3f46] hover:bg-[#27272a]":"bg-white border-gray-200 hover:bg-gray-50"),onClick:t,children:i.jsx(pe,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:_("w-8 h-8 rounded-full flex items-center justify-center",r?"bg-[#27272a]":"bg-gray-100"),children:i.jsx(_n,{size:16,className:"text-[#b5103c]"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"flex items-center gap-2 mb-1",children:i.jsx("h3",{className:_("font-medium text-sm truncate",r?"text-white":"text-gray-900"),children:e.nome})}),i.jsx("div",{className:"flex flex-wrap gap-1 mb-1",children:e.canais.map((o,l)=>i.jsx("span",{className:_("text-xs px-2 py-0.5 rounded-full",r?"bg-[#3f3f46] text-gray-300":"bg-gray-200 text-gray-700"),children:n(o)},l))}),i.jsx("p",{className:_("text-xs truncate mb-1",r?"text-gray-400":"text-gray-600"),children:e.ultimaMensagem}),i.jsx("p",{className:_("text-xs","text-gray-500"),children:e.telefone})]})]}),i.jsxs("div",{className:"text-right flex flex-col items-end gap-1",children:[i.jsx("span",{className:_("text-xs",r?"text-gray-400":"text-gray-500"),children:e.tempo}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:_("w-2 h-2 rounded-full",s(e.status))}),i.jsx("span",{className:_("text-xs",r?"text-gray-400":"text-gray-500"),children:a(e.status)})]})]})]})})})});QE.displayName="ContactItem";const eU=({contacts:e,onContactClick:t,isDarkMode:r})=>{const{contacts:n,loading:s,error:a,loadingProgress:o,refetch:l,hasChannels:c}=XF(),{getAccessibleChannels:u}=Ya(),[d,f]=p.useState(null),[h,m]=p.useState(!1);console.log(" [CONTACTS_LIST_OPTIMIZED] Hook state:",{realContactsCount:n.length,loading:s,error:a,hasChannels:c});const w=b=>{if(console.log(" [CONTACTS_LIST] Contact clicked:",b),!b.telefone){console.error(" [CONTACTS_LIST] Contact has no phone number:",b);return}if(b.canais.length===1){const S=`/?section=mensagens&channel=${b.canais[0]}&phone=${encodeURIComponent(b.telefone)}`;console.log(" [CONTACTS_LIST] Direct navigation to:",S),window.location.href=S}else b.canais.length>1?(console.log(" [CONTACTS_LIST] Multiple channels, showing modal:",b.canais),f({phone:b.telefone,name:b.nome,channels:b.canais}),m(!0)):console.error(" [CONTACTS_LIST] Contact has no channels:",b)},v=b=>{if(d){const S=`/?section=mensagens&channel=${b}&phone=${encodeURIComponent(d.phone)}`;console.log(" [CONTACTS_LIST] Channel selected, navigating to:",S),window.location.href=S}m(!1),f(null)};if(s)return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#b5103c]"}),i.jsx("p",{className:_("text-sm",r?"text-gray-400":"text-gray-600"),children:"Carregando contatos..."})]}),i.jsx(K,{variant:"ghost",size:"sm",onClick:l,disabled:s,children:i.jsx(ru,{size:16})})]}),o>0&&i.jsx(KE,{value:o,className:"w-full h-2"})]});if(a)return i.jsxs("div",{className:"text-center py-12",children:[i.jsx(_n,{className:_("mx-auto mb-4",r?"text-gray-600":"text-gray-400"),size:48}),i.jsx("p",{className:_("text-lg font-medium",r?"text-white":"text-gray-900"),children:"Erro ao carregar contatos"}),i.jsx("p",{className:_("text-sm mb-4",r?"text-gray-400":"text-gray-500"),children:a}),i.jsxs(K,{variant:"outline",onClick:l,className:"flex items-center gap-2",children:[i.jsx(ru,{size:16}),"Tentar Novamente"]})]});const y=u(),x=y.length>0;console.log(" [CONTACTS_LIST] Permission check:",{hasChannels:c,hasPermissions:x,accessibleChannels:y,realContactsCount:n.length,willShowReal:c&&x&&n.length>0});const g=c&&x&&n.length>0?n:[];return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"space-y-2",children:g.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(_n,{className:_("mx-auto mb-4",r?"text-gray-600":"text-gray-400"),size:48}),i.jsx("p",{className:_("text-lg font-medium",r?"text-white":"text-gray-900"),children:x?"Nenhum contato encontrado":"Sem permisso para visualizar contatos"}),i.jsx("p",{className:_("text-sm",r?"text-gray-400":"text-gray-500"),children:x?"Os contatos aparecero aqui quando houver conversas":"Entre em contato com o administrador para obter acesso"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("p",{className:_("text-sm font-medium",r?"text-gray-300":"text-gray-700"),children:[n.length," contatos encontrados"]}),i.jsxs(K,{variant:"ghost",size:"sm",onClick:l,disabled:s,className:"flex items-center gap-2",children:[i.jsx(ru,{size:14}),"Atualizar"]})]}),g.map(b=>i.jsx(QE,{contact:b,onClick:()=>w(b),isDarkMode:r},b.id))]})}),i.jsx(YE,{isOpen:h,onClose:()=>m(!1),onChannelSelect:v,contactName:(d==null?void 0:d.name)||"",availableChannels:(d==null?void 0:d.channels)||[],isDarkMode:r})]})},tU=({isOpen:e,onClose:t,onSubmit:r,isDarkMode:n})=>{const[s,a]=p.useState({nome:"",telefone:"",canal:""}),o=[{id:"canarana",name:"Canarana WhatsApp"},{id:"souto-soares",name:"Souto Soares WhatsApp"},{id:"joao-dourado",name:"Joo Dourado WhatsApp"},{id:"america-dourada",name:"Amrica Dourada WhatsApp"}],l=c=>{c.preventDefault(),s.nome&&s.telefone&&s.canal&&(r(s),a({nome:"",telefone:"",canal:""}),t())};return i.jsx(Ci,{open:e,onOpenChange:t,children:i.jsxs(Qa,{className:_("sm:max-w-md",n?"bg-[#18181b] border-[#3f3f46]":"bg-white border-gray-200"),children:[i.jsx(Ja,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Za,{className:_("text-lg font-semibold",n?"text-white":"text-gray-900"),children:"Novo Contato"}),i.jsx(K,{variant:"ghost",size:"icon",onClick:t,children:i.jsx(Vn,{size:20})})]})}),i.jsxs("form",{onSubmit:l,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(de,{htmlFor:"nome",className:_("text-sm font-medium",n?"text-white":"text-gray-900"),children:"Nome do Contato *"}),i.jsx(Fe,{id:"nome",type:"text",value:s.nome,onChange:c=>a({...s,nome:c.target.value}),placeholder:"Digite o nome do contato",className:_("mt-1",n?"bg-[#27272a] border-[#3f3f46] text-white":"bg-white border-gray-300"),required:!0})]}),i.jsxs("div",{children:[i.jsx(de,{htmlFor:"telefone",className:_("text-sm font-medium",n?"text-white":"text-gray-900"),children:"Nmero de Telefone *"}),i.jsx(Fe,{id:"telefone",type:"tel",value:s.telefone,onChange:c=>a({...s,telefone:c.target.value}),placeholder:"Ex: 5562992631631",className:_("mt-1",n?"bg-[#27272a] border-[#3f3f46] text-white":"bg-white border-gray-300"),required:!0}),i.jsx("p",{className:_("text-xs mt-1",n?"text-gray-400":"text-gray-600"),children:"Inclua o cdigo do pas (55) + DDD + nmero"})]}),i.jsxs("div",{children:[i.jsx(de,{className:_("text-sm font-medium",n?"text-white":"text-gray-900"),children:"Canal para Envio *"}),i.jsxs(Qs,{value:s.canal,onValueChange:c=>a({...s,canal:c}),children:[i.jsx(Zn,{className:_("mt-1",n?"bg-[#27272a] border-[#3f3f46] text-white":"bg-white border-gray-300"),children:i.jsx(Js,{placeholder:"Selecione um canal"})}),i.jsx(Xn,{className:_(n?"bg-[#27272a] border-[#3f3f46]":"bg-white border-gray-200"),children:o.map(c=>i.jsx(Ft,{value:c.id,children:c.name},c.id))})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(K,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:"Cancelar"}),i.jsx(K,{type:"submit",className:"flex-1 bg-[#b5103c] hover:bg-[#9d0e34] text-white",children:"Criar Contato"})]})]})]})})},rU=({isDarkMode:e,onSectionChange:t,initialChannel:r=null,initialPhone:n=null})=>{const[s,a]=p.useState("canais"),[o,l]=p.useState(""),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,m]=p.useState(!1),[w,v]=p.useState([]),[y,x]=p.useState(""),{channels:g}=Ka(),{getAccessibleChannels:b}=Ya();p.useEffect(()=>{console.log(" [MENSAGENS] Initial params detected:",{channel:r,phone:n}),r&&n&&(console.log(" [MENSAGENS] Opening ChatOverlay for channel:",r),u(r))},[r,n]);const S=P=>({"Yelena-AI":"chat",Canarana:"canarana","Souto Soares":"souto-soares","Joo Dourado":"joao-dourado","Amrica Dourada":"america-dourada","Gustavo Gerente das Lojas":"gerente-lojas","Andressa Gerente Externo":"gerente-externo"})[P.name]||P.id,C=b(),j=g.filter(P=>P.isActive&&P.name!=="Pedro"&&P.name).map(P=>({id:S(P),nome:P.name,tipo:P.type==="general"?"IA Assistant":P.type==="store"?"Loja":P.type==="manager"?"Gerente":"Canal",status:"ativo",conversasNaoLidas:0,ultimaAtividade:"Online"})).filter(P=>C.includes(P.id)),A=async(P,R)=>{console.log("File sending handled by ChatOverlayRefactored")},E=async(P,R)=>{console.log("Audio sending handled by ChatOverlayRefactored")},O=P=>{console.log(" [MENSAGENS] Channel clicked:",P),u(P),console.log(" [MENSAGENS] selectedChannel updated to:",P)},I=()=>{console.log(" [MENSAGENS] Closing chat overlay"),u(null),console.log(" [MENSAGENS] selectedChannel set to null."),window.history.replaceState({},"","/?section=mensagens")};return console.log("Current selectedChannel in MensagensRefactored (before render):",c),c?(console.log("Rendering ChatOverlayRefactored for channel:",c),i.jsx(ZC,{channelId:c,isDarkMode:e,onClose:I,onSendFile:A,onSendAudio:E})):i.jsxs("div",{className:_("flex-1 p-6 space-y-6 overflow-auto",e?"bg-[#09090b]":"bg-gray-50"),children:[i.jsx(zF,{isDarkMode:e}),i.jsx(VF,{activeTab:s,onTabChange:a,isDarkMode:e}),i.jsxs("div",{className:"flex gap-4 items-center",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(Od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),i.jsx(Fe,{placeholder:s==="canais"?"Buscar canais...":"Buscar contatos ou nmeros...",value:o,onChange:P=>l(P.target.value),className:_("pl-10",e?"bg-[#18181b] border-[#3f3f46]":"bg-white border-gray-200")})]}),s==="contatos"&&i.jsxs(K,{onClick:()=>f(!0),className:"bg-[#b5103c] hover:bg-[#9d0e34] text-white",children:[i.jsx(Ql,{size:16,className:"mr-2"}),"Novo Contato"]})]}),s==="canais"?i.jsx(BF,{channels:j,onChannelClick:O,isDarkMode:e}):i.jsx(eU,{contacts:[],onContactClick:()=>{},isDarkMode:e}),i.jsx(tU,{isOpen:d,onClose:()=>f(!1),onSubmit:()=>{},isDarkMode:e}),i.jsx(YE,{isOpen:h,onClose:()=>m(!1),onChannelSelect:()=>{},contactName:y,availableChannels:w,isDarkMode:e})]})},nU=e=>i.jsx(rU,{...e}),sU=({activeSection:e,isDarkMode:t,onSectionChange:r,toggleDarkMode:n})=>{const{urlParams:s}=bg(),a=()=>{switch(e){case"dashboard":return i.jsx(L0,{isDarkMode:t,onSectionSelect:r});case"mensagens":const o=s.get("channel"),l=s.get("phone");return i.jsx(nU,{isDarkMode:t,onSectionChange:r,initialChannel:o,initialPhone:l});case"exams":case"exames":return i.jsx(A6,{isDarkMode:t});case"reports":return i.jsx(dF,{});case"settings":return i.jsx(UF,{isDarkMode:t,toggleDarkMode:n||(()=>{})});default:return i.jsx(L0,{isDarkMode:t,onSectionSelect:r})}};return i.jsx("div",{className:"flex-1 overflow-hidden",children:a()})},aU=()=>{const{activeSection:e,setActiveSection:t,isSidebarVisible:r,isSidebarCollapsed:n,setIsSidebarCollapsed:s,isDarkMode:a,toggleDarkMode:o}=bg(),[l,c]=p.useState(null);p.useMemo(()=>["chat","canarana","souto-soares","joao-dourado","america-dourada","gerente-lojas","gerente-externo"],[]),p.useEffect(()=>{s(e!=="dashboard")},[e,s]);const u=f=>{t(f)},d=()=>{e!=="dashboard"&&s(!n)};return i.jsxs("div",{className:_("flex h-screen transition-colors overflow-hidden",a&&"dark"),style:{backgroundColor:a?"hsl(var(--background))":"#f9fafb"},children:[i.jsx("div",{className:"hidden lg:block",children:i.jsx($L,{activeSection:e,onSectionChange:u,isDarkMode:a,toggleDarkMode:o,isVisible:!0,isCollapsed:n,onToggleCollapse:d,showCollapseButton:e!=="dashboard"})}),i.jsx("div",{className:"flex-1 overflow-auto",children:i.jsx("div",{className:"h-full",children:i.jsx(sU,{activeSection:e,isDarkMode:a,onSectionChange:u,toggleDarkMode:o})})}),i.jsx("nav",{role:"navigation","aria-label":"Navegao mobile",className:"lg:hidden",children:i.jsx(ML,{activeSection:e,onSectionChange:u,isDarkMode:a})})]})},oU=()=>{const{isAuthenticated:e,user:t}=ts(),{activeSection:r}=bg();return console.log(" [MAIN_LAYOUT] Verificando autenticao:",{isAuthenticated:e,user:t==null?void 0:t.name,activeSection:r}),e?(console.log(" [MAIN_LAYOUT] Usurio autenticado - mostrando aplicao principal"),i.jsx(r3,{activeSection:r,children:i.jsx(aU,{})})):(console.log(" [MAIN_LAYOUT] Usurio no autenticado - mostrando LoginForm"),i.jsx(xS,{title:"Login - Villa Glamour",description:"Acesse o sistema de atendimento Villa Glamour",keywords:"login, acesso, villa glamour, atendimento",children:i.jsx(X4,{})}))},iU=()=>(console.log(" [MAIN_LAYOUT] Renderizando MainLayout"),i.jsx(t3,{children:i.jsx(oU,{})})),lU=new lA;function cU(){return console.log(" [APP] Inicializando aplicao - estrutura corrigida"),i.jsx(V4,{children:i.jsx(uA,{client:lU,children:i.jsx(Fk,{children:i.jsx(fA,{defaultTheme:"system",storageKey:"vite-ui-theme",children:i.jsx(BP,{children:i.jsxs(W4,{children:[i.jsx(iU,{}),i.jsx(GO,{}),i.jsx(CR,{})]})})})})})})}fh.createRoot(document.getElementById("root")).render(i.jsx(B.StrictMode,{children:i.jsx(cU,{})}));export{bi as _,br as c,Ox as g};
